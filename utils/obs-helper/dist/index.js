/*
 * Copyright 2021, 2022, 2023 LuoJiaNET Research and Development Group, Wuhan University
 * Copyright 2021, 2022, 2023 Huawei Technologies Co., Ltd
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ============================================================================
 */

(()=>{var e={3842:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;var i=Object.getOwnPropertyDescriptor(t,r);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[r]}}}Object.defineProperty(e,n,i)}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.prototype.hasOwnProperty.call(e,r))n(t,e,r);i(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.getObsClient=t.getBucketInputs=t.getObjectInputs=t.getCommonInputs=t.getOperationType=void 0;const s=o(r(2186));const a=o(r(2166));function getOperationType(){return s.getInput("operation_type",{required:true})}t.getOperationType=getOperationType;function getCommonInputs(){return{accessKey:a.getCredential("access_key",true),secretKey:a.getCredential("secret_key",true),endpoint:a.getCredential("endpoint",true),region:s.getInput("region",{required:true}),operationType:s.getInput("operation_type",{required:true}),bucketName:s.getInput("bucket_name",{required:true})}}t.getCommonInputs=getCommonInputs;function getObjectInputs(){var e;return{accessKey:a.getCredential("access_key",true),secretKey:a.getCredential("secret_key",true),endpoint:a.getCredential("endpoint",true),region:s.getInput("region",{required:true}),operationType:s.getInput("operation_type",{required:true}),bucketName:s.getInput("bucket_name",{required:true}),localFilePath:s.getMultilineInput("local_file_path",{required:false}),obsFilePath:s.getInput("obs_file_path",{required:false}),includeSelfFolder:(e=s.getBooleanInput("include_self_folder",{required:false}))!==null&&e!==void 0?e:false,exclude:s.getMultilineInput("exclude",{required:false})}}t.getObjectInputs=getObjectInputs;function getBucketInputs(){return{accessKey:a.getCredential("access_key",true),secretKey:a.getCredential("secret_key",true),endpoint:a.getCredential("endpoint",true),region:s.getInput("region",{required:true}),operationType:s.getInput("operation_type",{required:true}),bucketName:s.getInput("bucket_name",{required:true}),publicRead:s.getBooleanInput("public_read",{required:false}),storageClass:s.getInput("storage_class",{required:false}),clearBucket:s.getBooleanInput("clear_bucket",{required:false})}}t.getBucketInputs=getBucketInputs;function getObsClient(e,t,n){const i=r(2600);try{const r=new i({access_key_id:e,secret_access_key:t,server:n});return r}catch(e){s.setFailed("init obs client fail.")}}t.getObsClient=getObsClient},2166:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;var i=Object.getOwnPropertyDescriptor(t,r);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[r]}}}Object.defineProperty(e,n,i)}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.prototype.hasOwnProperty.call(e,r))n(t,e,r);i(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.getCredential=void 0;const s=o(r(2186));const a=new Map([["access_key","HUAWEI_CLOUD_ACCESS_KEY_ID"],["secret_key","HUAWEI_CLOUD_SECRET_ACCESS_KEY"],["endpoint","HUAWEI_CLOUD_ENDPOINT"],["region","HUAWEI_CLOUD_REGION"],["project_id","HUAWEI_CLOUD_PROJECT_ID"]]);function getCredential(e,t){const r=a.get(e)||"";const n=process.env[r];const i=n!==null&&n!==void 0?n:s.getInput(e,{required:false});if(t&&!i){s.setFailed(`The Huawei Cloud credential input ${e} is not correct. Please switch to using huaweicloud/auth-action which supports authenticating to Huawei Cloud.`)}return i}t.getCredential=getCredential},3109:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;var i=Object.getOwnPropertyDescriptor(t,r);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[r]}}}Object.defineProperty(e,n,i)}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.prototype.hasOwnProperty.call(e,r))n(t,e,r);i(t,e);return t};var s=this&&this.__awaiter||function(e,t,r,n){function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,i){function fulfilled(e){try{step(n.next(e))}catch(e){i(e)}}function rejected(e){try{step(n["throw"](e))}catch(e){i(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});const a=o(r(2186));const c=o(r(3842));const l=o(r(918));const u=o(r(9162));const d=o(r(1140));const p=o(r(7610));function run(){return s(this,void 0,void 0,(function*(){const e=c.getCommonInputs();if(!l.checkCommonInputs(e)){return}const t=c.getObsClient(e.accessKey,e.secretKey,`${e.endpoint}`);const r=l.getOperationCategory(c.getOperationType());if(r==="object"){handleObject(t)}else if(r==="bucket"){handleBucket(t)}else{a.setFailed(`please check your operation_type. you can use 'download', 'upload', 'createbucket' or 'deletebucket'.`)}}))}function handleObject(e){return s(this,void 0,void 0,(function*(){const t=c.getObjectInputs();if(!l.checkObjectInputs(t)){return}if(!(yield p.hasBucket(e,t.bucketName))){a.setFailed(`The bucket: ${t.bucketName} does not exists.`);return}if(t.operationType==="upload"){yield u.uploadFileOrFolder(e,t)}if(t.operationType==="download"){yield d.downloadFileOrFolder(e,t)}}))}function handleBucket(e){var t;return s(this,void 0,void 0,(function*(){const r=c.getBucketInputs();if(!l.checkBucketInputs(r)){return}if(r.operationType.toLowerCase()==="createbucket"){p.createBucket(e,r.bucketName,r.region,r.publicRead,l.getStorageClass((t=r.storageClass)!==null&&t!==void 0?t:""))}if(r.operationType.toLowerCase()==="deletebucket"){yield p.deleteBucket(e,r.bucketName,r.clearBucket)}}))}run()},7610:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;var i=Object.getOwnPropertyDescriptor(t,r);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[r]}}}Object.defineProperty(e,n,i)}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.prototype.hasOwnProperty.call(e,r))n(t,e,r);i(t,e);return t};var s=this&&this.__awaiter||function(e,t,r,n){function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,i){function fulfilled(e){try{step(n.next(e))}catch(e){i(e)}}function rejected(e){try{step(n["throw"](e))}catch(e){i(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.deleteBucket=t.abortAllMultipartUpload=t.deleteAllObjects=t.clearBuckets=t.isBucketEmpty=t.getAllMultipartUploads=t.listMultipartUploads=t.getAllVersionObjects=t.listVersionObjects=t.getAllObjects=t.listObjects=t.getBucketVersioning=t.createBucket=t.hasBucket=void 0;const a=o(r(2186));function hasBucket(e,t){return s(this,void 0,void 0,(function*(){const r=yield e.headBucket({Bucket:t});return!(r.CommonMsg.Status===404)}))}t.hasBucket=hasBucket;function createBucket(e,t,r,n,i){return s(this,void 0,void 0,(function*(){if(yield hasBucket(e,t)){a.setFailed(`The bucket: ${t} already exists.`);return false}e.createBucket({Bucket:t,Location:r,ACL:n?e.enums["AclPublicRead"]:e.enums["AclPrivate"],StorageClass:i?e.enums[i]:""}).then((e=>{if(e.CommonMsg.Status<300){if(e.InterfaceResult){a.info(`create bucket: ${t} Successfully.`);return true}}else{a.setFailed(`create bucket: ${t} failed, ${e.CommonMsg.Code}.`);return false}})).catch((e=>{a.setFailed(`create bucket: ${t} failed, ${e}.`);return false}));return false}))}t.createBucket=createBucket;function getBucketVersioning(e,t){return s(this,void 0,void 0,(function*(){const r=yield e.getBucketVersioning({Bucket:t});if(r.CommonMsg.Status<300){return r.InterfaceResult.VersionStatus}else{a.info(`get bucket versioning failed because ${r.CommonMsg.Code}`);return""}}))}t.getBucketVersioning=getBucketVersioning;function listObjects(e,t,r,n){return s(this,void 0,void 0,(function*(){return yield e.listObjects({Bucket:t,Prefix:r,Marker:n!==null&&n!==void 0?n:""})}))}t.listObjects=listObjects;function getAllObjects(e,t,r){return s(this,void 0,void 0,(function*(){const n=[];let i=true;let o=r;while(i){const r=yield listObjects(e,t,"",o);r.InterfaceResult.Contents.forEach((e=>{n.push({Key:e["Key"]})}));i=r.InterfaceResult.IsTruncated==="true";o=r.InterfaceResult.NextMarker}return n}))}t.getAllObjects=getAllObjects;function listVersionObjects(e,t,r,n){return s(this,void 0,void 0,(function*(){return yield e.listVersions({Bucket:t,KeyMarker:r!==null&&r!==void 0?r:"",VersionIdMarker:n!==null&&n!==void 0?n:""})}))}t.listVersionObjects=listVersionObjects;function getAllVersionObjects(e,t,r,n){return s(this,void 0,void 0,(function*(){const i=[];let o=true;let s=r;let a=n;while(o){const r=yield listVersionObjects(e,t,s,a);r.InterfaceResult.Versions.forEach((e=>{i.push({Key:e["Key"],VersionId:e["VersionId"]})}));r.InterfaceResult.DeleteMarkers.forEach((e=>{i.push({Key:e["Key"],VersionId:e["VersionId"]})}));o=r.InterfaceResult.IsTruncated==="true";s=r.InterfaceResult.NextKeyMarker;a=r.InterfaceResult.NextVersionIdMarker}return i}))}t.getAllVersionObjects=getAllVersionObjects;function listMultipartUploads(e,t,r,n){return s(this,void 0,void 0,(function*(){return yield e.listMultipartUploads({Bucket:t,KeyMarker:r!==null&&r!==void 0?r:"",UploadIdMarker:n!==null&&n!==void 0?n:""})}))}t.listMultipartUploads=listMultipartUploads;function getAllMultipartUploads(e,t,r,n){return s(this,void 0,void 0,(function*(){const i=[];let o=true;let s=r;let a=n;while(o){const r=yield listMultipartUploads(e,t,s,a);r.InterfaceResult.Uploads.forEach((e=>{i.push({Key:e["Key"],UploadId:e["UploadId"]})}));o=r.InterfaceResult.IsTruncated==="true";s=r.InterfaceResult.NextKeyMarker;a=r.InterfaceResult.NextUploadIdMarker}return i}))}t.getAllMultipartUploads=getAllMultipartUploads;function isBucketEmpty(e,t){return s(this,void 0,void 0,(function*(){const r=yield getBucketVersioning(e,t);if(r==="Enabled"){return(yield getAllVersionObjects(e,t)).length+(yield getAllMultipartUploads(e,t)).length===0}else if(r==="Suspended"||r===undefined){return(yield getAllObjects(e,t)).length+(yield getAllMultipartUploads(e,t)).length===0}return false}))}t.isBucketEmpty=isBucketEmpty;function clearBuckets(e,t){return s(this,void 0,void 0,(function*(){a.info("start clear bucket");const r=yield deleteAllObjects(e,t);const n=yield abortAllMultipartUpload(e,t);if(r&&n){a.info(`bucket: ${t} cleared successfully.`);return true}return false}))}t.clearBuckets=clearBuckets;function deleteAllObjects(e,t){return s(this,void 0,void 0,(function*(){const r=yield getBucketVersioning(e,t);let n=[];if(r==="Enabled"){n=yield getAllVersionObjects(e,t)}else if(r==="Suspended"||r===undefined){n=yield getAllObjects(e,t)}else{return false}if(n.length===0){return true}a.info("start clear objects.");while(n.length>1e3){yield deleteObjects(e,t,n.splice(0,1e3))}yield deleteObjects(e,t,n);n=yield getAllObjects(e,t);if(n.length>0){a.info("delete all objects failed, please try again or delete objects by yourself.");return false}else{a.info("finish clear objects.");return true}}))}t.deleteAllObjects=deleteAllObjects;function deleteObjects(e,t,r){return s(this,void 0,void 0,(function*(){yield e.deleteObjects({Bucket:t,Quiet:false,Objects:r}).then((e=>{if(e.CommonMsg.Status===400){a.info(`Delete failed because ${e.CommonMsg.Code}`)}else if(e.InterfaceResult.Errors.length>0){a.info(`Failed to delete objects: ${e.InterfaceResult.Errors}.`)}else{a.info(`Successfully delete ${r.length} objects.`)}}))}))}function abortAllMultipartUpload(e,t){return s(this,void 0,void 0,(function*(){const r=yield getAllMultipartUploads(e,t);if(r.length===0){return true}a.info("start clear part.");for(const n of r){yield e.abortMultipartUpload({Bucket:t,Key:n.Key,UploadId:n.UploadId})}a.info("finish clear part.");return true}))}t.abortAllMultipartUpload=abortAllMultipartUpload;function deleteBucket(e,t,r){return s(this,void 0,void 0,(function*(){if(!(yield hasBucket(e,t))){a.setFailed(`The bucket: ${t} does not exists.`);return false}let n=yield isBucketEmpty(e,t);if(!n&&!r){a.setFailed('some object or parts already exist in bucket, please delete them first or set parameter "clear_bucket" as true.');return false}if(!n){n=yield clearBuckets(e,t)}e.deleteBucket({Bucket:t}).then((e=>{if(e.CommonMsg.Status<300){a.info(`delete bucket: ${t} successfully.`);return true}else{a.setFailed(`delete bucket: ${t} failed, ${e.CommonMsg.Code}.`)}})).catch((e=>{a.setFailed(`delete bucket: ${t} failed, ${e}.`)}));return false}))}t.deleteBucket=deleteBucket},1140:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;var i=Object.getOwnPropertyDescriptor(t,r);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[r]}}}Object.defineProperty(e,n,i)}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.prototype.hasOwnProperty.call(e,r))n(t,e,r);i(t,e);return t};var s=this&&this.__awaiter||function(e,t,r,n){function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,i){function fulfilled(e){try{step(n.next(e))}catch(e){i(e)}}function rejected(e){try{step(n["throw"](e))}catch(e){i(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))};var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});t.getDownloadList=t.getLocalFileName=t.downloadFile=t.downloadFolder=t.createLocalRootFolder=t.getDownloadRoot=t.pathIsSingleFile=t.downloadFileOrFolder=void 0;const c=o(r(5747));const l=a(r(5622));const u=o(r(2186));const d=o(r(7610));const p=o(r(918));function downloadFileOrFolder(e,t){return s(this,void 0,void 0,(function*(){const r=p.replaceSlash(l.default.normalize(t.localFilePath[0]));const n=yield getDownloadList(e,t,t.obsFilePath);if(n.length<1){u.setFailed("object not exist in obs or no object needed downloaded.");return}if(pathIsSingleFile(n,t.obsFilePath)){const i=p.isEndWithSlash(r)?`${r}${l.default.basename(n[0])}`:r;yield downloadFile(e,t,n[0],i)}else{yield downloadFilesFromObs(e,t,n,r)}}))}t.downloadFileOrFolder=downloadFileOrFolder;function pathIsSingleFile(e,t){return e.length===1&&e[0]===t&&!p.isEndWithSlash(e[0])}t.pathIsSingleFile=pathIsSingleFile;function downloadFilesFromObs(e,t,r,n){return s(this,void 0,void 0,(function*(){const i=getDownloadRoot(n,t.obsFilePath,!!t.includeSelfFolder);if(i!==""&&p.replaceSlash(l.default.normalize(i))!=="/"){createLocalRootFolder(p.replaceSlash(l.default.normalize(i)))}let o="";for(const n of r){if(o===""||!n.match(`^${o}`)){let s=`${i}${p.getPathWithoutRootPath(p.getStringDelLastSlash(t.obsFilePath),n)}`;if(r.indexOf(`${s}/`)!==-1){s=`${s}${(new Date).valueOf()}`}if(p.isEndWithSlash(s)){if(p.isExistSameNameFile(s)){u.info(`download folder "${s}" failed, because there is already a file with the same name".`);o=n}else{o=downloadFolder(s)}}else{yield downloadFile(e,t,n,s)}}}}))}function getDownloadRoot(e,t,r){return r?`${p.getStringDelLastSlash(e)}/${p.getStringDelLastSlash(t).split("/").pop()}`:p.getStringDelLastSlash(e)}t.getDownloadRoot=getDownloadRoot;function createLocalRootFolder(e){let t=e.startsWith("/")?"/":"";for(const r of e.split("/")){t=l.default.join(t,r);p.createFolder(t)}}t.createLocalRootFolder=createLocalRootFolder;function downloadFolder(e){const t=p.createFolder(e);if(t){return""}else{u.setFailed(`failed to create folder: "${e}"`);return e}}t.downloadFolder=downloadFolder;function downloadFile(e,t,r,n){return s(this,void 0,void 0,(function*(){let i=n!==null&&n!==void 0?n:getLocalFileName(p.getStringDelLastSlash(t.localFilePath[0]),r);if(p.isExistSameNameFolder(i)){u.info(`a folder already exists on the local that has the same name as the path for downloading the obs file "${r}"`);u.info(`try to download obs file in this folder`);const e=`${i}/${l.default.basename(i)}`;if(p.isExistSameNameFolder(e)){u.info(`download file "${i}" failed, because "${i}" already exists as a folder on the local.`);return}else{i=e}}u.info(`start download obs file: "${r}"`);const o=yield e.getObject({Bucket:t.bucketName,Key:r,SaveAsFile:i});if(o.CommonMsg.Status<300){u.info(`successfully download obs file: "${r}"`)}else{u.setFailed(`failed to download obs file: "${r}", because ${o.CommonMsg.Code}`)}}))}t.downloadFile=downloadFile;function getLocalFileName(e,t){try{if(c.lstatSync(e).isDirectory()){return`${e}/${l.default.basename(t)}`}else{return e}}catch(t){return e}}t.getLocalFileName=getLocalFileName;function getDownloadList(e,t,r){return s(this,void 0,void 0,(function*(){const n=p.getStringDelLastSlash(r);let i=[];let o=true;let s="";while(o){const r=yield d.listObjects(e,t.bucketName,n,s);i=i.concat(delUselessPath(r.InterfaceResult.Contents,t));o=r.InterfaceResult.IsTruncated==="true";s=r.InterfaceResult.NextMarker}return i}))}t.getDownloadList=getDownloadList;function delUselessPath(e,t){const r=[];e.forEach((e=>{let n=true;if(!!t.exclude&&t.exclude.length>0){t.exclude.forEach((t=>{if(t&&e["Key"].search(`^${p.getStringDelLastSlash(t)}`)>-1){n=false}}))}if(n){r.push(e["Key"])}}));return r}},9162:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;var i=Object.getOwnPropertyDescriptor(t,r);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[r]}}}Object.defineProperty(e,n,i)}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.prototype.hasOwnProperty.call(e,r))n(t,e,r);i(t,e);return t};var s=this&&this.__awaiter||function(e,t,r,n){function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,i){function fulfilled(e){try{step(n.next(e))}catch(e){i(e)}}function rejected(e){try{step(n["throw"](e))}catch(e){i(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.mergeParts=t.uploadParts=t.initMultipartUpload=t.multipartUpload=t.obsCreateRootFolder=t.uploadFolder=t.uploadFile=t.fileDisplay=t.getObsFilePath=t.formatObsPath=t.getObsRootFile=t.uploadFileOrFolder=void 0;const a=o(r(5747));const c=o(r(5622));const l=o(r(918));const u=o(r(2186));const d=r(8164);function uploadFileOrFolder(e,t){return s(this,void 0,void 0,(function*(){for(const r of t.localFilePath){const n=l.getStringDelLastSlash(r);const i=c.basename(n);try{const o=a.lstatSync(n);if(o.isFile()){yield uploadFile(e,t.bucketName,n,getObsFilePath(t,i))}if(o.isDirectory()){const o=getObsRootFile(!!t.includeSelfFolder,t.obsFilePath,i);const s={file:[],folder:[]};yield fileDisplay(e,t,n,o,s);const a=s.file.length+s.folder.length;if(a>1e3){u.setFailed(`local directory: '${r}' has ${a} files and folders,`);u.setFailed(`please upload a directory include less than 1000 files and folders.`);return}if(t.obsFilePath){yield obsCreateRootFolder(e,t.bucketName,l.getStringDelLastSlash(t.obsFilePath))}yield uploadFileAndFolder(e,t.bucketName,s)}}catch(e){u.setFailed(`read local file or directory: '${r}' failed.`)}}}))}t.uploadFileOrFolder=uploadFileOrFolder;function getObsRootFile(e,t,r){const n=formatObsPath(t);if(e){return n?`${l.getStringDelLastSlash(n)}/${r}`:r}else{return l.getStringDelLastSlash(n)}}t.getObsRootFile=getObsRootFile;function formatObsPath(e){if(!e||l.replaceSlash(c.normalize(e))==="/"){return""}const t=l.replaceSlash(c.normalize(e));return t.startsWith("/")?t.substring(1):t}t.formatObsPath=formatObsPath;function getObsFilePath(e,t){if(!e.obsFilePath){return t}if(l.isEndWithSlash(e.obsFilePath)){return`${e.obsFilePath}${t}`}else{return e.localFilePath.length>1?`${e.obsFilePath}/${t}`:e.obsFilePath}}t.getObsFilePath=getObsFilePath;function fileDisplay(e,t,r,n,i){return s(this,void 0,void 0,(function*(){const o=a.readdirSync(r);if(o.length>0){for(const s of o){const o=c.join(r,s);const u=a.statSync(o);const d=n?`${n}/${s}`:`${n}${s}`;if(u.isFile()){i.file.push({local:l.replaceSlash(c.normalize(o)),obs:d})}if(u.isDirectory()){i.folder.push(d);yield fileDisplay(e,t,o,d,i)}}}else{if(i.folder.indexOf(l.getStringDelLastSlash(n))===-1){i.folder.push(l.getStringDelLastSlash(n))}}}))}t.fileDisplay=fileDisplay;function uploadFileAndFolder(e,t,r){return s(this,void 0,void 0,(function*(){for(const n of r.folder){yield uploadFolder(e,t,n)}for(const n of r.file){yield uploadFile(e,t,n.local,n.obs)}}))}function uploadFile(e,t,r,n){return s(this,void 0,void 0,(function*(){if(l.isFileOverSize(r)){u.setFailed(`your local file "${r}" cannot be uploaded because it is larger than 5 GB`);return}u.info(`start upload file: "${r}"`);const i=yield e.putObject({Bucket:t,Key:n,SourceFile:r});if(i.CommonMsg.Status<d.SUCCESS_STATUS_CODE){u.info(`succeessfully upload file: "${r}"`)}else{u.setFailed(`failed to upload file: "${r}", because ${i.CommonMsg.Code}`)}}))}t.uploadFile=uploadFile;function uploadFolder(e,t,r){return s(this,void 0,void 0,(function*(){u.info(`start create folder "${r}/"`);const n=yield e.putObject({Bucket:t,Key:`${r}/`});if(n.CommonMsg.Status<d.SUCCESS_STATUS_CODE){u.info(`succeessfully create folder "${r}/"`)}else{u.setFailed(`failed to create folder "${r}/", because ${n.CommonMsg.Code}`)}}))}t.uploadFolder=uploadFolder;function obsCreateRootFolder(e,t,r){return s(this,void 0,void 0,(function*(){const n=r.split("/");let i="";for(const r of n){if(!r){return}i+=`${r}/`;u.info(`start create folder "${i}"`);const n=yield e.putObject({Bucket:t,Key:i});if(n.CommonMsg.Status<d.SUCCESS_STATUS_CODE){u.info(`succeessfully create folder "${i}"`)}else{u.setFailed(`failed to create folder "${i}", because ${n.CommonMsg.Code}`)}}}))}t.obsCreateRootFolder=obsCreateRootFolder;function multipartUpload(e,t,r,n){return s(this,void 0,void 0,(function*(){const i=yield initMultipartUpload(e,t,r);if(i){const o=yield uploadParts(e,t,r,i,n);if(o.length>0){yield mergeParts(e,t,r,i,o)}}}))}t.multipartUpload=multipartUpload;function initMultipartUpload(e,t,r){return s(this,void 0,void 0,(function*(){const n=yield e.initiateMultipartUpload({Bucket:t,Key:r});if(n.CommonMsg.Status<d.SUCCESS_STATUS_CODE){u.info("init multipart upload successfully.");return n.InterfaceResult.UploadId}else{u.setFailed("init multipart upload failed.");return""}}))}t.initMultipartUpload=initMultipartUpload;function uploadParts(e,t,r,n,i){return s(this,void 0,void 0,(function*(){const o=l.PART_MAX_SIZE;const s=a.lstatSync(i).size;const c=s%o===0?Math.floor(s/o):Math.floor(s/o)+1;u.info(`total parts count ${c}.`);const p=[];u.info("Begin to upload multiparts to OBS from a file");for(let a=0;a<c;a++){const l=a*o;const f=a+1===c?s-l:o;const h=a+1;const m=yield e.uploadPart({Bucket:t,Key:r,PartNumber:h,UploadId:n,SourceFile:i,Offset:l,PartSize:f});if(m.CommonMsg.Status<d.SUCCESS_STATUS_CODE){p.push({PartNumber:h,ETag:m.InterfaceResult.ETag})}else{u.setFailed(m.CommonMsg.Code)}}if(p.length===c){const e=p.sort(((e,t)=>{if(e.PartNumber>=t.PartNumber){return 1}return-1}));return e}return p}))}t.uploadParts=uploadParts;function mergeParts(e,t,r,n,i){return s(this,void 0,void 0,(function*(){const o=yield e.completeMultipartUpload({Bucket:t,Key:r,UploadId:n,Parts:i});if(o.CommonMsg.Status<d.SUCCESS_STATUS_CODE){u.info("Complete to upload multiparts finished.");return true}else{u.setFailed(o.CommonMsg.Code);return false}}))}t.mergeParts=mergeParts},8164:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.SUCCESS_STATUS_CODE=void 0;t.SUCCESS_STATUS_CODE=300},918:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;var i=Object.getOwnPropertyDescriptor(t,r);if(!i||("get"in i?!t.__esModule:i.writable||i.configurable)){i={enumerable:true,get:function(){return t[r]}}}Object.defineProperty(e,n,i)}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.prototype.hasOwnProperty.call(e,r))n(t,e,r);i(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.isExistSameNameFile=t.isExistSameNameFolder=t.isFileOverSize=t.getStringDelLastSlash=t.isEndWithSlash=t.createFolder=t.getPathWithoutRootPath=t.replaceSlash=t.checkBucketInputs=t.checkObjectInputs=t.checkCommonInputs=t.getStorageClass=t.checkDownloadFilePath=t.checkUploadFilePath=t.getOperationCategory=t.checkBucketName=t.checkRegion=t.checkAkSk=t.PART_MAX_SIZE=void 0;const s=o(r(2186));const a=o(r(5747));const c=["la-south-2","af-south-1","cn-north-4","cn-north-1","cn-east-2","cn-east-3","cn-south-1","la-north-2","na-mexico-1","sa-brazil-1","ap-southeast-2","ap-southeast-3","ap-southeast-1","cn-central-221"];const l={standard:"StorageClassStandard",infrequent:"StorageClassWarm",archive:"StorageClassCold"};const u={object:["upload","download"],bucket:["createbucket","deletebucket"]};const d=5*1024*1024*1024;t.PART_MAX_SIZE=1024*1024;const p=/^[a-zA-Z0-9]{10,30}$/;const f=/^[a-zA-Z0-9]{30,50}$/;const h=/^[a-z0-9][a-z0-9.-]{1,61}[a-z0-9]$/;const m=/([.]+[.-]+)|([-]+[.]+)/;const y=/(\.((2(5[0-5]|[0-4]\d))|[0-1]?\d{1,2})){3}/;function checkAkSk(e,t){return p.test(e)&&f.test(t)}t.checkAkSk=checkAkSk;function checkRegion(e){return c.includes(e)}t.checkRegion=checkRegion;function checkBucketName(e){return h.test(e)&&!m.test(e)&&!y.test(e)}t.checkBucketName=checkBucketName;function getOperationCategory(e){if(u.object.includes(e.toLowerCase())){return"object"}if(u.bucket.includes(e.toLowerCase())){return"bucket"}return""}t.getOperationCategory=getOperationCategory;function checkUploadFilePath(e){if(e.localFilePath.length===0){s.setFailed("please input localFilePath.");return false}if(e.localFilePath.length>10){s.setFailed("you should input no more than 10 local_file_path.");return false}for(const t of e.localFilePath){if(t===""){s.setFailed("you should not input a empty string as local_file_path.");return false}if(!a.existsSync(t)){s.setFailed(`local file or directory not exist, please check your input path.`);return false}}return true}t.checkUploadFilePath=checkUploadFilePath;function checkDownloadFilePath(e){if(e.localFilePath.length!==1){s.setFailed("you should input one local_file_path.");return false}if(e.localFilePath[0]===""){s.setFailed("you should not input a empty string as local_file_path.");return false}if(!e.obsFilePath){s.setFailed("you should input one obs_file_path.");return false}return true}t.checkDownloadFilePath=checkDownloadFilePath;function getStorageClass(e){for(const t in l){if(e===t){return l[t]}}return""}t.getStorageClass=getStorageClass;function checkCommonInputs(e){if(!checkAkSk(e.accessKey,e.secretKey)){s.setFailed("ak or sk is not correct.");return false}if(!checkRegion(e.region)){s.setFailed("region is not correct.");return false}if(!checkBucketName(e.bucketName)){s.setFailed("bucket name is not correct.");return false}return true}t.checkCommonInputs=checkCommonInputs;function checkObjectInputs(e){const t=e.operationType.toLowerCase()==="upload"?checkUploadFilePath(e):checkDownloadFilePath(e);if(!t){return false}return true}t.checkObjectInputs=checkObjectInputs;function checkBucketInputs(e){if(e.storageClass){if(getStorageClass(e.storageClass)===""){s.setFailed("storageClass is not correct.");return false}}return true}t.checkBucketInputs=checkBucketInputs;function replaceSlash(e){return e.replace(/\\/g,"/")}t.replaceSlash=replaceSlash;function getPathWithoutRootPath(e,t){try{const r=t.match(`^${e}`);if(r){return t.replace(r[0],"")}else{return t}}catch(e){s.info("rootPath not start with path.");return t}}t.getPathWithoutRootPath=getPathWithoutRootPath;function createFolder(e){if(a.existsSync(e)){return true}try{a.mkdirSync(e)}catch(e){return false}return a.existsSync(e)}t.createFolder=createFolder;function isEndWithSlash(e){try{return e.slice(-1)==="/"}catch(e){return false}}t.isEndWithSlash=isEndWithSlash;function getStringDelLastSlash(e){if(e){return isEndWithSlash(e)?e.substring(0,e.length-1):e}return e}t.getStringDelLastSlash=getStringDelLastSlash;function isFileOverSize(e){return a.lstatSync(e).size>d}t.isFileOverSize=isFileOverSize;function isExistSameNameFolder(e){return a.existsSync(e)&&a.statSync(e).isDirectory()}t.isExistSameNameFolder=isExistSameNameFolder;function isExistSameNameFile(e){return a.existsSync(getStringDelLastSlash(e))&&a.statSync(getStringDelLastSlash(e)).isFile()}t.isExistSameNameFile=isExistSameNameFile},7351:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.hasOwnProperty.call(e,r))n(t,e,r);i(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.issue=t.issueCommand=void 0;const s=o(r(2087));const a=r(5278);function issueCommand(e,t,r){const n=new Command(e,t,r);process.stdout.write(n.toString()+s.EOL)}t.issueCommand=issueCommand;function issue(e,t=""){issueCommand(e,{},t)}t.issue=issue;const c="::";class Command{constructor(e,t,r){if(!e){e="missing.command"}this.command=e;this.properties=t;this.message=r}toString(){let e=c+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";let t=true;for(const r in this.properties){if(this.properties.hasOwnProperty(r)){const n=this.properties[r];if(n){if(t){t=false}else{e+=","}e+=`${r}=${escapeProperty(n)}`}}}}e+=`${c}${escapeData(this.message)}`;return e}}function escapeData(e){return a.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function escapeProperty(e){return a.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}},2186:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.hasOwnProperty.call(e,r))n(t,e,r);i(t,e);return t};var s=this&&this.__awaiter||function(e,t,r,n){function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,i){function fulfilled(e){try{step(n.next(e))}catch(e){i(e)}}function rejected(e){try{step(n["throw"](e))}catch(e){i(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.getIDToken=t.getState=t.saveState=t.group=t.endGroup=t.startGroup=t.info=t.notice=t.warning=t.error=t.debug=t.isDebug=t.setFailed=t.setCommandEcho=t.setOutput=t.getBooleanInput=t.getMultilineInput=t.getInput=t.addPath=t.setSecret=t.exportVariable=t.ExitCode=void 0;const a=r(7351);const c=r(717);const l=r(5278);const u=o(r(2087));const d=o(r(5622));const p=r(8041);var f;(function(e){e[e["Success"]=0]="Success";e[e["Failure"]=1]="Failure"})(f=t.ExitCode||(t.ExitCode={}));function exportVariable(e,t){const r=l.toCommandValue(t);process.env[e]=r;const n=process.env["GITHUB_ENV"]||"";if(n){return c.issueFileCommand("ENV",c.prepareKeyValueMessage(e,t))}a.issueCommand("set-env",{name:e},r)}t.exportVariable=exportVariable;function setSecret(e){a.issueCommand("add-mask",{},e)}t.setSecret=setSecret;function addPath(e){const t=process.env["GITHUB_PATH"]||"";if(t){c.issueFileCommand("PATH",e)}else{a.issueCommand("add-path",{},e)}process.env["PATH"]=`${e}${d.delimiter}${process.env["PATH"]}`}t.addPath=addPath;function getInput(e,t){const r=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!r){throw new Error(`Input required and not supplied: ${e}`)}if(t&&t.trimWhitespace===false){return r}return r.trim()}t.getInput=getInput;function getMultilineInput(e,t){const r=getInput(e,t).split("\n").filter((e=>e!==""));if(t&&t.trimWhitespace===false){return r}return r.map((e=>e.trim()))}t.getMultilineInput=getMultilineInput;function getBooleanInput(e,t){const r=["true","True","TRUE"];const n=["false","False","FALSE"];const i=getInput(e,t);if(r.includes(i))return true;if(n.includes(i))return false;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}\n`+`Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}t.getBooleanInput=getBooleanInput;function setOutput(e,t){const r=process.env["GITHUB_OUTPUT"]||"";if(r){return c.issueFileCommand("OUTPUT",c.prepareKeyValueMessage(e,t))}process.stdout.write(u.EOL);a.issueCommand("set-output",{name:e},l.toCommandValue(t))}t.setOutput=setOutput;function setCommandEcho(e){a.issue("echo",e?"on":"off")}t.setCommandEcho=setCommandEcho;function setFailed(e){process.exitCode=f.Failure;error(e)}t.setFailed=setFailed;function isDebug(){return process.env["RUNNER_DEBUG"]==="1"}t.isDebug=isDebug;function debug(e){a.issueCommand("debug",{},e)}t.debug=debug;function error(e,t={}){a.issueCommand("error",l.toCommandProperties(t),e instanceof Error?e.toString():e)}t.error=error;function warning(e,t={}){a.issueCommand("warning",l.toCommandProperties(t),e instanceof Error?e.toString():e)}t.warning=warning;function notice(e,t={}){a.issueCommand("notice",l.toCommandProperties(t),e instanceof Error?e.toString():e)}t.notice=notice;function info(e){process.stdout.write(e+u.EOL)}t.info=info;function startGroup(e){a.issue("group",e)}t.startGroup=startGroup;function endGroup(){a.issue("endgroup")}t.endGroup=endGroup;function group(e,t){return s(this,void 0,void 0,(function*(){startGroup(e);let r;try{r=yield t()}finally{endGroup()}return r}))}t.group=group;function saveState(e,t){const r=process.env["GITHUB_STATE"]||"";if(r){return c.issueFileCommand("STATE",c.prepareKeyValueMessage(e,t))}a.issueCommand("save-state",{name:e},l.toCommandValue(t))}t.saveState=saveState;function getState(e){return process.env[`STATE_${e}`]||""}t.getState=getState;function getIDToken(e){return s(this,void 0,void 0,(function*(){return yield p.OidcClient.getIDToken(e)}))}t.getIDToken=getIDToken;var h=r(1327);Object.defineProperty(t,"summary",{enumerable:true,get:function(){return h.summary}});var m=r(1327);Object.defineProperty(t,"markdownSummary",{enumerable:true,get:function(){return m.markdownSummary}});var y=r(2981);Object.defineProperty(t,"toPosixPath",{enumerable:true,get:function(){return y.toPosixPath}});Object.defineProperty(t,"toWin32Path",{enumerable:true,get:function(){return y.toWin32Path}});Object.defineProperty(t,"toPlatformPath",{enumerable:true,get:function(){return y.toPlatformPath}})},717:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.hasOwnProperty.call(e,r))n(t,e,r);i(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.prepareKeyValueMessage=t.issueFileCommand=void 0;const s=o(r(5747));const a=o(r(2087));const c=r(5840);const l=r(5278);function issueFileCommand(e,t){const r=process.env[`GITHUB_${e}`];if(!r){throw new Error(`Unable to find environment variable for file command ${e}`)}if(!s.existsSync(r)){throw new Error(`Missing file at path: ${r}`)}s.appendFileSync(r,`${l.toCommandValue(t)}${a.EOL}`,{encoding:"utf8"})}t.issueFileCommand=issueFileCommand;function prepareKeyValueMessage(e,t){const r=`ghadelimiter_${c.v4()}`;const n=l.toCommandValue(t);if(e.includes(r)){throw new Error(`Unexpected input: name should not contain the delimiter "${r}"`)}if(n.includes(r)){throw new Error(`Unexpected input: value should not contain the delimiter "${r}"`)}return`${e}<<${r}${a.EOL}${n}${a.EOL}${r}`}t.prepareKeyValueMessage=prepareKeyValueMessage},8041:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,i){function fulfilled(e){try{step(n.next(e))}catch(e){i(e)}}function rejected(e){try{step(n["throw"](e))}catch(e){i(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.OidcClient=void 0;const i=r(6255);const o=r(5526);const s=r(2186);class OidcClient{static createHttpClient(e=true,t=10){const r={allowRetries:e,maxRetries:t};return new i.HttpClient("actions/oidc-client",[new o.BearerCredentialHandler(OidcClient.getRequestToken())],r)}static getRequestToken(){const e=process.env["ACTIONS_ID_TOKEN_REQUEST_TOKEN"];if(!e){throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable")}return e}static getIDTokenUrl(){const e=process.env["ACTIONS_ID_TOKEN_REQUEST_URL"];if(!e){throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable")}return e}static getCall(e){var t;return n(this,void 0,void 0,(function*(){const r=OidcClient.createHttpClient();const n=yield r.getJson(e).catch((e=>{throw new Error(`Failed to get ID Token. \n \n        Error Code : ${e.statusCode}\n \n        Error Message: ${e.result.message}`)}));const i=(t=n.result)===null||t===void 0?void 0:t.value;if(!i){throw new Error("Response json body do not have ID Token field")}return i}))}static getIDToken(e){return n(this,void 0,void 0,(function*(){try{let t=OidcClient.getIDTokenUrl();if(e){const r=encodeURIComponent(e);t=`${t}&audience=${r}`}s.debug(`ID token url is ${t}`);const r=yield OidcClient.getCall(t);s.setSecret(r);return r}catch(e){throw new Error(`Error message: ${e.message}`)}}))}}t.OidcClient=OidcClient},2981:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.hasOwnProperty.call(e,r))n(t,e,r);i(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.toPlatformPath=t.toWin32Path=t.toPosixPath=void 0;const s=o(r(5622));function toPosixPath(e){return e.replace(/[\\]/g,"/")}t.toPosixPath=toPosixPath;function toWin32Path(e){return e.replace(/[/]/g,"\\")}t.toWin32Path=toWin32Path;function toPlatformPath(e){return e.replace(/[/\\]/g,s.sep)}t.toPlatformPath=toPlatformPath},1327:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,i){function fulfilled(e){try{step(n.next(e))}catch(e){i(e)}}function rejected(e){try{step(n["throw"](e))}catch(e){i(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.summary=t.markdownSummary=t.SUMMARY_DOCS_URL=t.SUMMARY_ENV_VAR=void 0;const i=r(2087);const o=r(5747);const{access:s,appendFile:a,writeFile:c}=o.promises;t.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";t.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";class Summary{constructor(){this._buffer=""}filePath(){return n(this,void 0,void 0,(function*(){if(this._filePath){return this._filePath}const e=process.env[t.SUMMARY_ENV_VAR];if(!e){throw new Error(`Unable to find environment variable for $${t.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`)}try{yield s(e,o.constants.R_OK|o.constants.W_OK)}catch(t){throw new Error(`Unable to access summary file: '${e}'. Check if the file has correct read/write permissions.`)}this._filePath=e;return this._filePath}))}wrap(e,t,r={}){const n=Object.entries(r).map((([e,t])=>` ${e}="${t}"`)).join("");if(!t){return`<${e}${n}>`}return`<${e}${n}>${t}</${e}>`}write(e){return n(this,void 0,void 0,(function*(){const t=!!(e===null||e===void 0?void 0:e.overwrite);const r=yield this.filePath();const n=t?c:a;yield n(r,this._buffer,{encoding:"utf8"});return this.emptyBuffer()}))}clear(){return n(this,void 0,void 0,(function*(){return this.emptyBuffer().write({overwrite:true})}))}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){this._buffer="";return this}addRaw(e,t=false){this._buffer+=e;return t?this.addEOL():this}addEOL(){return this.addRaw(i.EOL)}addCodeBlock(e,t){const r=Object.assign({},t&&{lang:t});const n=this.wrap("pre",this.wrap("code",e),r);return this.addRaw(n).addEOL()}addList(e,t=false){const r=t?"ol":"ul";const n=e.map((e=>this.wrap("li",e))).join("");const i=this.wrap(r,n);return this.addRaw(i).addEOL()}addTable(e){const t=e.map((e=>{const t=e.map((e=>{if(typeof e==="string"){return this.wrap("td",e)}const{header:t,data:r,colspan:n,rowspan:i}=e;const o=t?"th":"td";const s=Object.assign(Object.assign({},n&&{colspan:n}),i&&{rowspan:i});return this.wrap(o,r,s)})).join("");return this.wrap("tr",t)})).join("");const r=this.wrap("table",t);return this.addRaw(r).addEOL()}addDetails(e,t){const r=this.wrap("details",this.wrap("summary",e)+t);return this.addRaw(r).addEOL()}addImage(e,t,r){const{width:n,height:i}=r||{};const o=Object.assign(Object.assign({},n&&{width:n}),i&&{height:i});const s=this.wrap("img",null,Object.assign({src:e,alt:t},o));return this.addRaw(s).addEOL()}addHeading(e,t){const r=`h${t}`;const n=["h1","h2","h3","h4","h5","h6"].includes(r)?r:"h1";const i=this.wrap(n,e);return this.addRaw(i).addEOL()}addSeparator(){const e=this.wrap("hr",null);return this.addRaw(e).addEOL()}addBreak(){const e=this.wrap("br",null);return this.addRaw(e).addEOL()}addQuote(e,t){const r=Object.assign({},t&&{cite:t});const n=this.wrap("blockquote",e,r);return this.addRaw(n).addEOL()}addLink(e,t){const r=this.wrap("a",e,{href:t});return this.addRaw(r).addEOL()}}const l=new Summary;t.markdownSummary=l;t.summary=l},5278:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.toCommandProperties=t.toCommandValue=void 0;function toCommandValue(e){if(e===null||e===undefined){return""}else if(typeof e==="string"||e instanceof String){return e}return JSON.stringify(e)}t.toCommandValue=toCommandValue;function toCommandProperties(e){if(!Object.keys(e).length){return{}}return{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}}t.toCommandProperties=toCommandProperties},5526:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,i){function fulfilled(e){try{step(n.next(e))}catch(e){i(e)}}function rejected(e){try{step(n["throw"](e))}catch(e){i(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.PersonalAccessTokenCredentialHandler=t.BearerCredentialHandler=t.BasicCredentialHandler=void 0;class BasicCredentialHandler{constructor(e,t){this.username=e;this.password=t}prepareRequest(e){if(!e.headers){throw Error("The request has no headers")}e.headers["Authorization"]=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return false}handleAuthentication(){return r(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}}t.BasicCredentialHandler=BasicCredentialHandler;class BearerCredentialHandler{constructor(e){this.token=e}prepareRequest(e){if(!e.headers){throw Error("The request has no headers")}e.headers["Authorization"]=`Bearer ${this.token}`}canHandleAuthentication(){return false}handleAuthentication(){return r(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}}t.BearerCredentialHandler=BearerCredentialHandler;class PersonalAccessTokenCredentialHandler{constructor(e){this.token=e}prepareRequest(e){if(!e.headers){throw Error("The request has no headers")}e.headers["Authorization"]=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return false}handleAuthentication(){return r(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}}t.PersonalAccessTokenCredentialHandler=PersonalAccessTokenCredentialHandler},6255:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.hasOwnProperty.call(e,r))n(t,e,r);i(t,e);return t};var s=this&&this.__awaiter||function(e,t,r,n){function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,i){function fulfilled(e){try{step(n.next(e))}catch(e){i(e)}}function rejected(e){try{step(n["throw"](e))}catch(e){i(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.HttpClient=t.isHttps=t.HttpClientResponse=t.HttpClientError=t.getProxyUrl=t.MediaTypes=t.Headers=t.HttpCodes=void 0;const a=o(r(8605));const c=o(r(7211));const l=o(r(9835));const u=o(r(4294));var d;(function(e){e[e["OK"]=200]="OK";e[e["MultipleChoices"]=300]="MultipleChoices";e[e["MovedPermanently"]=301]="MovedPermanently";e[e["ResourceMoved"]=302]="ResourceMoved";e[e["SeeOther"]=303]="SeeOther";e[e["NotModified"]=304]="NotModified";e[e["UseProxy"]=305]="UseProxy";e[e["SwitchProxy"]=306]="SwitchProxy";e[e["TemporaryRedirect"]=307]="TemporaryRedirect";e[e["PermanentRedirect"]=308]="PermanentRedirect";e[e["BadRequest"]=400]="BadRequest";e[e["Unauthorized"]=401]="Unauthorized";e[e["PaymentRequired"]=402]="PaymentRequired";e[e["Forbidden"]=403]="Forbidden";e[e["NotFound"]=404]="NotFound";e[e["MethodNotAllowed"]=405]="MethodNotAllowed";e[e["NotAcceptable"]=406]="NotAcceptable";e[e["ProxyAuthenticationRequired"]=407]="ProxyAuthenticationRequired";e[e["RequestTimeout"]=408]="RequestTimeout";e[e["Conflict"]=409]="Conflict";e[e["Gone"]=410]="Gone";e[e["TooManyRequests"]=429]="TooManyRequests";e[e["InternalServerError"]=500]="InternalServerError";e[e["NotImplemented"]=501]="NotImplemented";e[e["BadGateway"]=502]="BadGateway";e[e["ServiceUnavailable"]=503]="ServiceUnavailable";e[e["GatewayTimeout"]=504]="GatewayTimeout"})(d=t.HttpCodes||(t.HttpCodes={}));var p;(function(e){e["Accept"]="accept";e["ContentType"]="content-type"})(p=t.Headers||(t.Headers={}));var f;(function(e){e["ApplicationJson"]="application/json"})(f=t.MediaTypes||(t.MediaTypes={}));function getProxyUrl(e){const t=l.getProxyUrl(new URL(e));return t?t.href:""}t.getProxyUrl=getProxyUrl;const h=[d.MovedPermanently,d.ResourceMoved,d.SeeOther,d.TemporaryRedirect,d.PermanentRedirect];const m=[d.BadGateway,d.ServiceUnavailable,d.GatewayTimeout];const y=["OPTIONS","GET","DELETE","HEAD"];const g=10;const A=5;class HttpClientError extends Error{constructor(e,t){super(e);this.name="HttpClientError";this.statusCode=t;Object.setPrototypeOf(this,HttpClientError.prototype)}}t.HttpClientError=HttpClientError;class HttpClientResponse{constructor(e){this.message=e}readBody(){return s(this,void 0,void 0,(function*(){return new Promise((e=>s(this,void 0,void 0,(function*(){let t=Buffer.alloc(0);this.message.on("data",(e=>{t=Buffer.concat([t,e])}));this.message.on("end",(()=>{e(t.toString())}))}))))}))}}t.HttpClientResponse=HttpClientResponse;function isHttps(e){const t=new URL(e);return t.protocol==="https:"}t.isHttps=isHttps;class HttpClient{constructor(e,t,r){this._ignoreSslError=false;this._allowRedirects=true;this._allowRedirectDowngrade=false;this._maxRedirects=50;this._allowRetries=false;this._maxRetries=1;this._keepAlive=false;this._disposed=false;this.userAgent=e;this.handlers=t||[];this.requestOptions=r;if(r){if(r.ignoreSslError!=null){this._ignoreSslError=r.ignoreSslError}this._socketTimeout=r.socketTimeout;if(r.allowRedirects!=null){this._allowRedirects=r.allowRedirects}if(r.allowRedirectDowngrade!=null){this._allowRedirectDowngrade=r.allowRedirectDowngrade}if(r.maxRedirects!=null){this._maxRedirects=Math.max(r.maxRedirects,0)}if(r.keepAlive!=null){this._keepAlive=r.keepAlive}if(r.allowRetries!=null){this._allowRetries=r.allowRetries}if(r.maxRetries!=null){this._maxRetries=r.maxRetries}}}options(e,t){return s(this,void 0,void 0,(function*(){return this.request("OPTIONS",e,null,t||{})}))}get(e,t){return s(this,void 0,void 0,(function*(){return this.request("GET",e,null,t||{})}))}del(e,t){return s(this,void 0,void 0,(function*(){return this.request("DELETE",e,null,t||{})}))}post(e,t,r){return s(this,void 0,void 0,(function*(){return this.request("POST",e,t,r||{})}))}patch(e,t,r){return s(this,void 0,void 0,(function*(){return this.request("PATCH",e,t,r||{})}))}put(e,t,r){return s(this,void 0,void 0,(function*(){return this.request("PUT",e,t,r||{})}))}head(e,t){return s(this,void 0,void 0,(function*(){return this.request("HEAD",e,null,t||{})}))}sendStream(e,t,r,n){return s(this,void 0,void 0,(function*(){return this.request(e,t,r,n)}))}getJson(e,t={}){return s(this,void 0,void 0,(function*(){t[p.Accept]=this._getExistingOrDefaultHeader(t,p.Accept,f.ApplicationJson);const r=yield this.get(e,t);return this._processResponse(r,this.requestOptions)}))}postJson(e,t,r={}){return s(this,void 0,void 0,(function*(){const n=JSON.stringify(t,null,2);r[p.Accept]=this._getExistingOrDefaultHeader(r,p.Accept,f.ApplicationJson);r[p.ContentType]=this._getExistingOrDefaultHeader(r,p.ContentType,f.ApplicationJson);const i=yield this.post(e,n,r);return this._processResponse(i,this.requestOptions)}))}putJson(e,t,r={}){return s(this,void 0,void 0,(function*(){const n=JSON.stringify(t,null,2);r[p.Accept]=this._getExistingOrDefaultHeader(r,p.Accept,f.ApplicationJson);r[p.ContentType]=this._getExistingOrDefaultHeader(r,p.ContentType,f.ApplicationJson);const i=yield this.put(e,n,r);return this._processResponse(i,this.requestOptions)}))}patchJson(e,t,r={}){return s(this,void 0,void 0,(function*(){const n=JSON.stringify(t,null,2);r[p.Accept]=this._getExistingOrDefaultHeader(r,p.Accept,f.ApplicationJson);r[p.ContentType]=this._getExistingOrDefaultHeader(r,p.ContentType,f.ApplicationJson);const i=yield this.patch(e,n,r);return this._processResponse(i,this.requestOptions)}))}request(e,t,r,n){return s(this,void 0,void 0,(function*(){if(this._disposed){throw new Error("Client has already been disposed.")}const i=new URL(t);let o=this._prepareRequest(e,i,n);const s=this._allowRetries&&y.includes(e)?this._maxRetries+1:1;let a=0;let c;do{c=yield this.requestRaw(o,r);if(c&&c.message&&c.message.statusCode===d.Unauthorized){let e;for(const t of this.handlers){if(t.canHandleAuthentication(c)){e=t;break}}if(e){return e.handleAuthentication(this,o,r)}else{return c}}let t=this._maxRedirects;while(c.message.statusCode&&h.includes(c.message.statusCode)&&this._allowRedirects&&t>0){const s=c.message.headers["location"];if(!s){break}const a=new URL(s);if(i.protocol==="https:"&&i.protocol!==a.protocol&&!this._allowRedirectDowngrade){throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.")}yield c.readBody();if(a.hostname!==i.hostname){for(const e in n){if(e.toLowerCase()==="authorization"){delete n[e]}}}o=this._prepareRequest(e,a,n);c=yield this.requestRaw(o,r);t--}if(!c.message.statusCode||!m.includes(c.message.statusCode)){return c}a+=1;if(a<s){yield c.readBody();yield this._performExponentialBackoff(a)}}while(a<s);return c}))}dispose(){if(this._agent){this._agent.destroy()}this._disposed=true}requestRaw(e,t){return s(this,void 0,void 0,(function*(){return new Promise(((r,n)=>{function callbackForResult(e,t){if(e){n(e)}else if(!t){n(new Error("Unknown error"))}else{r(t)}}this.requestRawWithCallback(e,t,callbackForResult)}))}))}requestRawWithCallback(e,t,r){if(typeof t==="string"){if(!e.options.headers){e.options.headers={}}e.options.headers["Content-Length"]=Buffer.byteLength(t,"utf8")}let n=false;function handleResult(e,t){if(!n){n=true;r(e,t)}}const i=e.httpModule.request(e.options,(e=>{const t=new HttpClientResponse(e);handleResult(undefined,t)}));let o;i.on("socket",(e=>{o=e}));i.setTimeout(this._socketTimeout||3*6e4,(()=>{if(o){o.end()}handleResult(new Error(`Request timeout: ${e.options.path}`))}));i.on("error",(function(e){handleResult(e)}));if(t&&typeof t==="string"){i.write(t,"utf8")}if(t&&typeof t!=="string"){t.on("close",(function(){i.end()}));t.pipe(i)}else{i.end()}}getAgent(e){const t=new URL(e);return this._getAgent(t)}_prepareRequest(e,t,r){const n={};n.parsedUrl=t;const i=n.parsedUrl.protocol==="https:";n.httpModule=i?c:a;const o=i?443:80;n.options={};n.options.host=n.parsedUrl.hostname;n.options.port=n.parsedUrl.port?parseInt(n.parsedUrl.port):o;n.options.path=(n.parsedUrl.pathname||"")+(n.parsedUrl.search||"");n.options.method=e;n.options.headers=this._mergeHeaders(r);if(this.userAgent!=null){n.options.headers["user-agent"]=this.userAgent}n.options.agent=this._getAgent(n.parsedUrl);if(this.handlers){for(const e of this.handlers){e.prepareRequest(n.options)}}return n}_mergeHeaders(e){if(this.requestOptions&&this.requestOptions.headers){return Object.assign({},lowercaseKeys(this.requestOptions.headers),lowercaseKeys(e||{}))}return lowercaseKeys(e||{})}_getExistingOrDefaultHeader(e,t,r){let n;if(this.requestOptions&&this.requestOptions.headers){n=lowercaseKeys(this.requestOptions.headers)[t]}return e[t]||n||r}_getAgent(e){let t;const r=l.getProxyUrl(e);const n=r&&r.hostname;if(this._keepAlive&&n){t=this._proxyAgent}if(this._keepAlive&&!n){t=this._agent}if(t){return t}const i=e.protocol==="https:";let o=100;if(this.requestOptions){o=this.requestOptions.maxSockets||a.globalAgent.maxSockets}if(r&&r.hostname){const e={maxSockets:o,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(r.username||r.password)&&{proxyAuth:`${r.username}:${r.password}`}),{host:r.hostname,port:r.port})};let n;const s=r.protocol==="https:";if(i){n=s?u.httpsOverHttps:u.httpsOverHttp}else{n=s?u.httpOverHttps:u.httpOverHttp}t=n(e);this._proxyAgent=t}if(this._keepAlive&&!t){const e={keepAlive:this._keepAlive,maxSockets:o};t=i?new c.Agent(e):new a.Agent(e);this._agent=t}if(!t){t=i?c.globalAgent:a.globalAgent}if(i&&this._ignoreSslError){t.options=Object.assign(t.options||{},{rejectUnauthorized:false})}return t}_performExponentialBackoff(e){return s(this,void 0,void 0,(function*(){e=Math.min(g,e);const t=A*Math.pow(2,e);return new Promise((e=>setTimeout((()=>e()),t)))}))}_processResponse(e,t){return s(this,void 0,void 0,(function*(){return new Promise(((r,n)=>s(this,void 0,void 0,(function*(){const i=e.message.statusCode||0;const o={statusCode:i,result:null,headers:{}};if(i===d.NotFound){r(o)}function dateTimeDeserializer(e,t){if(typeof t==="string"){const e=new Date(t);if(!isNaN(e.valueOf())){return e}}return t}let s;let a;try{a=yield e.readBody();if(a&&a.length>0){if(t&&t.deserializeDates){s=JSON.parse(a,dateTimeDeserializer)}else{s=JSON.parse(a)}o.result=s}o.headers=e.message.headers}catch(e){}if(i>299){let e;if(s&&s.message){e=s.message}else if(a&&a.length>0){e=a}else{e=`Failed request: (${i})`}const t=new HttpClientError(e,i);t.result=o.result;n(t)}else{r(o)}}))))}))}}t.HttpClient=HttpClient;const lowercaseKeys=e=>Object.keys(e).reduce(((t,r)=>(t[r.toLowerCase()]=e[r],t)),{})},9835:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.checkBypass=t.getProxyUrl=void 0;function getProxyUrl(e){const t=e.protocol==="https:";if(checkBypass(e)){return undefined}const r=(()=>{if(t){return process.env["https_proxy"]||process.env["HTTPS_PROXY"]}else{return process.env["http_proxy"]||process.env["HTTP_PROXY"]}})();if(r){return new URL(r)}else{return undefined}}t.getProxyUrl=getProxyUrl;function checkBypass(e){if(!e.hostname){return false}const t=process.env["no_proxy"]||process.env["NO_PROXY"]||"";if(!t){return false}let r;if(e.port){r=Number(e.port)}else if(e.protocol==="http:"){r=80}else if(e.protocol==="https:"){r=443}const n=[e.hostname.toUpperCase()];if(typeof r==="number"){n.push(`${n[0]}:${r}`)}for(const e of t.split(",").map((e=>e.trim().toUpperCase())).filter((e=>e))){if(n.some((t=>t===e))){return true}}return false}t.checkBypass=checkBypass},6821:e=>{"use strict";function padWithZeros(e,t){var r=e.toString();while(r.length<t){r="0"+r}return r}function addZero(e){return padWithZeros(e,2)}function offset(e){var t=Math.abs(e);var r=String(Math.floor(t/60));var n=String(t%60);r=("0"+r).slice(-2);n=("0"+n).slice(-2);return e===0?"Z":(e<0?"+":"-")+r+":"+n}function asString(t,r){if(typeof t!=="string"){r=t;t=e.exports.ISO8601_FORMAT}if(!r){r=e.exports.now()}var n=addZero(r.getDate());var i=addZero(r.getMonth()+1);var o=addZero(r.getFullYear());var s=addZero(o.substring(2,4));var a=t.indexOf("yyyy")>-1?o:s;var c=addZero(r.getHours());var l=addZero(r.getMinutes());var u=addZero(r.getSeconds());var d=padWithZeros(r.getMilliseconds(),3);var p=offset(r.getTimezoneOffset());var f=t.replace(/dd/g,n).replace(/MM/g,i).replace(/y{1,4}/g,a).replace(/hh/g,c).replace(/mm/g,l).replace(/ss/g,u).replace(/SSS/g,d).replace(/O/g,p);return f}function setDatePart(e,t,r,n){e["set"+(n?"":"UTC")+t](r)}function extractDateParts(t,r,n){var i=t.indexOf("O")<0;var o=false;var s=[{pattern:/y{1,4}/,regexp:"\\d{1,4}",fn:function(e,t){setDatePart(e,"FullYear",t,i)}},{pattern:/MM/,regexp:"\\d{1,2}",fn:function(e,t){setDatePart(e,"Month",t-1,i);if(e.getMonth()!==t-1){o=true}}},{pattern:/dd/,regexp:"\\d{1,2}",fn:function(e,t){if(o){setDatePart(e,"Month",e.getMonth()-1,i)}setDatePart(e,"Date",t,i)}},{pattern:/hh/,regexp:"\\d{1,2}",fn:function(e,t){setDatePart(e,"Hours",t,i)}},{pattern:/mm/,regexp:"\\d\\d",fn:function(e,t){setDatePart(e,"Minutes",t,i)}},{pattern:/ss/,regexp:"\\d\\d",fn:function(e,t){setDatePart(e,"Seconds",t,i)}},{pattern:/SSS/,regexp:"\\d\\d\\d",fn:function(e,t){setDatePart(e,"Milliseconds",t,i)}},{pattern:/O/,regexp:"[+-]\\d{1,2}:?\\d{2}?|Z",fn:function(e,t){if(t==="Z"){t=0}else{t=t.replace(":","")}var r=Math.abs(t);var n=(t>0?-1:1)*(r%100+Math.floor(r/100)*60);e.setUTCMinutes(e.getUTCMinutes()+n)}}];var a=s.reduce((function(e,t){if(t.pattern.test(e.regexp)){t.index=e.regexp.match(t.pattern).index;e.regexp=e.regexp.replace(t.pattern,"("+t.regexp+")")}else{t.index=-1}return e}),{regexp:t,index:[]});var c=s.filter((function(e){return e.index>-1}));c.sort((function(e,t){return e.index-t.index}));var l=new RegExp(a.regexp);var u=l.exec(r);if(u){var d=n||e.exports.now();c.forEach((function(e,t){e.fn(d,u[t+1])}));return d}throw new Error("String '"+r+"' could not be parsed as '"+t+"'")}function parse(e,t,r){if(!e){throw new Error("pattern must be supplied")}return extractDateParts(e,t,r)}function now(){return new Date}e.exports=asString;e.exports.asString=asString;e.exports.parse=parse;e.exports.now=now;e.exports.ISO8601_FORMAT="yyyy-MM-ddThh:mm:ss.SSS";e.exports.ISO8601_WITH_TZ_OFFSET_FORMAT="yyyy-MM-ddThh:mm:ss.SSSO";e.exports.DATETIME_FORMAT="dd MM yyyy hh:mm:ss.SSS";e.exports.ABSOLUTETIME_FORMAT="hh:mm:ss.SSS"},8222:(e,t,r)=>{t.formatArgs=formatArgs;t.save=save;t.load=load;t.useColors=useColors;t.storage=localstorage();t.destroy=(()=>{let e=false;return()=>{if(!e){e=true;console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}}})();t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function useColors(){if(typeof window!=="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)){return true}if(typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)){return false}return typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!=="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function formatArgs(t){t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff);if(!this.useColors){return}const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0;let i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{if(e==="%%"){return}n++;if(e==="%c"){i=n}}));t.splice(i,0,r)}t.log=console.debug||console.log||(()=>{});function save(e){try{if(e){t.storage.setItem("debug",e)}else{t.storage.removeItem("debug")}}catch(e){}}function load(){let e;try{e=t.storage.getItem("debug")}catch(e){}if(!e&&typeof process!=="undefined"&&"env"in process){e=process.env.DEBUG}return e}function localstorage(){try{return localStorage}catch(e){}}e.exports=r(6243)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},6243:(e,t,r)=>{function setup(e){createDebug.debug=createDebug;createDebug.default=createDebug;createDebug.coerce=coerce;createDebug.disable=disable;createDebug.enable=enable;createDebug.enabled=enabled;createDebug.humanize=r(900);createDebug.destroy=destroy;Object.keys(e).forEach((t=>{createDebug[t]=e[t]}));createDebug.names=[];createDebug.skips=[];createDebug.formatters={};function selectColor(e){let t=0;for(let r=0;r<e.length;r++){t=(t<<5)-t+e.charCodeAt(r);t|=0}return createDebug.colors[Math.abs(t)%createDebug.colors.length]}createDebug.selectColor=selectColor;function createDebug(e){let t;let r=null;let n;let i;function debug(...e){if(!debug.enabled){return}const r=debug;const n=Number(new Date);const i=n-(t||n);r.diff=i;r.prev=t;r.curr=n;t=n;e[0]=createDebug.coerce(e[0]);if(typeof e[0]!=="string"){e.unshift("%O")}let o=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((t,n)=>{if(t==="%%"){return"%"}o++;const i=createDebug.formatters[n];if(typeof i==="function"){const n=e[o];t=i.call(r,n);e.splice(o,1);o--}return t}));createDebug.formatArgs.call(r,e);const s=r.log||createDebug.log;s.apply(r,e)}debug.namespace=e;debug.useColors=createDebug.useColors();debug.color=createDebug.selectColor(e);debug.extend=extend;debug.destroy=createDebug.destroy;Object.defineProperty(debug,"enabled",{enumerable:true,configurable:false,get:()=>{if(r!==null){return r}if(n!==createDebug.namespaces){n=createDebug.namespaces;i=createDebug.enabled(e)}return i},set:e=>{r=e}});if(typeof createDebug.init==="function"){createDebug.init(debug)}return debug}function extend(e,t){const r=createDebug(this.namespace+(typeof t==="undefined"?":":t)+e);r.log=this.log;return r}function enable(e){createDebug.save(e);createDebug.namespaces=e;createDebug.names=[];createDebug.skips=[];let t;const r=(typeof e==="string"?e:"").split(/[\s,]+/);const n=r.length;for(t=0;t<n;t++){if(!r[t]){continue}e=r[t].replace(/\*/g,".*?");if(e[0]==="-"){createDebug.skips.push(new RegExp("^"+e.slice(1)+"$"))}else{createDebug.names.push(new RegExp("^"+e+"$"))}}}function disable(){const e=[...createDebug.names.map(toNamespace),...createDebug.skips.map(toNamespace).map((e=>"-"+e))].join(",");createDebug.enable("");return e}function enabled(e){if(e[e.length-1]==="*"){return true}let t;let r;for(t=0,r=createDebug.skips.length;t<r;t++){if(createDebug.skips[t].test(e)){return false}}for(t=0,r=createDebug.names.length;t<r;t++){if(createDebug.names[t].test(e)){return true}}return false}function toNamespace(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}function coerce(e){if(e instanceof Error){return e.stack||e.message}return e}function destroy(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}createDebug.enable(createDebug.load());return createDebug}e.exports=setup},8237:(e,t,r)=>{if(typeof process==="undefined"||process.type==="renderer"||process.browser===true||process.__nwjs){e.exports=r(8222)}else{e.exports=r(4874)}},4874:(e,t,r)=>{const n=r(3867);const i=r(1669);t.init=init;t.log=log;t.formatArgs=formatArgs;t.save=save;t.load=load;t.useColors=useColors;t.destroy=i.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");t.colors=[6,2,3,4,5,1];try{const e=r(9318);if(e&&(e.stderr||e).level>=2){t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221]}}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let n=process.env[t];if(/^(yes|on|true|enabled)$/i.test(n)){n=true}else if(/^(no|off|false|disabled)$/i.test(n)){n=false}else if(n==="null"){n=null}else{n=Number(n)}e[r]=n;return e}),{});function useColors(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)}function formatArgs(t){const{namespace:r,useColors:n}=this;if(n){const n=this.color;const i="[3"+(n<8?n:"8;5;"+n);const o=`  ${i};1m${r} [0m`;t[0]=o+t[0].split("\n").join("\n"+o);t.push(i+"m+"+e.exports.humanize(this.diff)+"[0m")}else{t[0]=getDate()+r+" "+t[0]}}function getDate(){if(t.inspectOpts.hideDate){return""}return(new Date).toISOString()+" "}function log(...e){return process.stderr.write(i.format(...e)+"\n")}function save(e){if(e){process.env.DEBUG=e}else{delete process.env.DEBUG}}function load(){return process.env.DEBUG}function init(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++){e.inspectOpts[r[n]]=t.inspectOpts[r[n]]}}e.exports=r(6243)(t);const{formatters:o}=e.exports;o.o=function(e){this.inspectOpts.colors=this.useColors;return i.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")};o.O=function(e){this.inspectOpts.colors=this.useColors;return i.inspect(e,this.inspectOpts)}},9550:(e,t)=>{t.AclPrivate="private";t.AclPublicRead="public-read";t.AclPublicReadWrite="public-read-write";t.AclPublicReadDelivered="public-read-delivered";t.AclPublicReadWriteDelivered="public-read-write-delivered";t.AclAuthenticatedRead="authenticated-read";t.AclBucketOwnerRead="bucket-owner-read";t.AclBucketOwnerFullControl="bucket-owner-full-control";t.AclLogDeliveryWrite="log-delivery-write";t.StorageClassStandard="STANDARD";t.StorageClassWarm="WARM";t.StorageClassCold="COLD";t.PermissionRead="READ";t.PermissionWrite="WRITE";t.PermissionReadAcp="READ_ACP";t.PermissionWriteAcp="WRITE_ACP";t.PermissionFullControl="FULL_CONTROL";t.GroupAllUsers="AllUsers";t.GroupAuthenticatedUsers="AuthenticatedUsers";t.GroupLogDelivery="LogDelivery";t.RestoreTierExpedited="Expedited";t.RestoreTierStandard="Standard";t.RestoreTierBulk="Bulk";t.GranteeGroup="Group";t.GranteeUser="CanonicalUser";t.CopyMetadata="COPY";t.ReplaceMetadata="REPLACE";t.EventObjectCreatedAll="ObjectCreated:*";t.EventObjectCreatedPut="ObjectCreated:Put";t.EventObjectCreatedPost="ObjectCreated:Post";t.EventObjectCreatedCopy="ObjectCreated:Copy";t.EventObjectCreatedCompleteMultipartUpload="ObjectCreated:CompleteMultipartUpload";t.EventObjectRemovedAll="ObjectRemoved:*";t.EventObjectRemovedDelete="ObjectRemoved:Delete";t.EventObjectRemovedDeleteMarkerCreated="ObjectRemoved:DeleteMarkerCreated";const r=1024;const n=1024*r;const i=1024*n;t.KB=r;t.MB=n;t.GB=i;t.MAX_UPLOAD_PART_COUNT=1e4;t.MAX_UPLOAD_PART_SIZE=5*i;t.DEFAULT_UPLOAD_PART_SIZE=5*n;t.MIN_UPLOAD_PART_SIZE=100*r;t.MAX_DOWNLOAD_PART_SIZE=5*i;t.DEFAULT_DOWNLOAD_PART_SIZE=5*n;t.MIN_DOWNLOAD_PART_SIZE=100*r},317:(e,t,r)=>{const n=r(5747);const i=r(5622);const o=r(3048);function checkAndCreateDir(e,t){if(!n.existsSync(e)){let r=t.dirname(e);if(!n.existsSync(r)){checkAndCreateDir(r)}n.mkdirSync(e)}}function LogUtil(){this.loggerInf=null;this.loggerRun=null;this.consoleLog=null}LogUtil.prototype.initLog=function(e,t,r,n,s,a,c){if(c){this.loggerInf=c;return}if(!e){return}let l=i.dirname(e);checkAndCreateDir(l,i);let u=i.extname(e);let d=i.basename(e,u);if(!u){u=".log"}n=n===undefined?"info":String(n);t=t===undefined?102400:parseInt(t,10);r=r===undefined?10:parseInt(r,10);let p=i.join(l,d+u);let f="%d{yyyy/MM/dd hh:mm:ss SSS}|%c|%-5p|%m";let h="sdk-file";let m="sdk-console";if(a){h+=":"+String(a);m+=":"+String(a)}let y={};y[m]={type:"console"};y[h]={type:"file",filename:p,maxLogSize:t,backups:r,layout:{type:"pattern",pattern:f}};let g={default:{appenders:[m],level:"off"}};g[h]={appenders:[h],level:n.toLowerCase()};g[m]={appenders:[m],level:n.toLowerCase()};o.configure({categories:g,appenders:y,replaceConsole:true});this.loggerInf=o.getLogger(h);if(s){this.consoleLog=o.getLogger(m)}};LogUtil.prototype._doLog=function(e,t){if(e.toLowerCase()==="debug"){if(this.loggerInf){this.loggerInf.debug(t)}if(this.consoleLog){this.consoleLog.debug(t)}}else if(e.toLowerCase()==="info"){if(this.loggerInf){this.loggerInf.info(t)}if(this.consoleLog){this.consoleLog.info(t)}}else if(e.toLowerCase()==="warn"){if(this.loggerInf){this.loggerInf.warn(t)}if(this.consoleLog){this.consoleLog.warn(t)}}else if(e.toLowerCase()==="error"){if(this.loggerInf){this.loggerInf.error(t)}if(this.consoleLog){this.consoleLog.error(t)}}};LogUtil.prototype.isLevelEnabled=function(e){return this.loggerInf&&this.loggerInf.isLevelEnabled(e)||this.consoleLog&&this.consoleLog.isLevelEnabled(e)};LogUtil.prototype.runLog=function(e,t,r){if(!this.loggerInf&&!this.consoleLog){return}let n=t+"|"+r;this._doLog(e,n)};e.exports=LogUtil},2600:(e,t,r)=>{const n=r(1669);const i=r(3089);const o=r(317);const s=r(9550);const{MAX_UPLOAD_PART_COUNT:a,MIN_UPLOAD_PART_SIZE:c,MAX_UPLOAD_PART_SIZE:l,DEFAULT_UPLOAD_PART_SIZE:u,MIN_DOWNLOAD_PART_SIZE:d,MAX_DOWNLOAD_PART_SIZE:p,DEFAULT_DOWNLOAD_PART_SIZE:f}=s;function ObsClient(e){this.factory(e)}function capitalize(e){return e.slice(0,1).toUpperCase()+e.slice(1)}const h=["headBucket","getBucketMetadata","deleteBucket","setBucketQuota","getBucketQuota","getBucketStorageInfo","setBucketPolicy","getBucketPolicy","deleteBucketPolicy","setBucketVersioningConfiguration","getBucketVersioningConfiguration","getBucketLocation","listVersions","listObjects","setBucketLifecycleConfiguration","getBucketLifecycleConfiguration","deleteBucketLifecycleConfiguration","setBucketAcl","getBucketAcl","setBucketLoggingConfiguration","getBucketLoggingConfiguration","setBucketWebsiteConfiguration","getBucketWebsiteConfiguration","deleteBucketWebsiteConfiguration","setBucketNotification","getBucketNotification","setBucketTagging","deleteBucketTagging","getBucketTagging","setBucketReplication","deleteBucketReplication","getBucketReplication","getObject","setObjectMetadata","getObjectMetadata","setObjectAcl","getObjectAcl","deleteObject","deleteObjects","listMultipartUploads","listParts","abortMultipartUpload","completeMultipartUpload","setBucketCors","getBucketCors","deleteBucketCors","optionsBucket","optionsObject","setBucketStoragePolicy","getBucketStoragePolicy","getBucketEncryption","setBucketEncryption","deleteBucketEncryption","getBucketDirectColdAccess","setBucketDirectColdAccess","deleteBucketDirectColdAccess","renameObject","getBucketRequesterPayment","setBucketRequesterPayment"];function createAction(e){return function(t,r){this.exec(capitalize(e),t,r)}}for(let e=0;e<h.length;e++){let t=h[e];ObsClient.prototype[t]=createAction(t)}ObsClient.prototype.createBucket=function(e,t){if(this.util&&this.util.isCname){return t("createBucket is not allowed in customdomain mode",null)}this.exec("CreateBucket",e,t)};ObsClient.prototype.listBuckets=function(e,t){if(this.util&&this.util.isCname){return t("listBuckets is not allowed in customdomain mode",null)}this.exec("ListBuckets",e,t)};ObsClient.prototype.putObject=function(e,t){if("Body"in e&&"SourceFile"in e){let e="the input body and sourcefile exist at same time,please specify one of eigther a string or file to be send!";if(this.log.isLevelEnabled("error")){this.log.runLog("error","PutObject",e)}return t(new Error(e),null)}if(!("ContentType"in e)){if("Key"in e){e.ContentType=this.util.mimeTypes[e.Key.substring(e.Key.lastIndexOf(".")+1)]}if(!e.ContentType&&"SourceFile"in e){e.ContentType=this.util.mimeTypes[e.SourceFile.substring(e.SourceFile.lastIndexOf(".")+1)]}}this.exec("PutObject",e,t)};ObsClient.prototype.modifyObject=function(e,t){if("Body"in e&&"SourceFile"in e){let e="the input body and sourcefile exist at same time,please specify one of eigther a string or file to be send!";if(this.log.isLevelEnabled("error")){this.log.runLog("error","ModifyObject",e)}return t(new Error(e),null)}if(!("ContentType"in e)){if("Key"in e){e.ContentType=this.util.mimeTypes[e.Key.substring(e.Key.lastIndexOf(".")+1)]}if(!e.ContentType&&"SourceFile"in e){e.ContentType=this.util.mimeTypes[e.SourceFile.substring(e.SourceFile.lastIndexOf(".")+1)]}}this.exec("ModifyObject",e,t)};ObsClient.prototype.appendObject=function(e,t){if("Body"in e&&"SourceFile"in e){let e="the input body and sourcefile exist at same time,please specify one of eigther a string or file to be send!";if(this.log.isLevelEnabled("error")){this.log.runLog("error","PutObject",e)}return t(new Error(e),null)}if(!("ContentType"in e)){if("Key"in e){e.ContentType=this.util.mimeTypes[e.Key.substring(e.Key.lastIndexOf(".")+1)]}if(!e.ContentType&&"SourceFile"in e){e.ContentType=this.util.mimeTypes[e.SourceFile.substring(e.SourceFile.lastIndexOf(".")+1)]}}this.exec("AppendObject",e,t)};ObsClient.prototype.copyObject=function(e,t){let r="CopySource";if(r in e){let t=e[r];let n=t.lastIndexOf("?versionId=");if(n>0){e[r]=this.util.encodeURIWithSafe(t.slice(0,n))+t.slice(n)}else{e[r]=this.util.encodeURIWithSafe(t)}}this.exec("CopyObject",e,t)};ObsClient.prototype.copyPart=function(e,t){let r="CopySource";if(r in e){let t=e[r];let n=t.lastIndexOf("?versionId=");if(n>0){e[r]=this.util.encodeURIWithSafe(t.slice(0,n))+t.slice(n)}else{e[r]=this.util.encodeURIWithSafe(t)}}this.exec("CopyPart",e,t)};ObsClient.prototype.restoreObject=function(e,t){this.exec("RestoreObject",e,(function(e,r){if(!e&&r.InterfaceResult&&r.CommonMsg.Status<300){r.InterfaceResult.RestoreStatus=r.CommonMsg.Status===200?"AVALIABLE":"INPROGRESS"}t(e,r)}))};ObsClient.prototype.initiateMultipartUpload=function(e,t){if(!("ContentType"in e)&&"Key"in e){e.ContentType=this.util.mimeTypes[e.Key.substring(e.Key.lastIndexOf(".")+1)]}this.exec("InitiateMultipartUpload",e,t)};ObsClient.prototype.uploadPart=function(e,t){if("Body"in e&&"SourceFile"in e){let e="the input body and sourcefile exist at same time,please specify one of eigther a string or file to be send!";if(this.log.isLevelEnabled("error")){this.log.runLog("error","UploadPart",e)}return t(new Error(e),null)}this.exec("UploadPart",e,t)};ObsClient.prototype.uploadFile=function(e,t){e=e||{};let n=this.log;let i=this;let o="uploadFile";let s=(new Date).getTime();t=t||function(){};let _callback=function(e,r,i){if(n.isLevelEnabled("info")){n.runLog("info",o,"ObsClient cost "+((new Date).getTime()-s)+" ms")}if(typeof e==="string"){if(r){e+=":"+String(r)}t(e,i);return}t(e?e.CommonMsg.Code+":"+e.CommonMsg.Message:null,i)};if(n.isLevelEnabled("info")){n.runLog("info",o,"enter "+o+"...")}let d=e.Bucket;if(!d){_callback("InvalidArgument","Bucket is a required element!");return}d=String(d);let p=e.Key;if(!p){_callback("InvalidArgument","Key is a required element!");return}p=String(p);let f=e.UploadFile;if(!f){_callback("InvalidArgument","UploadFile is a required element!");return}let h=r(5747);f=String(f);if(!h.existsSync(f)){_callback("InvalidArgument","UploadFile does not exist!");return}let m=h.statSync(f);if(!m.isFile()){_callback("InvalidArgument","UploadFile is not a file!");return}let y=m.size;let g=e.EnableCheckpoint;let A=null;let b=false;let x=parseInt(e.TaskNum,10)||20;if(g){A=e.CheckpointFile;A=A&&A!==""?String(A):f+".upload_record";let t=r(5622);let n=t.dirname(A);if(!h.existsSync(n)){let mkdirsSync=function(e){if(h.existsSync(e)){return true}else{if(mkdirsSync(t.dirname(e))){h.mkdirSync(e);return true}}};mkdirsSync(n)}b=e.EnableCheckSum}if(n.isLevelEnabled("debug")){n.runLog("debug",o,"Begin to uploadFile to OBS from file:"+f)}let w=r(8614);let S=new w.EventEmitter;let calculateUploadCheckpointMD5=function(e){let t=[];t.push(e.bucketName);t.push(e.objectKey);t.push(e.uploadFile);t.push(String(e.partSize));t.push(String(e.partCount));if(e.contentType){t.push(e.contentType)}if(e.acl){t.push(e.acl)}if(e.websiteRedirectLocation){t.push(e.websiteRedirectLocation)}if(e.sseKms){t.push(e.sseKms)}if(e.sseKmsKey){t.push(e.sseKmsKey)}if(e.sseC){t.push(e.sseC)}if(e.sseCKey){t.push(e.sseCKey)}if(e.metadata){t.push(JSON.stringify(e.metadata))}if(e.uploadId){t.push(e.uploadId)}if(e.partsMeta&&e.partsMeta instanceof Object){for(let r in e.partsMeta){if({}.hasOwnProperty.call(e.partsMeta,r)){t.push(String(r));let n=e.partsMeta[r];if(n){t.push(String(n.offset));t.push(String(n.partSize));t.push(String(n.isCompleted));t.push(String(n.etag))}}}}return i.util.bufMD5(Buffer.from(t.join(""),"utf8"))};let writeCheckpointFileSync=function(e,t){try{h.writeFileSync(e,JSON.stringify(t));return true}catch(r){_callback("WriteCheckpointFileError",r);if(n.isLevelEnabled("debug")){n.runLog("debug",o,"Write checkpoint file failed and abort upload, uploadId "+t.uploadId)}if(t.uploadId){i.abortMultipartUpload({Bucket:t.bucketName,Key:t.objectKey,UploadId:t.uploadId},(function(t,r){if(!t&&(r.CommonMsg.Status<300||r.CommonMsg.Status===404)){h.unlink(e,(function(){}))}}))}else{h.unlink(e,(function(){}))}return false}};let abortRequest=function(e,t,r,n){if(e&&e.uploadId){i.abortMultipartUpload({Bucket:e.bucketName,Key:e.objectKey,UploadId:e.uploadId},(function(e,i){if(!e&&(i.CommonMsg.Status<300||i.CommonMsg.Status===404)){if(t){h.unlink(t,(function(){}))}}_callback(r,n)}))}else{if(t){h.unlink(t,(function(){}))}_callback(r,n)}};let transResultToError=function(e){let t=[];if(e&&e.CommonMsg){t.push("Status:"+e.CommonMsg.Status);t.push("Code:"+e.CommonMsg.Code);t.push("Message:"+e.CommonMsg.Message)}return t.join(",")};S.on("start to uploadFile",(function(e){if(!e){e={}}if(!e.partsMeta){e.partsMeta={}}let startToUploadFile=function(t){let r=0;let s=false;let a=false;let completedRequest=function(){if(r===e.partCount){if(!s){let r=[];for(let t in e.partsMeta){if({}.hasOwnProperty.call(e.partsMeta,t)){r.push({PartNumber:t,ETag:e.partsMeta[t].etag})}}i.completeMultipartUpload({Bucket:e.bucketName,Key:e.objectKey,UploadId:t,Parts:r},(function(t,r){if(t||r.CommonMsg.Status>=500){if(A){_callback("IncompletedUpload",t?t:transResultToError(r))}else{abortRequest(e,A,"UploadFileFailed",t?t:transResultToError(r))}}else if(r.CommonMsg.Status>=300&&r.CommonMsg.Status<500){abortRequest(e,A,r.CommonMsg.Code,r.CommonMsg.Message)}else{if(A){h.unlink(A,(function(){}))}_callback(null,null,r)}}))}else{if(A){_callback("IncompletedUpload","UploadFile finished with error, you can retry with the same parameters")}else{abortRequest(e,A,"UploadFileFailed","UploadFile finished with error!")}}}};S.on("doUpload",(function(c,l,u){let d=(c-1)*u;let p=c===l?e.partCount:c*u;let f=0;while(d<p){if(a){return}let p=d+1;if(e.partsMeta[p]&&e.partsMeta[p].isCompleted){r++;f++;let t=c===l?e.partCount-(c-1)*u:u;if(f===t&&r<e.partCount){S.emit("doUpload",c+1,l,u)}completedRequest()}else{let h=d*e.partSize;let m=d+1===e.partCount?e.uploadFileStat.fileSize-h:e.partSize;i.uploadPart({Bucket:e.bucketName,Key:e.objectKey,PartNumber:p,UploadId:t,SourceFile:e.uploadFile,Offset:h,PartSize:m,SseC:e.sseC,SseCKey:e.sseCKey},(function(i,d){if(a){return}let y={offset:h,partSize:m};if(i||d.CommonMsg.Status>=500){y.isCompleted=false;s=true}else if(d.CommonMsg.Status>=300&&d.CommonMsg.Status<500){a=true;abortRequest(e,A,d.CommonMsg.Code,d.CommonMsg.Message);return}else{y.etag=d.InterfaceResult.ETag;y.isCompleted=true}e.partsMeta[p]=y;if(n.isLevelEnabled("debug")){n.runLog("debug",o,"Part "+String(p)+" is finished, uploadId "+t)}e.md5=calculateUploadCheckpointMD5(e);if(A&&!writeCheckpointFileSync(A,e)){return}r++;f++;let g=c===l?e.partCount-(c-1)*u:u;if(f===g&&r<e.partCount){S.emit("doUpload",c+1,l,u)}completedRequest()}))}d++}}));let c=e.partCount%x===0?e.partCount/x:Math.floor(e.partCount/x)+1;S.emit("doUpload",1,c,x)};let t=e.uploadId;if(!t){let r=e.contentType?e.contentType:i.util.mimeTypes[p.substring(p.lastIndexOf(".")+1)];if(!r){r=i.util.mimeTypes[f.substring(f.lastIndexOf(".")+1)]}i.initiateMultipartUpload({Bucket:e.bucketName,Key:e.objectKey,ACL:e.acl,Metadata:e.metadata,WebsiteRedirectLocation:e.websiteRedirectLocation,ContentType:r,SseKms:e.sseKms,SseKmsKey:e.sseKmsKey,SseC:e.sseC,SseCKey:e.sseCKey},(function(r,i){if(r){if(A){h.unlink(A,(function(){}))}_callback("InitateMultipartUploadFailed",r);return}if(i.CommonMsg.Status>=300){if(A){h.unlink(A,(function(){}))}_callback(i);return}t=i.InterfaceResult.UploadId;e.uploadId=t;e.md5=calculateUploadCheckpointMD5(e);if(n.isLevelEnabled("debug")){n.runLog("debug",o,"Claim a new upload id "+t)}if(A&&!writeCheckpointFileSync(A,e)){return}startToUploadFile(t)}))}else{startToUploadFile(t)}}));let C;let v=parseInt(e.PartSize,10);let P;if(y===0){v=0;P=1}else{if(isNaN(v)||v<c||v>l){v=u}P=Math.floor(y/v);if(P>a){P=a;v=Math.ceil(y/P)}else{if(y%v!==0){P++}}}if(n.isLevelEnabled("debug")){n.runLog("debug",o,"Total parts count "+P)}C={bucketName:d,objectKey:p,uploadFile:f,partSize:v,partCount:P};C.contentType=e.ContentType;C.acl=e.ACL;C.websiteRedirectLocation=e.WebsiteRedirectLocation;C.sseKms=e.SseKms;C.sseKmsKey=e.SseKmsKey;C.sseC=e.sseC;C.sseCKey=e.SseCKey;C.metadata=e.Metadata;C.md5=calculateUploadCheckpointMD5(C);C.uploadFileStat={fileSize:y,lastModified:m.mtime.toUTCString()};if(A){if(!h.existsSync(A)){S.on("start to writeFile",(function(){h.writeFile(A,JSON.stringify(C),(function(e){if(e){_callback("WriteCheckpointFileError",e);return}S.emit("start to uploadFile",C)}))}));if(b){i.util.fileMD5(f,(function(e,t){if(e){t=""}C.uploadFileStat.checkSum=t;S.emit("start to writeFile")}))}else{S.emit("start to writeFile")}}else{h.readFile(A,(function(e,t){if(e){h.unlink(A,(function(){}));_callback("ReadCheckpointFileError",e);return}try{C=JSON.parse(t)}catch(e){h.unlink(A,(function(){}));_callback("ParseCheckpointFileError",e);return}if(!C||C.bucketName!==d||C.objectKey!==p||C.uploadFile!==f||!C.uploadFileStat||C.uploadFileStat.fileSize!==m.size||C.uploadFileStat.lastModified!==m.mtime.toUTCString()||C.md5!==calculateUploadCheckpointMD5(C)){abortRequest(C,A,"CheckpointFileInvalid","CheckpointFile is invalid!");return}if(C.uploadFileStat.checkSum){i.util.fileMD5(f,(function(e,t){if(e||t!==C.uploadFileStat.checkSum){abortRequest(C,A,"CheckpointFileInvalid","CheckpointFile is invalid!");return}S.emit("start to uploadFile",C)}))}else{S.emit("start to uploadFile",C)}}))}}else{S.emit("start to uploadFile",C)}};ObsClient.prototype.downloadFile=function(e,t){e=e||{};let i=this.log;let o=this;let s="downloadFile";let a=(new Date).getTime();t=t||function(){};let _callback=function(e,r,n){i.runLog("info",s,"ObsClient cost "+((new Date).getTime()-a)+" ms");if(typeof e==="string"){if(r){e+=":"+String(r)}t(e,n)}else{t(e?e.CommonMsg.Code+":"+e.CommonMsg.Message:null,n)}};i.runLog("debug",s,"enter "+s+"...");let c=e.Bucket;if(!c){i.runLog("error",s,"Bucket is a required element!");_callback("InvalidArgument","Bucket is a required element!");return}c=String(c);let l=e.Key;if(!l){i.runLog("error",s,"Key is a required element!");_callback("InvalidArgument","Key is a required element!");return}l=String(l);let u=r(5622);let h;if(!e.DownloadFile){h=r(1765).cwd()+u.sep+l;i.runLog("info",s,"DownloadFile is not set, will put file to path:"+h+", by default")}else{h=String(e.DownloadFile)}let m=".obsnodejssdk.tmp";let y=".obsnodejssdk.chkpt";let g=h+m;let A=r(5747);let b=parseInt(e.TaskNum,10)||10;let initWriteAndClose4DownloadTmpFile=function(e,t,r,n){let o=Buffer.from("1","utf8");let s=(new Date).getTime();A.write(e,o,0,1,r-1,(r=>{i.runLog("debug","prepareDownloadTempFile",` prepare ${t} cost `+((new Date).getTime()-s)+" ms");if(r){i.runLog("error","prepareDownloadTempFile",`ftruncate temp file:${t} failed , and cost: ${((new Date).getTime()-s)/1e3}`);i.runLog("error","prepareDownloadTempFile",`ftruncate temp file:${t} failed , err:${r.stack}`);A.unlinkSync(t);return n(false,t)}A.close(e,(e=>{if(e){i.runLog("error","prepareDownloadTempFile",`close fd failed, err:${e.stack}`);A.unlinkSync(t);return n(false,t)}return n(true,t)}))}))};let initDownloadTmpFile=function(e,t,r){A.open(e,"w",((n,o)=>{if(n){i.runLog("error","prepareDownloadTempFile",`create temp download file ${e}  failed, error:${n.stack}`);_callback("InnerError",`create temp download file ${e}  failed, error:${n.stack}`);return r(false,e)}let s=(new Date).getTime();A.ftruncate(o,t,(n=>{if(n){initWriteAndClose4DownloadTmpFile(o,e,t,r)}else{i.runLog("debug","prepareDownloadTempFile",` prepare ${e} cost `+((new Date).getTime()-s)+" ms");A.close(o,(t=>{if(t){i.runLog("error","prepareDownloadTempFile",`close fd failed, err:${t.stack}`);A.unlinkSync(e);return r(false,e)}return r(true,e)}))}}))}))};const x=n.promisify(((e,t,r)=>{if(A.existsSync(e)){try{A.unlinkSync(e)}catch(t){i.runLog("error","prepareDownloadTempFile",`delete ${e} file failed , exception: ${t}`);_callback("DeleteTempFileError",`delete ${e} file failed , exception: ${t}`);return}}initDownloadTmpFile(e,t,r)}));let mkdirsSync=function(e){if(A.existsSync(e)){return true}else{if(mkdirsSync(u.dirname(e))){A.mkdirSync(e);return true}}};o.getObjectMetadata({Bucket:c,Key:l,VersionId:e.VersionId,SseC:e.SseC,SseCKey:e.SseCKey},(function(n,m){i.runLog("debug",s,` getObjectMetadata of ${l} cost `+((new Date).getTime()-a)+" ms");let w=e.EnableCheckpoint;let S=null;if(w){S=e.CheckpointFile;S=S&&S!==""?String(S):h+y;let t=u.dirname(S);if(!A.existsSync(t)){mkdirsSync(t)}}let C=u.dirname(g);if(!A.existsSync(C)){mkdirsSync(C)}if(n||m.CommonMsg.Status>=500){i.runLog("warn",s,"the peer server occur exception!");_callback("GetObjectSizeError",n);return}if(m.CommonMsg.Status>=300&&m.CommonMsg.Status<500){i.runLog("warn",s,m.CommonMsg.Message);_callback(m);return}let v=parseInt(m.InterfaceResult.ContentLength,10);if(v===0){A.writeFileSync(h,Buffer.from(""));t(null,m);return}let P=m;let M=r(8614);let O=new M.EventEmitter;let calculateDownloadCheckpointMD5=function(e){let t=[];t.push(e.bucketName);t.push(e.objectKey);t.push(e.downloadFile);t.push(String(e.partSize));t.push(String(e.partCount));if(e.versionId){t.push(e.versionId)}if(e.ifMatch){t.push(e.ifMatch)}if(e.ifModifiedSince){t.push(e.ifModifiedSince)}if(e.ifNoneMatch){t.push(e.ifNoneMatch)}if(e.ifUnmodifiedSince){t.push(e.ifUnmodifiedSince)}if(e.sseC){t.push(e.sseC)}if(e.sseCKey){t.push(e.sseCKey)}if(e.partsMeta&&e.partsMeta instanceof Object){for(let r in e.partsMeta){if({}.hasOwnProperty.call(e.partsMeta,r)){t.push(String(r));let n=e.partsMeta[r];if(n){t.push(String(n.startPos));t.push(String(n.endPos));t.push(String(n.isCompleted))}}}}return o.util.bufMD5(Buffer.from(t.join(""),"utf8"))};let writeCheckpointFileSync=function(e,t){try{if(A.existsSync(g)){let e=A.statSync(g);if(!t.tempFileStatus){t.tempFileStatus={}}t.tempFileStatus.fileName=g;t.tempFileStatus.fileSize=e.size;t.tempFileStatus.lastModified=e.mtime.toUTCString()}A.writeFileSync(e,JSON.stringify(t));return true}catch(t){A.unlinkSync(e,(function(){}));A.unlinkSync(g,(function(){}));_callback("WriteCheckpointFileError",t);i.runLog("error",s,"Write checkpoint file failed, err: "+t);return false}};O.on("start to downloadFile",(function(e){if(!e){e={}}if(!e.partsMeta){e.partsMeta={}}i.runLog("debug",s,"Begin to downloadFile from OBS to:"+h);let t=0;let r=false;let n=false;let tryCompletedDownload=function(){if(t!==e.partCount){return}i.runLog("debug",s,` getObject of ${l} cost `+((new Date).getTime()-a)+" ms");if(!r){A.rename(g,h,(function(t){if(t){i.runLog("error","completedDownload",`DownloadFile finished but rename temp file error: ${t.stack}`);if(S){if(!writeCheckpointFileSync(S,e)){return}_callback("IncompletedDownload",`you can retry with the same parameters, DownloadFile finished but rename temp file error: ${t.stack}`)}else{A.unlinkSync(g,(function(){}));_callback("DownloadFileFailed",`DownloadFile finished but rename temp file error: ${t.stack}`)}return}if(S){A.unlinkSync(S,(function(){}))}if(m&&m.InterfaceResult){delete m.InterfaceResult.ContentLength}_callback(null,null,m)}))}else{if(S){if(!writeCheckpointFileSync(S,e)){return}_callback("IncompletedDownload","DownloadFile finished with error, you can retry with the same parameters")}else{A.unlinkSync(g,(function(){}));_callback("DownloadFileFailed","DownloadFile finished with error")}}};O.on("doDownload",(function(a,c,l){let u=(a-1)*l;let d=a===c?e.partCount:a*l;let p=0;let currStepEnd=function(r,n,i){e.partsMeta[r]=n;e.md5=calculateDownloadCheckpointMD5(e);if(S&&!writeCheckpointFileSync(S,e)){return}t++;p++;if(!i){return}let o=a===c?e.partCount-(a-1)*l:l;if(p===o&&t<e.partCount){O.emit("doDownload",a+1,c,l)}else if(p===o&&t===e.partCount){tryCompletedDownload()}};let checkSkipPartI=function(r){if(e.partsMeta[r]&&e.partsMeta[r].isCompleted){t++;p++;let r=a===c?e.partCount-(a-1)*l:l;if(p===r&&t<e.partCount){O.emit("doDownload",a+1,c,l)}else if(p===r&&t===e.partCount){tryCompletedDownload()}return true}else{return false}};let savePartIdata=function(e,t,n,o){let a;try{let c=o.InterfaceResult.Content;a=A.createWriteStream(g,{flags:"r+",start:t,autoClose:true});a.on("error",(t=>{r=true;n.isCompleted=false;currStepEnd(e,n,false);i.runLog("warn",s,`write to downloadTempFile occur exception : ${t.stack}`);_callback("DownloadFileFailed",`write to downloadTempFile occur exception : ${t.stack}`);delete o.InterfaceResult.Content}));c.on("error",(t=>{r=true;try{a.close()}catch(e){i.runLog("warn",s,"close downloadTempFile stream failed!")}n.isCompleted=false;currStepEnd(e,n,false);i.runLog("warn",s,`getObject occur exception during the processing data time : ${t.stack}!`);_callback("DownloadFileFailed",`getObject occur exception during the processing data time : ${t.stack}!`);delete o.InterfaceResult.Content})).on("end",(()=>{if(!c.complete){r=true;n.isCompleted=false;i.runLog("warn",s,"getObject occur exception that does not complete the data transmission!");_callback("DownloadFileFailed","getObject occur exception that does not complete the data transmission!");delete o.InterfaceResult.Content}else{n.isCompleted=true}currStepEnd(e,n,true)}));c.pipe(a,{end:true})}catch(e){r=true;i.runLog("warn",s,"write to downloadTempFile occering execption:"+e)}};let downLoadPartI=function(t){if(checkSkipPartI(t)){return}let a=(t-1)*e.partSize;let c=t===e.partCount?e.objectStatus.objectSize-1:t*e.partSize-1;let l=(new Date).getTime();o.getObject({Bucket:e.bucketName,Key:e.objectKey,VersionId:e.versionId,Range:"bytes="+a+"-"+c,SaveAsStream:true,IfMatch:e.ifMatch,IfModifiedSince:e.ifModifiedSince,IfNoneMatch:e.ifNoneMatch,IfUnmodifiedSince:e.ifUnmodifiedSince,SseC:e.sseC,SseCKey:e.sseCKey},(function(e,o){i.runLog("debug",s,` get part data, first to get the response, cost `+((new Date).getTime()-l)+" ms");let u={startPos:a,endPos:c};if(e||o.CommonMsg.Status>=500){u.isCompleted=false;r=true;currStepEnd(t,u,true);_callback("DownloadFileFailed","the peer server occur exception!");i.runLog("warn",s,"the peer server occur exception!")}else if(o.CommonMsg.Status>=300&&o.CommonMsg.Status<500){n=true;_callback(o);i.runLog("warn",s,o.CommonMsg.Message);return}else{savePartIdata(t,a,u,o)}}))};while(u<d){if(n){return}let e=u+1;downLoadPartI(e);u++}}));let c=e.partCount%b===0?e.partCount/b:Math.floor(e.partCount/b)+1;let u=O.getMaxListeners();if(c>u){O.setMaxListeners(c+1);i.runLog("debug",s,"eventEmitter setMaxListeners from  "+u+" to "+O.getMaxListeners())}O.emit("doDownload",1,c,b)}));let E;let k=parseInt(e.PartSize,10);if(isNaN(k)||k<d||k>p){k=f}let D=v%k===0?Math.floor(v/k):Math.floor(v/k)+1;i.runLog("debug",s,"Total parts count "+D);E={bucketName:c,objectKey:l,downloadFile:h,partSize:k,partCount:D};E.versionId=e.VersionId;E.ifMatch=e.IfMatch;E.ifModifiedSince=e.IfModifiedSince;E.ifNoneMatch=e.IfNoneMatch;E.ifUnmodifiedSince=e.IfUnmodifiedSince;E.sseC=e.SseC;E.sseCKey=e.SseCKey;E.md5=calculateDownloadCheckpointMD5(E);E.objectStatus={objectSize:v,lastModified:P.InterfaceResult.LastModified,etag:P.InterfaceResult.ETag};let tryContinueDownload_noChkFile=function(){A.writeFile(S,JSON.stringify(E),(function(e){if(e){i.runLog("error",s,`failed to write to checkpointFile: ${e.stack}`);_callback("WriteCheckpointFileError",`failed to write to checkpointFile: ${e.stack}`);return}x(g,v,((e,t)=>{if(e){O.emit("start to downloadFile",E)}})).catch((e=>{i.runLog("error",s,"failed to download file: "+l+", reason: "+e)}))}))};let verifyDownloadTempFileStatus=function(e){if(!e||!e.fileName||!e.lastModified||!e.fileSize){i.runLog("warn","verifyTempFileStatus"," tempFileStatus infomation is not integrity.");return false}if(!A.existsSync(g)){i.runLog("warn","verifyTempFileStatus",g+" does not exist.");return false}let t=A.statSync(g);if(e.fileName!==g||e.lastModified!==t.mtime.toUTCString()||e.fileSize!==t.size){i.runLog("warn","verifyTempFileStatus"," the tempFileStatus information in checkpointfile is not consistent.");return false}return true};let tryContinueDownload_hasChkFile=function(){A.readFile(S,(function(e,t){_tmpDownloadCheckpoint=E;if(e){i.runLog("error",s,`read checkpointFile occur error: ${e.stack}`);A.unlinkSync(S,(function(){}));_callback("ReadCheckpointFileError",`read checkpointFile occur error: ${e.stack}`)}else{try{E=JSON.parse(t)}catch(e){i.runLog("error",s,"pasre checkpointFile data occur exception : "+e);A.unlinkSync(S,(function(){}));_callback("ParseCheckpointFileError","pasre checkpointFile data occur exception : "+e)}}if(!E||E.bucketName!==c||E.objectKey!==l||E.downloadFile!==h||!E.objectStatus||E.objectStatus.objectSize!==v||E.objectStatus.lastModified!==P.InterfaceResult.LastModified||E.objectStatus.etag!==P.InterfaceResult.ETag||!verifyDownloadTempFileStatus(E.tempFileStatus)||E.md5!==calculateDownloadCheckpointMD5(E)){A.unlinkSync(S,(function(){}));i.runLog("warn",s,"CheckpointFile is invalid!");E=_tmpDownloadCheckpoint;x(g,v,((e,t)=>{if(e){O.emit("start to downloadFile",E)}})).catch((e=>{i.runLog("error",s,"failed to download file: "+l+", reason: "+e)}))}else{i.runLog("debug",s,"CheckpointFile is valid!");O.emit("start to downloadFile",E)}}))};let tryContinueDownload=function(){if(!A.existsSync(S)){tryContinueDownload_noChkFile()}else{tryContinueDownload_hasChkFile()}};if(S){tryContinueDownload()}else{x(g,v,((e,t)=>{if(e){O.emit("start to downloadFile",E)}})).catch((e=>{i.runLog("error",s,"failed to download file: "+l+", reason: "+e)}))}}))};function isFunction(e){return Object.prototype.toString.call(e)==="[object Function]"}function createPromise(e){return function(t,r){if(isFunction(t)){e.call(this,null,t);return}if(isFunction(r)){e.call(this,t,r);return}let n=this;return new Promise((function(r,i){e.call(n,t,(function(e,t){if(e){return i(e)}r(t)}))}))}}try{if(Promise){for(let e in ObsClient.prototype){if({}.hasOwnProperty.call(ObsClient.prototype,e)){let t=ObsClient.prototype[e];ObsClient.prototype[e]=createPromise(t)}}}}catch(e){console.log(e)}ObsClient.prototype.close=function(){if(this.util){this.util.close();delete this.util}};ObsClient.prototype.exec=function(e,t,r){let n=this.log;if(n.isLevelEnabled("info")){n.runLog("info",e,"enter "+e+"...")}let i=(new Date).getTime();t=t||{};let _callback=function(t,o){if(_callback.$called){return}_callback.$called=true;if(n.isLevelEnabled("info")){n.runLog("info",e,"ObsClient cost "+((new Date).getTime()-i)+" ms")}if(t&&!(t instanceof Error)){t=new Error(t)}r(t,o)};this.util.exec(e,t,_callback)};ObsClient.prototype.initLog=function(e){e=e||{};this.log.initLog(e.file_full_path,e.max_log_size,e.backups,e.level,e.log_to_console,e.name,e.logger);if(this.log.isLevelEnabled("warn")){let e=["[OBS SDK Version="+this.util.obsSdkVersion];if(this.util.server){let t=this.util.port?":"+this.util.port:"";e.push("Endpoint="+(this.util.is_secure?"https":"http")+"://"+this.util.server+t)}e.push("Access Mode="+(this.util.path_style?"Path":"Virtual Hosting")+"]");this.log.runLog("warn","init",e.join("];["))}};ObsClient.prototype.factory=function(e){this.log=new o;this.util=new i(this.log);e=e||{};this.util.initFactory(e.access_key_id,e.secret_access_key,e.is_secure,e.server,e.path_style,e.signature,e.region,e.port,e.max_retry_count,e.timeout,e.ssl_verify,e.long_conn_param,e.security_token,e.is_signature_negotiation,e.is_cname,e.max_connections,e.http_agent,e.https_agent,e.user_agent)};ObsClient.prototype.refresh=function(e,t,r){this.util.refresh(e,t,r)};ObsClient.prototype.enums=s;ObsClient.prototype.createV2SignedUrlSync=function(e){return this.util.createV2SignedUrlSync(e)};ObsClient.prototype.createV4SignedUrlSync=function(e){return this.util.createV4SignedUrlSync(e)};ObsClient.prototype.createSignedUrlSync=function(e){return this.util.createSignedUrlSync(e)};ObsClient.prototype.createV4PostSignatureSync=function(e){return this.util.createV4PostSignatureSync(e)};ObsClient.prototype.createPostSignatureSync=function(e){return this.util.createPostSignatureSync(e)};for(let e in ObsClient.prototype){if({}.hasOwnProperty.call(ObsClient.prototype,e)){ObsClient.prototype[capitalize(e)]=ObsClient.prototype[e]}}for(let e in ObsClient.prototype){if({}.hasOwnProperty.call(ObsClient.prototype,e)){let t=e.indexOf("Configuration");if(t>0&&t+"Configuration".length===e.length){ObsClient.prototype[e.slice(0,t)]=ObsClient.prototype[e]}}}e.exports=ObsClient},9107:e=>{const t={type:"object",location:"xml",sentAs:"Owner",parameters:{ID:{sentAs:"ID"}}};const r={type:"object",location:"xml",sentAs:"Initiator",parameters:{ID:{sentAs:"ID"}}};const n={type:"array",location:"xml",sentAs:"CommonPrefixes",items:{type:"object",parameters:{Prefix:{sentAs:"Prefix"},MTime:{sentAs:"MTime"},InodeNo:{sentAs:"InodeNo"}}}};const i={type:"array",location:"xml",wrapper:"AccessControlList",sentAs:"Grant",items:{type:"object",parameters:{Grantee:{type:"object",sentAs:"Grantee",parameters:{Type:{type:"ignore"},ID:{sentAs:"ID",notAllowEmpty:true},URI:{sentAs:"Canned",type:"adapter",notAllowEmpty:true}}},Permission:{sentAs:"Permission"},Delivered:{sentAs:"Delivered"}}}};const o={type:"array",location:"xml",wrapper:"AccessControlList",sentAs:"Grant",items:{type:"object",parameters:{Grantee:{data:{xsiNamespace:"http://www.w3.org/2001/XMLSchema-instance",xsiType:"Type"},type:"object",sentAs:"Grantee",parameters:{Type:{type:"ignore"},ID:{sentAs:"ID",notAllowEmpty:true},Name:{sentAs:"DisplayName",notAllowEmpty:true},URI:{sentAs:"URI",type:"adapter",notAllowEmpty:true}}},Permission:{sentAs:"Permission"}}}};const s={type:"object",location:"xml",sentAs:"LoggingEnabled",parameters:{TargetBucket:{sentAs:"TargetBucket"},TargetPrefix:{sentAs:"TargetPrefix"},TargetGrants:{type:"array",wrapper:"TargetGrants",sentAs:"Grant",items:{type:"object",parameters:{Grantee:{type:"object",sentAs:"Grantee",parameters:{Type:{type:"ignore"},ID:{sentAs:"ID"},URI:{sentAs:"Canned",type:"adapter"}}},Permission:{sentAs:"Permission"}}}}}};const a={required:true,type:"array",location:"xml",sentAs:"Rule",items:{type:"object",parameters:{ID:{sentAs:"ID"},Prefix:{sentAs:"Prefix"},Status:{sentAs:"Status"},Transitions:{type:"array",sentAs:"Transition",items:{type:"object",parameters:{StorageClass:{sentAs:"StorageClass",type:"adapter"},Date:{sentAs:"Date"},Days:{type:"number",sentAs:"Days"}}}},Expiration:{type:"object",sentAs:"Expiration",parameters:{Date:{sentAs:"Date"},Days:{type:"number",sentAs:"Days"}}},NoncurrentVersionTransitions:{type:"array",sentAs:"NoncurrentVersionTransition",items:{type:"object",parameters:{StorageClass:{sentAs:"StorageClass",type:"adapter"},NoncurrentDays:{type:"number",sentAs:"NoncurrentDays"}}}},NoncurrentVersionExpiration:{type:"object",sentAs:"NoncurrentVersionExpiration",parameters:{NoncurrentDays:{type:"number",sentAs:"NoncurrentDays"}}}}}};const c={type:"object",location:"xml",sentAs:"RedirectAllRequestsTo",parameters:{HostName:{sentAs:"HostName"},Protocol:{sentAs:"Protocol"}}};const l={type:"array",wrapper:"RoutingRules",location:"xml",sentAs:"RoutingRule",items:{type:"object",parameters:{Condition:{type:"object",sentAs:"Condition",parameters:{HttpErrorCodeReturnedEquals:{sentAs:"HttpErrorCodeReturnedEquals"},KeyPrefixEquals:{sentAs:"KeyPrefixEquals"}}},Redirect:{type:"object",sentAs:"Redirect",parameters:{HostName:{sentAs:"HostName"},HttpRedirectCode:{sentAs:"HttpRedirectCode"},Protocol:{sentAs:"Protocol"},ReplaceKeyPrefixWith:{sentAs:"ReplaceKeyPrefixWith"},ReplaceKeyWith:{sentAs:"ReplaceKeyWith"}}}}}};const u={type:"object",location:"xml",sentAs:"IndexDocument",parameters:{Suffix:{sentAs:"Suffix"}}};const d={type:"object",location:"xml",sentAs:"ErrorDocument",parameters:{Key:{sentAs:"Key"}}};const p={required:true,type:"array",location:"xml",sentAs:"CORSRule",items:{type:"object",parameters:{ID:{sentAs:"ID"},AllowedMethod:{type:"array",sentAs:"AllowedMethod",items:{type:"string"}},AllowedOrigin:{type:"array",sentAs:"AllowedOrigin",items:{type:"string"}},AllowedHeader:{type:"array",sentAs:"AllowedHeader",items:{type:"string"}},MaxAgeSeconds:{type:"number",sentAs:"MaxAgeSeconds"},ExposeHeader:{type:"array",sentAs:"ExposeHeader",items:{type:"string"}}}}};const f={type:"array",location:"xml",sentAs:"FunctionGraphConfiguration",items:{type:"object",location:"xml",parameters:{ID:{sentAs:"Id"},Filter:{type:"object",parameters:{FilterRules:{wrapper:"Object",type:"array",sentAs:"FilterRule",items:{type:"object",parameters:{Name:{},Value:{}}}}}},FunctionGraph:{},Event:{type:"array",items:{type:"adapter"}}}}};const h={type:"array",location:"xml",sentAs:"TopicConfiguration",items:{type:"object",location:"xml",parameters:{ID:{sentAs:"Id"},Filter:{type:"object",parameters:{FilterRules:{wrapper:"Object",type:"array",sentAs:"FilterRule",items:{type:"object",parameters:{Name:{},Value:{}}}}}},Topic:{},Event:{type:"array",items:{type:"adapter"}}}}};const m={required:true,type:"array",location:"xml",wrapper:"TagSet",sentAs:"Tag",items:{type:"object",parameters:{Key:{sentAs:"Key"},Value:{sentAs:"Value"}}}};const y={required:true,type:"array",location:"xml",sentAs:"Rule",items:{type:"object",parameters:{ID:{sentAs:"ID"},Prefix:{sentAs:"Prefix"},Status:{sentAs:"Status"},Destination:{type:"object",sentAs:"Destination",parameters:{Bucket:{sentAs:"Bucket",type:"adapter"},StorageClass:{sentAs:"StorageClass",type:"adapter"}}}}}};const g={type:"object",location:"xml",sentAs:"Rule",parameters:{ApplyServerSideEncryptionByDefault:{type:"object",sentAs:"ApplyServerSideEncryptionByDefault",parameters:{SSEAlgorithm:{sentAs:"SSEAlgorithm"},KMSMasterKeyID:{sentAs:"KMSMasterKeyID"}}}}};const A={CreateBucket:{httpMethod:"PUT",data:{xmlRoot:"CreateBucketConfiguration"},parameters:{Bucket:{required:true,location:"uri"},ACL:{location:"header",sentAs:"acl",withPrefix:true,type:"adapter"},StorageClass:{location:"header",sentAs:"storage-class",withPrefix:true,type:"adapter"},Location:{location:"xml",sentAs:"Location"},GrantRead:{location:"header",sentAs:"grant-read",withPrefix:true},GrantWrite:{location:"header",sentAs:"grant-write",withPrefix:true},GrantReadAcp:{location:"header",sentAs:"grant-read-acp",withPrefix:true},GrantWriteAcp:{location:"header",sentAs:"grant-write-acp",withPrefix:true},GrantFullControl:{location:"header",sentAs:"grant-full-control",withPrefix:true},GrantReadDelivered:{location:"header",sentAs:"grant-read-delivered",withPrefix:true},GrantFullControlDelivered:{location:"header",sentAs:"grant-full-control-delivered",withPrefix:true},AzRedundancy:{location:"header",sentAs:"x-obs-az-redundancy"},MultiEnterprise:{location:"header",sentAs:"epid",withPrefix:true},FileInterface:{location:"header",sentAs:"fs-file-interface",withPrefix:true}}},ListBuckets:{httpMethod:"GET",parameters:{BucketType:{location:"header",sentAs:"bucket-type",withPrefix:true}}},ListBucketsOutput:{data:{type:"xml",xmlRoot:"ListAllMyBucketsResult"},parameters:{Owner:{type:"object",location:"xml",sentAs:"Owner",parameters:{ID:{sentAs:"ID"}}},Buckets:{type:"array",location:"xml",wrapper:"Buckets",sentAs:"Bucket",items:{type:"object",parameters:{BucketName:{sentAs:"Name"},CreationDate:{sentAs:"CreationDate"},Location:{sentAs:"Location"}}}}}},HeadBucket:{httpMethod:"HEAD",parameters:{Bucket:{required:true,location:"uri"}}},HeadApiVersion:{httpMethod:"HEAD",urlPath:"apiversion",parameters:{Bucket:{location:"uri"}}},HeadApiVersionOutput:{parameters:{ApiVersion:{location:"header",sentAs:"x-obs-api"}}},GetBucketMetadata:{httpMethod:"HEAD",parameters:{Bucket:{required:true,location:"uri"},Origin:{location:"header",sentAs:"Origin"},RequestHeader:{location:"header",sentAs:"Access-Control-Request-Headers"}}},GetBucketMetadataOutput:{parameters:{StorageClass:{location:"header",sentAs:"storage-class",withPrefix:true},StorageClassObs:{location:"header",sentAs:"x-obs-storage-class"},StorageClassV2:{location:"header",sentAs:"x-default-storage-class"},ObsVersion:{location:"header",sentAs:"version",withPrefix:true},ObsVersionObs:{location:"header",sentAs:"x-obs-version"},ObsVersionV2:{location:"header",sentAs:"x-amz-version"},FsInterface:{location:"header",sentAs:"fs-file-interface",withPrefix:true},FsInterfaceObs:{location:"header",sentAs:"x-obs-fs-file-interface"},FsInterfaceV2:{location:"header",sentAs:"x-amz-fs-file-interface"},Location:{location:"header",sentAs:"bucket-location",withPrefix:true},LocationObs:{location:"header",sentAs:"x-obs-bucket-location"},LocationV2:{location:"header",sentAs:"x-amz-bucket-region"},AzRedundancy:{location:"header",sentAs:"x-obs-az-redundancy"},AllowOrigin:{location:"header",sentAs:"access-control-allow-origin"},MaxAgeSeconds:{location:"header",sentAs:"access-control-max-age"},ExposeHeader:{location:"header",sentAs:"access-control-expose-headers"},AllowMethod:{location:"header",sentAs:"access-control-allow-methods"},AllowHeader:{location:"header",sentAs:"access-control-allow-headers"},MultiEnterprise:{location:"header",sentAs:"epid",withPrefix:true},MultiEnterpriseObs:{location:"header",sentAs:"x-obs-epid"},MultiEnterpriseV2:{location:"header",sentAs:"x-amz-epid"},ErrorCode:{location:"header",sentAs:"x-obs-error-code"},ErrorMessage:{location:"header",sentAs:"x-obs-error-message"}}},DeleteBucket:{httpMethod:"DELETE",parameters:{Bucket:{required:true,location:"uri"}}},ListObjects:{httpMethod:"GET",parameters:{Bucket:{required:true,location:"uri"},Prefix:{location:"urlPath",sentAs:"prefix"},Marker:{location:"urlPath",sentAs:"marker"},MaxKeys:{type:"number",location:"urlPath",sentAs:"max-keys"},Delimiter:{location:"urlPath",sentAs:"delimiter"},AccessKeyId:{location:"urlPath",sentAs:"AccessKeyId"},Signature:{location:"urlPath",sentAs:"Signature"},Policy:{location:"urlPath",sentAs:"Policy"},SecurityToken:{location:"urlPath",sentAs:"x-obs-security-token"},FsClient:{location:"header",sentAs:"x-hws-fs-client"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},ListObjectsOutput:{data:{type:"xml",xmlRoot:"ListBucketResult"},parameters:{Location:{location:"header",sentAs:"bucket-location",withPrefix:true},LocationObs:{location:"header",sentAs:"x-obs-bucket-location"},LocationV2:{location:"header",sentAs:"x-amz-bucket-region"},Bucket:{location:"xml",sentAs:"Name"},Delimiter:{location:"xml",sentAs:"Delimiter"},IsTruncated:{location:"xml",sentAs:"IsTruncated"},Prefix:{location:"xml",sentAs:"Prefix"},Marker:{location:"xml",sentAs:"Marker"},NextMarker:{location:"xml",sentAs:"NextMarker"},MaxKeys:{location:"xml",sentAs:"MaxKeys"},Contents:{type:"array",location:"xml",sentAs:"Contents",items:{type:"object",parameters:{Key:{sentAs:"Key"},LastModified:{sentAs:"LastModified"},ETag:{sentAs:"ETag"},Size:{sentAs:"Size"},Type:{sentAs:"Type"},StorageClass:{sentAs:"StorageClass"},Owner:t}}},CommonPrefixes:n}},ListVersions:{httpMethod:"GET",urlPath:"versions",parameters:{Bucket:{required:true,location:"uri"},Prefix:{location:"urlPath",sentAs:"prefix"},KeyMarker:{location:"urlPath",sentAs:"key-marker"},MaxKeys:{type:"number",location:"urlPath",sentAs:"max-keys"},Delimiter:{location:"urlPath",sentAs:"delimiter"},VersionIdMarker:{location:"urlPath",sentAs:"version-id-marker"}}},ListVersionsOutput:{data:{type:"xml",xmlRoot:"ListVersionsResult"},parameters:{Location:{location:"header",sentAs:"bucket-location",withPrefix:true},LocationObs:{location:"header",sentAs:"x-obs-bucket-location"},LocationV2:{location:"header",sentAs:"x-amz-bucket-region"},Bucket:{location:"xml",sentAs:"Name"},Prefix:{location:"xml",sentAs:"Prefix"},Delimiter:{location:"xml",sentAs:"Delimiter"},KeyMarker:{location:"xml",sentAs:"KeyMarker"},VersionIdMarker:{location:"xml",sentAs:"VersionIdMarker"},NextKeyMarker:{location:"xml",sentAs:"NextKeyMarker"},NextVersionIdMarker:{location:"xml",sentAs:"NextVersionIdMarker"},MaxKeys:{location:"xml",sentAs:"MaxKeys"},IsTruncated:{location:"xml",sentAs:"IsTruncated"},Versions:{type:"array",location:"xml",sentAs:"Version",items:{type:"object",parameters:{Key:{sentAs:"Key"},VersionId:{sentAs:"VersionId"},IsLatest:{sentAs:"IsLatest"},LastModified:{sentAs:"LastModified"},ETag:{sentAs:"ETag"},Size:{sentAs:"Size"},Type:{sentAs:"Type"},Owner:t,StorageClass:{sentAs:"StorageClass"}}}},DeleteMarkers:{type:"array",location:"xml",sentAs:"DeleteMarker",items:{type:"object",parameters:{Key:{sentAs:"Key"},VersionId:{sentAs:"VersionId"},IsLatest:{sentAs:"IsLatest"},LastModified:{sentAs:"LastModified"},Owner:t}}},CommonPrefixes:n}},GetBucketLocation:{httpMethod:"GET",urlPath:"location",parameters:{Bucket:{required:true,location:"uri"}}},GetBucketLocationOutput:{data:{type:"xml"},parameters:{Location:{location:"xml",sentAs:"Location"}}},GetBucketStorageInfo:{httpMethod:"GET",urlPath:"storageinfo",parameters:{Bucket:{required:true,location:"uri"}}},GetBucketStorageInfoOutput:{data:{type:"xml",xmlRoot:"GetBucketStorageInfoResult"},parameters:{Size:{location:"xml",sentAs:"Size"},ObjectNumber:{location:"xml",sentAs:"ObjectNumber"}}},SetBucketQuota:{httpMethod:"PUT",urlPath:"quota",data:{xmlRoot:"Quota"},parameters:{Bucket:{required:true,location:"uri"},StorageQuota:{required:true,location:"xml",sentAs:"StorageQuota"}}},GetBucketQuota:{httpMethod:"GET",urlPath:"quota",parameters:{Bucket:{required:true,location:"uri"}}},GetBucketQuotaOutput:{data:{type:"xml",xmlRoot:"Quota"},parameters:{StorageQuota:{location:"xml",sentAs:"StorageQuota"}}},SetBucketAcl:{httpMethod:"PUT",urlPath:"acl",data:{xmlRoot:"AccessControlPolicy"},parameters:{Bucket:{required:true,location:"uri"},ACL:{location:"header",sentAs:"acl",withPrefix:true,type:"adapter"},Owner:t,Grants:i}},GetBucketAcl:{httpMethod:"GET",urlPath:"acl",parameters:{Bucket:{required:true,location:"uri"}}},GetBucketAclOutput:{data:{type:"xml",xmlRoot:"AccessControlPolicy"},parameters:{Owner:t,Grants:i,GrantsV2:o}},SetBucketLoggingConfiguration:{httpMethod:"PUT",urlPath:"logging",data:{xmlRoot:"BucketLoggingStatus",xmlAllowEmpty:true},parameters:{Bucket:{required:true,location:"uri"},Agency:{location:"xml",sentAs:"Agency"},LoggingEnabled:s}},GetBucketLoggingConfiguration:{httpMethod:"GET",urlPath:"logging",parameters:{Bucket:{required:true,location:"uri"}}},GetBucketLoggingConfigurationOutput:{data:{type:"xml",xmlRoot:"BucketLoggingStatus"},parameters:{Agency:{location:"xml",sentAs:"Agency"},LoggingEnabled:s}},SetBucketPolicy:{httpMethod:"PUT",urlPath:"policy",parameters:{Bucket:{required:true,location:"uri"},Policy:{required:true,location:"body"}}},GetBucketPolicy:{httpMethod:"GET",urlPath:"policy",parameters:{Bucket:{required:true,location:"uri"}}},GetBucketPolicyOutput:{data:{type:"body"},parameters:{Policy:{location:"body"}}},DeleteBucketPolicy:{httpMethod:"DELETE",urlPath:"policy",parameters:{Bucket:{required:true,location:"uri"}}},SetBucketLifecycleConfiguration:{httpMethod:"PUT",urlPath:"lifecycle",data:{xmlRoot:"LifecycleConfiguration",md5:true},parameters:{Bucket:{required:true,location:"uri"},Rules:a}},GetBucketLifecycleConfiguration:{httpMethod:"GET",urlPath:"lifecycle",parameters:{Bucket:{required:true,location:"uri"}}},GetBucketLifecycleConfigurationOutput:{data:{type:"xml",xmlRoot:"LifecycleConfiguration"},parameters:{Rules:a}},DeleteBucketLifecycleConfiguration:{httpMethod:"DELETE",urlPath:"lifecycle",parameters:{Bucket:{required:true,location:"uri"}}},SetBucketWebsiteConfiguration:{httpMethod:"PUT",urlPath:"website",data:{xmlRoot:"WebsiteConfiguration"},parameters:{Bucket:{required:true,location:"uri"},RedirectAllRequestsTo:c,IndexDocument:u,ErrorDocument:d,RoutingRules:l}},GetBucketWebsiteConfiguration:{httpMethod:"GET",urlPath:"website",parameters:{Bucket:{required:true,location:"uri"}}},GetBucketWebsiteConfigurationOutput:{data:{type:"xml",xmlRoot:"WebsiteConfiguration"},parameters:{RedirectAllRequestsTo:c,IndexDocument:u,ErrorDocument:d,RoutingRules:l}},DeleteBucketWebsiteConfiguration:{httpMethod:"DELETE",urlPath:"website",parameters:{Bucket:{required:true,location:"uri"}}},SetBucketVersioningConfiguration:{httpMethod:"PUT",urlPath:"versioning",data:{xmlRoot:"VersioningConfiguration"},parameters:{Bucket:{required:true,location:"uri"},VersionStatus:{required:true,location:"xml",sentAs:"Status"}}},GetBucketVersioningConfiguration:{httpMethod:"GET",urlPath:"versioning",parameters:{Bucket:{required:true,location:"uri"}}},GetBucketVersioningConfigurationOutput:{data:{type:"xml",xmlRoot:"VersioningConfiguration"},parameters:{VersionStatus:{location:"xml",sentAs:"Status"}}},SetBucketCors:{httpMethod:"PUT",urlPath:"cors",data:{xmlRoot:"CORSConfiguration",md5:true},parameters:{Bucket:{required:true,location:"uri"},CorsRules:p}},GetBucketCors:{httpMethod:"GET",urlPath:"cors",parameters:{Bucket:{required:true,location:"uri"}}},GetBucketCorsOutput:{data:{type:"xml",xmlRoot:"CORSConfiguration"},parameters:{CorsRules:p}},DeleteBucketCors:{httpMethod:"DELETE",urlPath:"cors",parameters:{Bucket:{required:true,location:"uri"}}},SetBucketNotification:{httpMethod:"PUT",urlPath:"notification",data:{xmlRoot:"NotificationConfiguration",xmlAllowEmpty:true},parameters:{Bucket:{required:true,location:"uri"},TopicConfigurations:h,FunctionGraphConfigurations:f}},GetBucketNotification:{httpMethod:"GET",urlPath:"notification",parameters:{Bucket:{required:true,location:"uri"}}},GetBucketNotificationOutput:{data:{type:"xml",xmlRoot:"NotificationConfiguration"},parameters:{TopicConfigurations:h,FunctionGraphConfigurations:f}},OptionsBucket:{httpMethod:"OPTIONS",parameters:{Bucket:{required:true,location:"uri"},Origin:{required:true,location:"header",sentAs:"Origin"},AccessControlRequestMethods:{required:true,type:"array",location:"header",sentAs:"Access-Control-Request-Method",items:{type:"string"}},AccessControlRequestHeaders:{type:"array",location:"header",sentAs:"Access-Control-Request-Headers",items:{type:"string"}}}},OptionsBucketOutput:{parameters:{AllowOrigin:{location:"header",sentAs:"access-control-allow-origin"},AllowHeader:{location:"header",sentAs:"access-control-allow-headers"},AllowMethod:{location:"header",sentAs:"access-control-allow-methods"},ExposeHeader:{location:"header",sentAs:"access-control-expose-headers"},MaxAgeSeconds:{location:"header",sentAs:"access-control-max-age"}}},SetBucketTagging:{httpMethod:"PUT",urlPath:"tagging",data:{xmlRoot:"Tagging",md5:true},parameters:{Bucket:{required:true,location:"uri"},Tags:m}},GetBucketTagging:{httpMethod:"GET",urlPath:"tagging",parameters:{Bucket:{required:true,location:"uri"}}},GetBucketTaggingOutput:{data:{type:"xml",xmlRoot:"Tagging"},parameters:{Tags:m}},DeleteBucketTagging:{httpMethod:"DELETE",urlPath:"tagging",parameters:{Bucket:{required:true,location:"uri"}}},SetBucketStoragePolicy:{httpMethod:"PUT",urlPath:"storageClass",parameters:{Bucket:{required:true,location:"uri"},StorageClass:{required:true,location:"xml",type:"adapter",sentAs:"StorageClass"}}},GetBucketStoragePolicy:{httpMethod:"GET",urlPath:"storageClass",parameters:{Bucket:{required:true,location:"uri"}}},GetBucketStoragePolicyOutput:{data:{type:"xml"},parameters:{StorageClass:{location:"xml",type:"string",sentAs:"StorageClass"}}},SetBucketReplication:{httpMethod:"PUT",urlPath:"replication",data:{xmlRoot:"ReplicationConfiguration",md5:true},parameters:{Bucket:{required:true,location:"uri"},Agency:{location:"xml",sentAs:"Agency"},Rules:y}},GetBucketReplication:{httpMethod:"GET",urlPath:"replication",parameters:{Bucket:{required:true,location:"uri"}}},GetBucketReplicationOutput:{data:{type:"xml",xmlRoot:"ReplicationConfiguration"},parameters:{Agency:{location:"xml",sentAs:"Agency"},Rules:y}},DeleteBucketReplication:{httpMethod:"DELETE",urlPath:"replication",parameters:{Bucket:{required:true,location:"uri"}}},GetBucketRequesterPayment:{httpMethod:"GET",urlPath:"requestPayment",parameters:{Bucket:{required:true,location:"uri"}}},GetBucketRequesterPaymentOutput:{data:{type:"xml",xmlRoot:"RequestPaymentConfiguration"},parameters:{Payer:{location:"xml",sentAs:"Payer"}}},SetBucketRequesterPayment:{httpMethod:"PUT",urlPath:"requestPayment",data:{xmlRoot:"RequestPaymentConfiguration"},parameters:{Bucket:{required:true,location:"uri"},Payer:{location:"xml",sentAs:"Payer"}}},SetBucketRequesterPaymentOutput:{data:{type:"xml",xmlRoot:"RequestPaymentConfiguration"},parameters:{Payer:{location:"xml",sentAs:"Payer"}}},PutObject:{httpMethod:"PUT",parameters:{Bucket:{required:true,location:"uri"},Key:{required:true,location:"uri"},ContentMD5:{location:"header",sentAs:"Content-MD5"},ContentType:{location:"header",sentAs:"Content-Type"},Offset:{type:"plain"},ProgressCallback:{type:"plain"},ContentLength:{location:"header",sentAs:"Content-Length",type:"plain"},ACL:{location:"header",sentAs:"acl",withPrefix:true,type:"adapter"},GrantRead:{location:"header",sentAs:"grant-read",withPrefix:true},GrantReadAcp:{location:"header",sentAs:"grant-read-acp",withPrefix:true},GrantWriteAcp:{location:"header",sentAs:"grant-write-acp",withPrefix:true},GrantFullControl:{location:"header",sentAs:"grant-full-control",withPrefix:true},StorageClass:{location:"header",sentAs:"storage-class",withPrefix:true,type:"adapter"},Metadata:{type:"object",location:"header",sentAs:"meta-",withPrefix:true},WebsiteRedirectLocation:{location:"header",sentAs:"website-redirect-location",withPrefix:true},Expires:{location:"header",sentAs:"expires",type:"number",withPrefix:true},SuccessActionRedirect:{location:"header",sentAs:"success-action-redirect"},SseKms:{location:"header",sentAs:"server-side-encryption",withPrefix:true,type:"adapter"},SseKmsKey:{location:"header",sentAs:"server-side-encryption-kms-key-id",withPrefix:true},SseC:{location:"header",sentAs:"server-side-encryption-customer-algorithm",withPrefix:true},SseCKey:{location:"header",sentAs:"server-side-encryption-customer-key",type:"password",withPrefix:true},Body:{location:"body"},SourceFile:{type:"srcFile"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},PutObjectOutput:{parameters:{ETag:{location:"header",sentAs:"etag"},VersionId:{location:"header",sentAs:"version-id",withPrefix:true},VersionIdObs:{location:"header",sentAs:"x-obs-version-id"},VersionIdV2:{location:"header",sentAs:"x-amz-version-id"},StorageClass:{location:"header",sentAs:"storage-class",withPrefix:true},StorageClassObs:{location:"header",sentAs:"x-obs-storage-class"},StorageClassV2:{location:"header",sentAs:"x-amz-storage-class"},SseKms:{location:"header",sentAs:"server-side-encryption",withPrefix:true},SseKmsObs:{location:"header",sentAs:"x-obs-server-side-encryption"},SseKmsV2:{location:"header",sentAs:"x-amz-server-side-encryption"},SseKmsKey:{location:"header",sentAs:"server-side-encryption-kms-key-id",withPrefix:true},SseKmsKeyObs:{location:"header",sentAs:"x-obs-server-side-encryption-kms-key-id"},SseKmsKeyV2:{location:"header",sentAs:"x-amz-server-side-encryption-kms-key-id"},SseC:{location:"header",sentAs:"server-side-encryption-customer-algorithm",withPrefix:true},SseCObs:{location:"header",sentAs:"x-obs-server-side-encryption-customer-algorithm"},SseCV2:{location:"header",sentAs:"x-amz-server-side-encryption-customer-algorithm"},SseCKeyMd5:{location:"header",sentAs:"server-side-encryption-customer-key-MD5",withPrefix:true},SseCKeyMd5Obs:{location:"header",sentAs:"x-obs-server-side-encryption-customer-key-MD5"},SseCKeyMd5V2:{location:"header",sentAs:"x-amz-server-side-encryption-customer-key-MD5"}}},RenameObject:{httpMethod:"POST",urlPath:"rename",parameters:{Bucket:{required:true,location:"uri"},Key:{required:true,location:"uri"},Name:{required:true,location:"urlPath",sentAs:"name"}}},ModifyObject:{httpMethod:"PUT",urlPath:"modify",parameters:{Bucket:{required:true,location:"uri"},Key:{required:true,location:"uri"},Position:{location:"urlPath",sentAs:"position",type:"number"},ContentMD5:{location:"header",sentAs:"Content-MD5"},ContentType:{location:"header",sentAs:"Content-Type"},Offset:{type:"plain"},ProgressCallback:{type:"plain"},ContentLength:{location:"header",sentAs:"Content-Length",type:"plain"},ACL:{location:"header",sentAs:"acl",withPrefix:true,type:"adapter"},GrantRead:{location:"header",sentAs:"grant-read",withPrefix:true},GrantReadAcp:{location:"header",sentAs:"grant-read-acp",withPrefix:true},GrantWriteAcp:{location:"header",sentAs:"grant-write-acp",withPrefix:true},GrantFullControl:{location:"header",sentAs:"grant-full-control",withPrefix:true},StorageClass:{location:"header",sentAs:"storage-class",withPrefix:true,type:"adapter"},Metadata:{type:"object",location:"header",sentAs:"meta-",withPrefix:true},WebsiteRedirectLocation:{location:"header",sentAs:"website-redirect-location",withPrefix:true},Expires:{location:"header",sentAs:"expires",type:"number",withPrefix:true},SseKms:{location:"header",sentAs:"server-side-encryption",withPrefix:true,type:"adapter"},SseKmsKey:{location:"header",sentAs:"server-side-encryption-kms-key-id",withPrefix:true},SseC:{location:"header",sentAs:"server-side-encryption-customer-algorithm",withPrefix:true},SseCKey:{location:"header",sentAs:"server-side-encryption-customer-key",type:"password",withPrefix:true},Body:{location:"body"},SourceFile:{type:"srcFile"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},ModifyObjectOutput:{parameters:{ETag:{location:"header",sentAs:"etag"},VersionId:{location:"header",sentAs:"version-id",withPrefix:true},VersionIdObs:{location:"header",sentAs:"x-obs-version-id"},VersionIdV2:{location:"header",sentAs:"x-amz-version-id"},StorageClass:{location:"header",sentAs:"storage-class",withPrefix:true},StorageClassObs:{location:"header",sentAs:"x-obs-storage-class"},StorageClassV2:{location:"header",sentAs:"x-amz-storage-class"},SseKms:{location:"header",sentAs:"server-side-encryption",withPrefix:true},SseKmsObs:{location:"header",sentAs:"x-obs-server-side-encryption"},SseKmsV2:{location:"header",sentAs:"x-amz-server-side-encryption"},SseKmsKey:{location:"header",sentAs:"server-side-encryption-kms-key-id",withPrefix:true},SseKmsKeyObs:{location:"header",sentAs:"x-obs-server-side-encryption-kms-key-id"},SseKmsKeyV2:{location:"header",sentAs:"x-amz-server-side-encryption-kms-key-id"},SseC:{location:"header",sentAs:"server-side-encryption-customer-algorithm",withPrefix:true},SseCObs:{location:"header",sentAs:"x-obs-server-side-encryption-customer-algorithm"},SseCV2:{location:"header",sentAs:"x-amz-server-side-encryption-customer-algorithm"},SseCKeyMd5:{location:"header",sentAs:"server-side-encryption-customer-key-MD5",withPrefix:true},SseCKeyMd5Obs:{location:"header",sentAs:"x-obs-server-side-encryption-customer-key-MD5"},SseCKeyMd5V2:{location:"header",sentAs:"x-amz-server-side-encryption-customer-key-MD5"}}},AppendObject:{httpMethod:"POST",urlPath:"append",parameters:{Bucket:{required:true,location:"uri"},Key:{required:true,location:"uri"},Position:{location:"urlPath",sentAs:"position",type:"number"},ContentMD5:{location:"header",sentAs:"Content-MD5"},ContentType:{location:"header",sentAs:"Content-Type"},Offset:{type:"plain"},ProgressCallback:{type:"plain"},ContentLength:{location:"header",sentAs:"Content-Length",type:"plain"},ACL:{location:"header",sentAs:"acl",withPrefix:true,type:"adapter"},GrantRead:{location:"header",sentAs:"grant-read",withPrefix:true},GrantReadAcp:{location:"header",sentAs:"grant-read-acp",withPrefix:true},GrantWriteAcp:{location:"header",sentAs:"grant-write-acp",withPrefix:true},GrantFullControl:{location:"header",sentAs:"grant-full-control",withPrefix:true},StorageClass:{location:"header",sentAs:"storage-class",withPrefix:true,type:"adapter"},Metadata:{type:"object",location:"header",sentAs:"meta-",withPrefix:true},WebsiteRedirectLocation:{location:"header",sentAs:"website-redirect-location",withPrefix:true},Expires:{location:"header",sentAs:"expires",type:"number",withPrefix:true},SseKms:{location:"header",sentAs:"server-side-encryption",withPrefix:true,type:"adapter"},SseKmsKey:{location:"header",sentAs:"server-side-encryption-kms-key-id",withPrefix:true},SseC:{location:"header",sentAs:"server-side-encryption-customer-algorithm",withPrefix:true},SseCKey:{location:"header",sentAs:"server-side-encryption-customer-key",type:"password",withPrefix:true},Body:{location:"body"},SourceFile:{type:"srcFile"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},AppendObjectOutput:{parameters:{ETag:{location:"header",sentAs:"etag"},NextPosition:{location:"header",sentAs:"next-append-position",withPrefix:true},NextPositionObs:{location:"header",sentAs:"x-obs-next-append-position"},NextPositionV2:{location:"header",sentAs:"x-amz-next-append-position"},StorageClass:{location:"header",sentAs:"storage-class",withPrefix:true},StorageClassObs:{location:"header",sentAs:"x-obs-storage-class",type:"adapter"},StorageClassV2:{location:"header",sentAs:"x-amz-storage-class",type:"adapter"},SseKms:{location:"header",sentAs:"server-side-encryption",withPrefix:true},SseKmsObs:{location:"header",sentAs:"x-obs-server-side-encryption",type:"adapter"},SseKmsV2:{location:"header",sentAs:"x-amz-server-side-encryption",type:"adapter"},SseKmsKey:{location:"header",sentAs:"server-side-encryption-kms-key-id",withPrefix:true},SseKmsKeyObs:{location:"header",sentAs:"x-obs-server-side-encryption-kms-key-id"},SseKmsKeyV2:{location:"header",sentAs:"x-amz-server-side-encryption-kms-key-id"},SseC:{location:"header",sentAs:"server-side-encryption-customer-algorithm",withPrefix:true},SseCObs:{location:"header",sentAs:"x-obs-server-side-encryption-customer-algorithm"},SseCV2:{location:"header",sentAs:"x-amz-server-side-encryption-customer-algorithm"},SseCKeyMd5:{location:"header",sentAs:"server-side-encryption-customer-key-MD5",withPrefix:true},SseCKeyMd5Obs:{location:"header",sentAs:"x-obs-server-side-encryption-customer-key-MD5"},SseCKeyMd5V2:{location:"header",sentAs:"x-amz-server-side-encryption-customer-key-MD5"}}},GetObject:{httpMethod:"GET",parameters:{Bucket:{required:true,location:"uri"},Key:{required:true,location:"uri"},AccessKeyId:{location:"urlPath"},Signature:{location:"urlPath"},Policy:{location:"urlPath"},SecurityToken:{location:"urlPath",sentAs:"x-obs-security-token"},ResponseCacheControl:{location:"urlPath",sentAs:"response-cache-control"},ResponseContentDisposition:{location:"urlPath",sentAs:"response-content-disposition"},ResponseContentEncoding:{location:"urlPath",sentAs:"response-content-encoding"},ResponseContentLanguage:{location:"urlPath",sentAs:"response-content-language"},ResponseContentType:{location:"urlPath",sentAs:"response-content-type"},ResponseExpires:{location:"urlPath",sentAs:"response-expires"},VersionId:{location:"urlPath",sentAs:"versionId"},ImageProcess:{location:"urlPath",sentAs:"x-image-process"},IfMatch:{location:"header",sentAs:"If-Match"},IfModifiedSince:{location:"header",sentAs:"If-Modified-Since"},IfNoneMatch:{location:"header",sentAs:"If-None-Match"},IfUnmodifiedSince:{location:"header",sentAs:"If-Unmodified-Since"},Range:{location:"header",sentAs:"Range"},Origin:{location:"header",sentAs:"Origin"},RequestHeader:{location:"header",sentAs:"Access-Control-Request-Headers"},SaveAsFile:{type:"dstFile"},SaveAsStream:{type:"plain"},SseC:{location:"header",sentAs:"server-side-encryption-customer-algorithm",withPrefix:true},SseCKey:{location:"header",sentAs:"server-side-encryption-customer-key",type:"password",withPrefix:true},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},GetObjectOutput:{data:{type:"body"},parameters:{Content:{location:"body"},Expiration:{location:"header",sentAs:"expiration",withPrefix:true},ExpirationObs:{location:"header",sentAs:"x-obs-expiration"},ExpirationV2:{location:"header",sentAs:"x-amz-expiration"},ETag:{location:"header",sentAs:"etag"},CacheControl:{location:"header",sentAs:"Cache-Control"},ContentDisposition:{location:"header",sentAs:"Content-Disposition"},ContentEncoding:{location:"header",sentAs:"Content-Encoding"},ContentLanguage:{location:"header",sentAs:"Content-Language"},ContentType:{location:"header",sentAs:"Content-Type"},Expires:{location:"header",sentAs:"Expires"},VersionId:{location:"header",sentAs:"version-id",withPrefix:true},VersionIdObs:{location:"header",sentAs:"x-obs-version-id"},VersionIdV2:{location:"header",sentAs:"x-amz-version-id"},ContentLength:{location:"header",sentAs:"Content-Length"},DeleteMarker:{location:"header",sentAs:"delete-marker",withPrefix:true},DeleteMarkerObs:{location:"header",sentAs:"x-obs-delete-marker"},DeleteMarkerV2:{location:"header",sentAs:"x-amz-delete-marker"},LastModified:{location:"header",sentAs:"Last-Modified"},WebsiteRedirectLocation:{location:"header",sentAs:"website-redirect-location",withPrefix:true},WebsiteRedirectLocationObs:{location:"header",sentAs:"x-obs-website-redirect-location"},WebsiteRedirectLocationV2:{location:"header",sentAs:"x-amz-website-redirect-location"},StorageClass:{location:"header",sentAs:"storage-class",withPrefix:true},StorageClassObs:{location:"header",sentAs:"x-obs-storage-class"},StorageClassV2:{location:"header",sentAs:"x-amz-storage-class"},Restore:{location:"header",sentAs:"restore",withPrefix:true},RestoreObs:{location:"header",sentAs:"x-obs-restore"},RestoreV2:{location:"header",sentAs:"x-amz-restore"},AllowOrigin:{location:"header",sentAs:"access-control-allow-origin"},MaxAgeSeconds:{location:"header",sentAs:"access-control-max-age"},ExposeHeader:{location:"header",sentAs:"access-control-expose-headers"},AllowMethod:{location:"header",sentAs:"access-control-allow-methods"},AllowHeader:{location:"header",sentAs:"access-control-allow-headers"},SseKms:{location:"header",sentAs:"server-side-encryption",withPrefix:true},SseKmsObs:{location:"header",sentAs:"x-obs-server-side-encryption",type:"adapter"},SseKmsV2:{location:"header",sentAs:"x-amz-server-side-encryption",type:"adapter"},SseKmsKey:{location:"header",sentAs:"server-side-encryption-kms-key-id",withPrefix:true},SseKmsKeyObs:{location:"header",sentAs:"x-obs-server-side-encryption-kms-key-id"},SseKmsKeyV2:{location:"header",sentAs:"x-amz-server-side-encryption-kms-key-id"},SseC:{location:"header",sentAs:"server-side-encryption-customer-algorithm",withPrefix:true},SseCObs:{location:"header",sentAs:"x-obs-server-side-encryption-customer-algorithm"},SseCV2:{location:"header",sentAs:"x-amz-server-side-encryption-customer-algorithm"},SseCKeyMd5:{location:"header",sentAs:"server-side-encryption-customer-key-MD5",withPrefix:true},SseCKeyMd5Obs:{location:"header",sentAs:"x-obs-server-side-encryption-customer-key-MD5"},SseCKeyMd5V2:{location:"header",sentAs:"x-amz-server-side-encryption-customer-key-MD5"},Metadata:{location:"header",type:"object",sentAs:"meta-",withPrefix:true},MetadataObs:{location:"header",type:"object",sentAs:"x-obs-meta-"},MetadataV2:{location:"header",type:"object",sentAs:"x-amz-meta-"}}},CopyObject:{httpMethod:"PUT",parameters:{Bucket:{required:true,location:"uri"},Key:{required:true,location:"uri"},ACL:{location:"header",sentAs:"acl",withPrefix:true,type:"adapter"},GrantRead:{location:"header",sentAs:"grant-read",withPrefix:true},GrantReadAcp:{location:"header",sentAs:"grant-read-acp",withPrefix:true},GrantWriteAcp:{location:"header",sentAs:"grant-write-acp",withPrefix:true},GrantFullControl:{location:"header",sentAs:"grant-full-control",withPrefix:true},StorageClass:{location:"header",sentAs:"storage-class",withPrefix:true,type:"adapter"},CopySource:{required:true,location:"header",sentAs:"copy-source",withPrefix:true,skipEncoding:true},CopySourceIfMatch:{location:"header",sentAs:"copy-source-if-match",withPrefix:true},CopySourceIfModifiedSince:{location:"header",sentAs:"copy-source-if-modified-since",withPrefix:true},CopySourceIfNoneMatch:{location:"header",sentAs:"copy-source-if-none-match",withPrefix:true},CopySourceIfUnmodifiedSince:{location:"header",sentAs:"copy-source-if-unmodified-since",withPrefix:true},ContentType:{location:"header",sentAs:"Content-Type"},ContentEncoding:{location:"header",sentAs:"content-encoding"},ContentLanguage:{location:"header",sentAs:"content-language"},ContentDisposition:{location:"header",sentAs:"content-disposition"},CacheControl:{location:"header",sentAs:"cache-control"},Expires:{location:"header",sentAs:"expires"},Metadata:{type:"object",location:"header",sentAs:"meta-",withPrefix:true},MetadataDirective:{location:"header",sentAs:"metadata-directive",withPrefix:true},WebsiteRedirectLocation:{location:"header",sentAs:"website-redirect-location",withPrefix:true},SuccessActionRedirect:{location:"header",sentAs:"success-action-redirect"},SseKms:{location:"header",sentAs:"server-side-encryption",withPrefix:true,type:"adapter"},SseKmsKey:{location:"header",sentAs:"server-side-encryption-kms-key-id",withPrefix:true},SseC:{location:"header",sentAs:"server-side-encryption-customer-algorithm",withPrefix:true},SseCKey:{location:"header",sentAs:"server-side-encryption-customer-key",type:"password",withPrefix:true},CopySourceSseC:{location:"header",sentAs:"copy-source-server-side-encryption-customer-algorithm",withPrefix:true},CopySourceSseCKey:{location:"header",sentAs:"copy-source-server-side-encryption-customer-key",type:"password",withPrefix:true},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},CopyObjectOutput:{data:{type:"xml",xmlRoot:"CopyObjectResult"},parameters:{VersionId:{location:"header",sentAs:"version-id",withPrefix:true},VersionIdObs:{location:"header",sentAs:"x-obs-version-id"},VersionIdV2:{location:"header",sentAs:"x-amz-version-id"},CopySourceVersionId:{location:"header",sentAs:"copy-source-version-id",withPrefix:true},CopySourceVersionIdObs:{location:"header",sentAs:"x-obs-copy-source-version-id"},CopySourceVersionIdV2:{location:"header",sentAs:"x-amz-copy-source-version-id"},ETag:{location:"xml",sentAs:"ETag"},LastModified:{location:"xml",sentAs:"LastModified"},SseKms:{location:"header",sentAs:"server-side-encryption",withPrefix:true},SseKmsObs:{location:"header",sentAs:"x-obs-server-side-encryption",type:"adapter"},SseKmsV2:{location:"header",sentAs:"x-amz-server-side-encryption",type:"adapter"},SseKmsKey:{location:"header",sentAs:"server-side-encryption-kms-key-id",withPrefix:true},SseKmsKeyObs:{location:"header",sentAs:"x-obs-server-side-encryption-kms-key-id"},SseKmsKeyV2:{location:"header",sentAs:"x-amz-server-side-encryption-kms-key-id"},SseC:{location:"header",sentAs:"server-side-encryption-customer-algorithm",withPrefix:true},SseCObs:{location:"header",sentAs:"x-obs-server-side-encryption-customer-algorithm"},SseCV2:{location:"header",sentAs:"x-amz-server-side-encryption-customer-algorithm"},SseCKeyMd5:{location:"header",sentAs:"server-side-encryption-customer-key-MD5",withPrefix:true},SseCKeyMd5Obs:{location:"header",sentAs:"x-obs-server-side-encryption-customer-key-MD5"},SseCKeyMd5V2:{location:"header",sentAs:"x-amz-server-side-encryption-customer-key-MD5"}}},RestoreObject:{httpMethod:"POST",urlPath:"restore",data:{xmlRoot:"RestoreRequest",md5:true},parameters:{Bucket:{required:true,location:"uri"},Key:{required:true,location:"uri"},VersionId:{location:"urlPath",sentAs:"versionId"},Days:{location:"xml",sentAs:"Days"},Tier:{wrapper:"RestoreJob",location:"xml",sentAs:"Tier"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},GetObjectMetadata:{httpMethod:"HEAD",parameters:{Bucket:{required:true,location:"uri"},Key:{required:true,location:"uri"},VersionId:{location:"urlPath",sentAs:"versionId"},Origin:{location:"header",sentAs:"Origin"},RequestHeader:{location:"header",sentAs:"Access-Control-Request-Headers"},SseC:{location:"header",sentAs:"server-side-encryption-customer-algorithm",withPrefix:true},SseCKey:{location:"header",sentAs:"server-side-encryption-customer-key",type:"password",withPrefix:true},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},GetObjectMetadataOutput:{parameters:{Expiration:{location:"header",sentAs:"expiration",withPrefix:true},ExpirationObs:{location:"header",sentAs:"x-obs-expiration"},ExpirationV2:{location:"header",sentAs:"x-amz-expiration"},LastModified:{location:"header",sentAs:"Last-Modified"},ContentLength:{location:"header",sentAs:"Content-Length"},ContentType:{location:"header",sentAs:"Content-Type"},CacheControl:{location:"header",sentAs:"Cache-Control"},ContentDisposition:{location:"header",sentAs:"Content-Disposition"},ContentLanguage:{location:"header",sentAs:"Content-Language"},ContentEncoding:{location:"header",sentAs:"Content-Encoding"},Expires:{location:"header",sentAs:"Expires"},ETag:{location:"header",sentAs:"etag"},VersionId:{location:"header",sentAs:"version-id",withPrefix:true},VersionIdObs:{location:"header",sentAs:"x-obs-version-id"},VersionIdV2:{location:"header",sentAs:"x-amz-version-id"},WebsiteRedirectLocation:{location:"header",sentAs:"website-redirect-location",withPrefix:true},WebsiteRedirectLocationObs:{location:"header",sentAs:"x-obs-website-redirect-location"},WebsiteRedirectLocationV2:{location:"header",sentAs:"x-amz-website-redirect-location"},StorageClass:{location:"header",sentAs:"storage-class",withPrefix:true},StorageClassObs:{location:"header",sentAs:"x-obs-storage-class"},StorageClassV2:{location:"header",sentAs:"x-amz-storage-class"},Restore:{location:"header",sentAs:"restore",withPrefix:true},RestoreObs:{location:"header",sentAs:"x-obs-restore"},RestoreV2:{location:"header",sentAs:"x-amz-restore"},ObjectType:{location:"header",sentAs:"object-type",withPrefix:true},ObjectTypeObs:{location:"header",sentAs:"x-obs-object-type"},ObjectTypeV2:{location:"header",sentAs:"x-amz-object-type"},NextPosition:{location:"header",sentAs:"next-append-position",withPrefix:true},NextPositionObs:{location:"header",sentAs:"x-obs-next-append-position"},NextPositionV2:{location:"header",sentAs:"x-amz-next-append-position"},AllowOrigin:{location:"header",sentAs:"access-control-allow-origin"},MaxAgeSeconds:{location:"header",sentAs:"access-control-max-age"},ExposeHeader:{location:"header",sentAs:"access-control-expose-headers"},AllowMethod:{location:"header",sentAs:"access-control-allow-methods"},AllowHeader:{location:"header",sentAs:"access-control-allow-headers"},SseKms:{location:"header",sentAs:"server-side-encryption",withPrefix:true},SseKmsObs:{location:"header",sentAs:"x-obs-server-side-encryption",type:"adapter"},SseKmsV2:{location:"header",sentAs:"x-amz-server-side-encryption",type:"adapter"},SseKmsKey:{location:"header",sentAs:"server-side-encryption-kms-key-id",withPrefix:true},SseC:{location:"header",sentAs:"server-side-encryption-customer-algorithm",withPrefix:true},SseCObs:{location:"header",sentAs:"x-obs-server-side-encryption-customer-algorithm"},SseCV2:{location:"header",sentAs:"x-amz-server-side-encryption-customer-algorithm"},SseCKeyMd5:{location:"header",sentAs:"server-side-encryption-customer-key-MD5",withPrefix:true},SseCKeyMd5Obs:{location:"header",sentAs:"x-obs-server-side-encryption-customer-key-MD5"},SseCKeyMd5V2:{location:"header",sentAs:"x-amz-server-side-encryption-customer-key-MD5"},Metadata:{location:"header",type:"object",sentAs:"meta-",withPrefix:true},MetadataObs:{location:"header",type:"object",sentAs:"x-obs-meta-"},MetadataV2:{location:"header",type:"object",sentAs:"x-amz-meta-"}}},SetObjectMetadata:{httpMethod:"PUT",urlPath:"metadata",parameters:{Bucket:{required:true,location:"uri"},Key:{required:true,location:"uri"},VersionId:{location:"urlPath",sentAs:"versionId"},Origin:{location:"header",sentAs:"Origin"},RequestHeader:{location:"header",sentAs:"Access-Control-Request-Headers"},CacheControl:{location:"header",sentAs:"Cache-Control"},ContentDisposition:{location:"header",sentAs:"Content-Disposition"},ContentLanguage:{location:"header",sentAs:"Content-Language"},ContentEncoding:{location:"header",sentAs:"Content-Encoding"},ContentType:{location:"header",sentAs:"Content-Type"},Expires:{location:"header",sentAs:"Expires"},Metadata:{type:"object",location:"header",sentAs:"meta-",withPrefix:true},MetadataDirective:{location:"header",sentAs:"metadata-directive",withPrefix:true},StorageClass:{location:"header",sentAs:"storage-class",withPrefix:true,type:"adapter"},WebsiteRedirectLocation:{location:"header",sentAs:"website-redirect-location",withPrefix:true},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},SetObjectMetadataOutput:{parameters:{Expires:{location:"header",sentAs:"Expires"},ContentEncoding:{location:"header",sentAs:"Content-Encoding"},ContentType:{location:"header",sentAs:"Content-Type"},ContentLanguage:{location:"header",sentAs:"Content-Language"},CacheControl:{location:"header",sentAs:"Cache-Control"},ContentDisposition:{location:"header",sentAs:"Content-Disposition"},WebsiteRedirectLocation:{location:"header",sentAs:"website-redirect-location",withPrefix:true},WebsiteRedirectLocationObs:{location:"header",sentAs:"x-obs-website-redirect-location"},WebsiteRedirectLocationV2:{location:"header",sentAs:"x-amz-website-redirect-location"},StorageClass:{location:"header",sentAs:"storage-class",withPrefix:true},StorageClassObs:{location:"header",sentAs:"x-obs-storage-class"},StorageClassV2:{location:"header",sentAs:"x-amz-storage-class"},Metadata:{location:"header",type:"object",sentAs:"meta-",withPrefix:true},MetadataObs:{location:"header",type:"object",sentAs:"x-obs-meta-"},MetadataV2:{location:"header",type:"object",sentAs:"x-amz-meta-"},MetadataDirective:{location:"header",sentAs:"metadata-directive",withPrefix:true}}},SetObjectAcl:{httpMethod:"PUT",urlPath:"acl",data:{xmlRoot:"AccessControlPolicy"},parameters:{Bucket:{required:true,location:"uri"},Key:{required:true,location:"uri"},VersionId:{location:"urlPath",sentAs:"versionId"},ACL:{location:"header",sentAs:"acl",withPrefix:true,type:"adapter"},Delivered:{location:"xml",sentAs:"Delivered"},Owner:t,Grants:i,RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},SetObjectAclOutput:{parameters:{VersionId:{location:"header",sentAs:"version-id",withPrefix:true},VersionIdObs:{location:"header",sentAs:"x-obs-version-id"},VersionIdV2:{location:"header",sentAs:"x-amz-version-id"}}},GetObjectAcl:{httpMethod:"GET",urlPath:"acl",parameters:{Bucket:{required:true,location:"uri"},Key:{required:true,location:"uri"},VersionId:{location:"urlPath",sentAs:"versionId"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},GetObjectAclOutput:{data:{type:"xml",xmlRoot:"AccessControlPolicy"},parameters:{VersionId:{location:"header",sentAs:"version-id",withPrefix:true},VersionIdObs:{location:"header",sentAs:"x-obs-version-id"},VersionIdV2:{location:"header",sentAs:"x-amz-version-id"},Delivered:{location:"xml",sentAs:"Delivered"},Owner:t,Grants:i}},DeleteObject:{httpMethod:"DELETE",parameters:{Bucket:{required:true,location:"uri"},Key:{required:true,location:"uri"},VersionId:{location:"urlPath",sentAs:"versionId"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},DeleteObjectOutput:{parameters:{VersionId:{location:"header",sentAs:"version-id",withPrefix:true},VersionIdObs:{location:"header",sentAs:"x-obs-version-id"},VersionIdV2:{location:"header",sentAs:"x-amz-version-id"},DeleteMarker:{location:"header",sentAs:"delete-marker",withPrefix:true},DeleteMarkerObs:{location:"header",sentAs:"x-obs-delete-marker"},DeleteMarkerV2:{location:"header",sentAs:"x-amz-delete-marker"}}},DeleteObjects:{httpMethod:"POST",urlPath:"delete",data:{xmlRoot:"Delete",md5:true},parameters:{Bucket:{required:true,location:"uri"},Quiet:{location:"xml",sentAs:"Quiet"},Objects:{required:true,type:"array",location:"xml",sentAs:"Object",items:{type:"object",parameters:{Key:{sentAs:"Key"},VersionId:{sentAs:"VersionId"}}}},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},DeleteObjectsOutput:{data:{type:"xml",xmlRoot:"DeleteResult"},parameters:{Deleteds:{type:"array",location:"xml",sentAs:"Deleted",items:{type:"object",parameters:{Key:{sentAs:"Key"},VersionId:{sentAs:"VersionId"},DeleteMarker:{sentAs:"DeleteMarker"},DeleteMarkerVersionId:{sentAs:"DeleteMarkerVersionId"}}}},Errors:{type:"array",location:"xml",sentAs:"Error",items:{type:"object",parameters:{Key:{sentAs:"Key"},VersionId:{sentAs:"VersionId"},Code:{sentAs:"Code"},Message:{sentAs:"Message"}}}}}},InitiateMultipartUpload:{httpMethod:"POST",urlPath:"uploads",parameters:{Bucket:{required:true,location:"uri"},Key:{required:true,location:"uri"},ACL:{location:"header",sentAs:"acl",withPrefix:true,type:"adapter"},GrantRead:{location:"header",sentAs:"grant-read",withPrefix:true},GrantReadAcp:{location:"header",sentAs:"grant-read-acp",withPrefix:true},GrantWriteAcp:{location:"header",sentAs:"grant-write-acp",withPrefix:true},GrantFullControl:{location:"header",sentAs:"grant-full-control",withPrefix:true},StorageClass:{location:"header",sentAs:"storage-class",withPrefix:true,type:"adapter"},Metadata:{type:"object",location:"header",sentAs:"meta-",withPrefix:true},WebsiteRedirectLocation:{location:"header",sentAs:"website-redirect-location",withPrefix:true},Expires:{location:"header",sentAs:"expires",type:"number",withPrefix:true},ContentType:{location:"header",sentAs:"Content-Type"},SseKms:{location:"header",sentAs:"server-side-encryption",withPrefix:true,type:"adapter"},SseKmsKey:{location:"header",sentAs:"server-side-encryption-kms-key-id",withPrefix:true},SseC:{location:"header",sentAs:"server-side-encryption-customer-algorithm",withPrefix:true},SseCKey:{location:"header",sentAs:"server-side-encryption-customer-key",type:"password",withPrefix:true},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},InitiateMultipartUploadOutput:{data:{type:"xml",xmlRoot:"InitiateMultipartUploadResult"},parameters:{Bucket:{location:"xml",sentAs:"Bucket"},Key:{location:"xml",sentAs:"Key"},UploadId:{location:"xml",sentAs:"UploadId"},SseKms:{location:"header",sentAs:"server-side-encryption",withPrefix:true},SseKmsKey:{location:"header",sentAs:"server-side-encryption-kms-key-id",withPrefix:true},SseC:{location:"header",sentAs:"server-side-encryption-customer-algorithm",withPrefix:true},SseCKeyMd5:{location:"header",sentAs:"server-side-encryption-customer-key-MD5",withPrefix:true}}},ListMultipartUploads:{httpMethod:"GET",urlPath:"uploads",parameters:{Bucket:{required:true,location:"uri"},Delimiter:{location:"urlPath",sentAs:"delimiter"},KeyMarker:{location:"urlPath",sentAs:"key-marker"},MaxUploads:{type:"number",location:"urlPath",sentAs:"max-uploads"},Prefix:{location:"urlPath",sentAs:"prefix"},UploadIdMarker:{location:"urlPath",sentAs:"upload-id-marker"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},ListMultipartUploadsOutput:{data:{type:"xml",xmlRoot:"ListMultipartUploadsResult"},parameters:{Bucket:{location:"xml",sentAs:"Bucket"},KeyMarker:{location:"xml",sentAs:"KeyMarker"},UploadIdMarker:{location:"xml",sentAs:"UploadIdMarker"},NextKeyMarker:{location:"xml",sentAs:"NextKeyMarker"},Prefix:{location:"xml",sentAs:"Prefix"},Delimiter:{location:"xml",sentAs:"Delimiter"},NextUploadIdMarker:{location:"xml",sentAs:"NextUploadIdMarker"},MaxUploads:{location:"xml",sentAs:"MaxUploads"},IsTruncated:{location:"xml",sentAs:"IsTruncated"},Uploads:{type:"array",location:"xml",sentAs:"Upload",items:{type:"object",parameters:{UploadId:{sentAs:"UploadId"},Key:{sentAs:"Key"},Initiated:{sentAs:"Initiated"},StorageClass:{sentAs:"StorageClass"},Owner:t,Initiator:r}}},CommonPrefixes:n}},UploadPart:{httpMethod:"PUT",parameters:{Bucket:{required:true,location:"uri"},Key:{required:true,location:"uri"},PartNumber:{required:true,type:"number",location:"urlPath",sentAs:"partNumber"},UploadId:{required:true,location:"urlPath",sentAs:"uploadId"},ContentMD5:{location:"header",sentAs:"Content-MD5"},Body:{location:"body"},SourceFile:{type:"srcFile"},Offset:{type:"plain"},PartSize:{type:"plain"},ProgressCallback:{type:"plain"},SseC:{location:"header",sentAs:"server-side-encryption-customer-algorithm",withPrefix:true},SseCKey:{location:"header",sentAs:"server-side-encryption-customer-key",type:"password",withPrefix:true},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},UploadPartOutput:{parameters:{ETag:{location:"header",sentAs:"etag"},SseKms:{location:"header",sentAs:"server-side-encryption",withPrefix:true},SseKmsKey:{location:"header",sentAs:"server-side-encryption-kms-key-id",withPrefix:true},SseC:{location:"header",sentAs:"server-side-encryption-customer-algorithm",withPrefix:true},SseCKeyMd5:{location:"header",sentAs:"server-side-encryption-customer-key-MD5",withPrefix:true}}},ListParts:{httpMethod:"GET",parameters:{Bucket:{required:true,location:"uri"},Key:{required:true,location:"uri"},UploadId:{required:true,location:"urlPath",sentAs:"uploadId"},MaxParts:{type:"number",location:"urlPath",sentAs:"max-parts"},PartNumberMarker:{type:"number",location:"urlPath",sentAs:"part-number-marker"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},ListPartsOutput:{data:{type:"xml",xmlRoot:"ListPartsResult"},parameters:{Bucket:{location:"xml",sentAs:"Bucket"},Key:{location:"xml",sentAs:"Key"},UploadId:{location:"xml",sentAs:"UploadId"},PartNumberMarker:{location:"xml",sentAs:"PartNumberMarker"},NextPartNumberMarker:{location:"xml",sentAs:"NextPartNumberMarker"},MaxParts:{location:"xml",sentAs:"MaxParts"},IsTruncated:{location:"xml",sentAs:"IsTruncated"},StorageClass:{location:"xml",sentAs:"StorageClass"},Initiator:r,Owner:t,Parts:{type:"array",location:"xml",sentAs:"Part",items:{type:"object",parameters:{PartNumber:{sentAs:"PartNumber"},LastModified:{sentAs:"LastModified"},ETag:{sentAs:"ETag"},Size:{sentAs:"Size"}}}}}},CopyPart:{httpMethod:"PUT",parameters:{Bucket:{required:true,location:"uri"},Key:{required:true,location:"uri"},PartNumber:{required:true,location:"urlPath",sentAs:"partNumber",type:"number"},UploadId:{required:true,location:"urlPath",sentAs:"uploadId"},CopySource:{required:true,location:"header",sentAs:"copy-source",skipEncoding:true,withPrefix:true},CopySourceRange:{location:"header",sentAs:"copy-source-range",withPrefix:true},SseC:{location:"header",sentAs:"server-side-encryption-customer-algorithm",withPrefix:true},SseCKey:{location:"header",sentAs:"server-side-encryption-customer-key",type:"password",withPrefix:true},CopySourceSseC:{location:"header",sentAs:"copy-source-server-side-encryption-customer-algorithm",withPrefix:true},CopySourceSseCKey:{location:"header",sentAs:"copy-source-server-side-encryption-customer-key",type:"password",withPrefix:true},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},CopyPartOutput:{data:{type:"xml",xmlRoot:"CopyPartResult"},parameters:{LastModified:{location:"xml",sentAs:"LastModified"},ETag:{location:"xml",sentAs:"ETag"},SseKms:{location:"header",sentAs:"server-side-encryption",withPrefix:true},SseKmsKey:{location:"header",sentAs:"server-side-encryption-kms-key-id",withPrefix:true},SseC:{location:"header",sentAs:"server-side-encryption-customer-algorithm",withPrefix:true},SseCKeyMd5:{location:"header",sentAs:"server-side-encryption-customer-key-MD5",withPrefix:true}}},AbortMultipartUpload:{httpMethod:"DELETE",parameters:{Bucket:{required:true,location:"uri"},Key:{required:true,location:"uri"},UploadId:{required:true,location:"urlPath",sentAs:"uploadId"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},CompleteMultipartUpload:{httpMethod:"POST",data:{xmlRoot:"CompleteMultipartUpload"},parameters:{Bucket:{required:true,location:"uri"},Key:{required:true,location:"uri"},UploadId:{required:true,location:"urlPath",sentAs:"uploadId"},Parts:{required:true,type:"array",location:"xml",sentAs:"Part",items:{type:"object",parameters:{PartNumber:{sentAs:"PartNumber"},ETag:{sentAs:"ETag"}}}},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},CompleteMultipartUploadOutput:{data:{type:"xml",xmlRoot:"CompleteMultipartUploadResult"},parameters:{VersionId:{location:"header",sentAs:"version-id",withPrefix:true},Location:{location:"xml",sentAs:"Location"},Bucket:{location:"xml",sentAs:"Bucket"},Key:{location:"xml",sentAs:"Key"},ETag:{location:"xml",sentAs:"ETag"},SseKms:{location:"header",sentAs:"server-side-encryption",withPrefix:true},SseKmsKey:{location:"header",sentAs:"server-side-encryption-kms-key-id",withPrefix:true},SseC:{location:"header",sentAs:"server-side-encryption-customer-algorithm",withPrefix:true},SseCKeyMd5:{location:"header",sentAs:"server-side-encryption-customer-key-MD5",withPrefix:true}}},OptionsObject:{httpMethod:"OPTIONS",parameters:{Bucket:{required:true,location:"uri"},Key:{required:true,location:"uri"},Origin:{required:true,location:"header",sentAs:"Origin"},AccessControlRequestMethods:{required:true,type:"array",location:"header",sentAs:"Access-Control-Request-Method",items:{type:"string"}},AccessControlRequestHeaders:{type:"array",location:"header",sentAs:"Access-Control-Request-Headers",items:{type:"string"}}}},OptionsObjectOutput:{parameters:{AllowOrigin:{location:"header",sentAs:"access-control-allow-origin"},AllowHeader:{location:"header",sentAs:"access-control-allow-headers"},AllowMethod:{location:"header",sentAs:"access-control-allow-methods"},ExposeHeader:{location:"header",sentAs:"access-control-expose-headers"},MaxAgeSeconds:{location:"header",sentAs:"access-control-max-age"}}},GetBucketDirectColdAccess:{httpMethod:"GET",urlPath:"directcoldaccess",parameters:{Bucket:{required:true,location:"uri"}}},GetBucketDirectColdAccessOutput:{data:{type:"xml",xmlRoot:"DirectColdAccessConfiguration"},parameters:{Status:{location:"xml",sentAs:"Status"}}},SetBucketDirectColdAccess:{httpMethod:"PUT",urlPath:"directcoldaccess",data:{xmlRoot:"DirectColdAccessConfiguration",md5:true},parameters:{Bucket:{required:true,location:"uri"},Status:{required:true,location:"xml",sentAs:"Status"}}},SetBucketDirectColdAccessOutput:{data:{type:"xml",xmlRoot:"DirectColdAccessConfiguration"},parameters:{Status:{location:"xml",sentAs:"Status"}}},DeleteBucketDirectColdAccess:{httpMethod:"DELETE",urlPath:"directcoldaccess",parameters:{Bucket:{required:true,location:"uri"}}},DeleteBucketDirectColdAccessOutput:{data:{type:"xml",xmlRoot:"DirectColdAccessConfiguration"},parameters:{Status:{location:"xml",sentAs:"Status"}}},GetBucketEncryption:{httpMethod:"GET",urlPath:"encryption",parameters:{Bucket:{required:true,location:"uri"}}},GetBucketEncryptionOutput:{data:{type:"xml",xmlRoot:"ServerSideEncryptionConfiguration"},parameters:{Rule:{type:"object",location:"xml",sentAs:"Rule",parameters:{ApplyServerSideEncryptionByDefault:{type:"object",sentAs:"ApplyServerSideEncryptionByDefault",parameters:{SSEAlgorithm:{sentAs:"SSEAlgorithm"},KMSMasterKeyID:{sentAs:"KMSMasterKeyID"}}}}}}},SetBucketEncryption:{httpMethod:"PUT",urlPath:"encryption",data:{xmlRoot:"ServerSideEncryptionConfiguration"},parameters:{Bucket:{required:true,location:"uri"},Rule:g}},SetBucketEncryptionOutput:{data:{type:"xml",xmlRoot:"ServerSideEncryptionConfiguration"},parameters:{Rule:g}},DeleteBucketEncryption:{httpMethod:"DELETE",urlPath:"encryption",parameters:{Bucket:{required:true,location:"uri"}}},DeleteBucketEncryptionOutput:{data:{type:"xml",xmlRoot:"ServerSideEncryptionConfiguration"},parameters:{Rule:g}}};e.exports=A},3089:(e,t,r)=>{const n=r(6417);const i=r(5747);const o=r(8614);const s=r(8605);const a=r(7211);const c=r(6189);const l=r(8835);const u=r(5622);const d=r(2413);const p=r(9107);const f=r(1908);const h="e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";const m="3.20.11";const y={"7z":"application/x-7z-compressed",aac:"audio/x-aac",ai:"application/postscript",aif:"audio/x-aiff",asc:"text/plain",asf:"video/x-ms-asf",atom:"application/atom+xml",avi:"video/x-msvideo",bmp:"image/bmp",bz2:"application/x-bzip2",cer:"application/pkix-cert",crl:"application/pkix-crl",crt:"application/x-x509-ca-cert",css:"text/css",csv:"text/csv",cu:"application/cu-seeme",deb:"application/x-debian-package",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dvi:"application/x-dvi",eot:"application/vnd.ms-fontobject",eps:"application/postscript",epub:"application/epub+zip",etx:"text/x-setext",flac:"audio/flac",flv:"video/x-flv",gif:"image/gif",gz:"application/gzip",htm:"text/html",html:"text/html",ico:"image/x-icon",ics:"text/calendar",ini:"text/plain",iso:"application/x-iso9660-image",jar:"application/java-archive",jpe:"image/jpeg",jpeg:"image/jpeg",jpg:"image/jpeg",js:"text/javascript",json:"application/json",latex:"application/x-latex",log:"text/plain",m4a:"audio/mp4",m4v:"video/mp4",mid:"audio/midi",midi:"audio/midi",mov:"video/quicktime",mp3:"audio/mpeg",mp4:"video/mp4",mp4a:"audio/mp4",mp4v:"video/mp4",mpe:"video/mpeg",mpeg:"video/mpeg",mpg:"video/mpeg",mpg4:"video/mp4",oga:"audio/ogg",ogg:"audio/ogg",ogv:"video/ogg",ogx:"application/ogg",pbm:"image/x-portable-bitmap",pdf:"application/pdf",pgm:"image/x-portable-graymap",png:"image/png",pnm:"image/x-portable-anymap",ppm:"image/x-portable-pixmap",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",ps:"application/postscript",qt:"video/quicktime",rar:"application/x-rar-compressed",ras:"image/x-cmu-raster",rss:"application/rss+xml",rtf:"application/rtf",sgm:"text/sgml",sgml:"text/sgml",svg:"image/svg+xml",swf:"application/x-shockwave-flash",tar:"application/x-tar",tif:"image/tiff",tiff:"image/tiff",torrent:"application/x-bittorrent",ttf:"application/x-font-ttf",txt:"text/plain",wav:"audio/x-wav",webm:"video/webm",wma:"audio/x-ms-wma",wmv:"video/x-ms-wmv",woff:"application/x-font-woff",wsdl:"application/wsdl+xml",xbm:"image/x-xbitmap",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xml:"application/xml",xpm:"image/x-xpixmap",xwd:"image/x-xwindowdump",yaml:"text/yaml",yml:"text/yaml",zip:"application/zip"};const g=["acl","backtosource","policy","torrent","logging","location","storageinfo","quota","storageclass","storagepolicy","requestpayment","versions","versioning","versionid","uploads","uploadid","partnumber","website","notification","replication","lifecycle","deletebucket","delete","cors","restore","tagging","append","position","response-content-type","response-content-language","response-expires","response-cache-control","response-content-disposition","response-content-encoding","x-image-process","x-oss-process","encryption","directcoldaccess","rename","name","requestPayment","metadata","modify"];const A=["content-type","content-md5","content-length","content-language","expires","origin","cache-control","content-disposition","content-encoding","x-default-storage-class","location","date","etag","host","last-modified","content-range","x-reserved","access-control-allow-origin","access-control-allow-headers","access-control-max-age","access-control-allow-methods","access-control-expose-headers","connection"];const b={"content-length":"ContentLength",date:"Date","x-reserved":"Reserved"};const x=["STANDARD","WARM","COLD"];const w=["STANDARD","STANDARD_IA","GLACIER"];const S=["private","public-read","public-read-write","public-read-delivered","public-read-write-delivered","bucket-owner-full-control"];const C=["private","public-read","public-read-write","authenticated-read","bucket-owner-read","bucket-owner-full-control","log-delivery-write"];const v=["Everyone","Logdelivery"];const P=["http://acs.amazonaws.com/groups/global/AllUsers","http://acs.amazonaws.com/groups/global/AuthenticatedUsers","http://acs.amazonaws.com/groups/s3/LogDelivery"];const M=["ObjectCreated:*","ObjectCreated:Put","ObjectCreated:Post","ObjectCreated:Copy","ObjectCreated:CompleteMultipartUpload","ObjectRemoved:*","ObjectRemoved:Delete","ObjectRemoved:DeleteMarkerCreated"];const O=["s3:ObjectCreated:*","s3:ObjectCreated:Put","s3:ObjectCreated:Post","s3:ObjectCreated:Copy","s3:ObjectCreated:CompleteMultipartUpload","s3:ObjectRemoved:*","s3:ObjectRemoved:Delete","s3:ObjectRemoved:DeleteMarkerCreated"];const E="HeadApiVersion";const k={signature:"obs",headerPrefix:"x-obs-",headerMetaPrefix:"x-obs-meta-",authPrefix:"OBS"};const D={signature:"v2",headerPrefix:"x-amz-",headerMetaPrefix:"x-amz-meta-",authPrefix:"AWS"};class TimedOutError extends Error{constructor(e){super("connect ETIMEDOUT "+e);this.errno="ETIMEDOUT";this.code="ETIMEDOUT";Error.captureStackTrace(this,TimedOutError)}}function encodeURIWithSafe(e,t,r){e=String(e);if(e.length===0){return""}if(r){return e}let n;if(t){n=[];for(const r of e){n.push(t.indexOf(r)>=0?r:encodeURIComponent(r))}n=n.join("")}else{n=encodeURIComponent(e)}return n.replace(/!/g,"%21").replace(/\*/g,"%2A").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29")}function headerTostring(e){return JSON?JSON.stringify(e):""}function parseObjectFromHeaders(e,t){let r={};for(let n in t){if({}.hasOwnProperty.call(t,n)){let i=String(n).toLowerCase();if(i.indexOf(e)===0){r[i.slice(e.length)]=t[n]}}}return r}function mkdirsSync(e){if(i.existsSync(e)){return true}if(mkdirsSync(u.dirname(e))){i.mkdirSync(e);return true}return false}function isArray(e){return Object.prototype.toString.call(e)==="[object Array]"}function isObject(e){return Object.prototype.toString.call(e)==="[object Object]"}function makeObjFromXml(e,t,r,n){c.parseString(e,{explicitArray:false,ignoreAttrs:true},(function(i,o){if(i){return n(i,null)}if(o===null||o===undefined){if(r.isLevelEnabled("error")){r.runLog("error",t,"xml ["+e+"] is not well-format")}return n(new Error("xml is not well format"),null)}n(null,o)}))}function getExpireDate(e){let t=new Date(Date.parse(e));let r=t.getUTCHours();let n=t.getUTCMinutes();let i=t.getUTCSeconds();let o=t.getUTCDate();let s=t.getUTCMonth()+1;let a=t.getUTCFullYear();let c="";c+=a+"-";if(s<10){c+="0"}c+=s+"-";if(o<10){c+="0"}c+=o+"T";if(r<10){c+="0"}c+=r+":";if(n<10){c+="0"}c+=n+":";if(i<10){c+="0"}c+=i+"Z";return c}function getDates(e){let t=new Date(Date.parse(e));let r=t.getUTCHours();let n=t.getUTCMinutes();let i=t.getUTCSeconds();let o=t.getUTCDate();let s=t.getUTCMonth()+1;let a=t.getUTCFullYear();let c="";let l="";c+=a;if(s<10){c+="0"}c+=s;if(o<10){c+="0"}c+=o;l+=c+"T";if(r<10){l+="0"}l+=r;if(n<10){l+="0"}l+=n;if(i<10){l+="0"}l+=i+"Z";return[c,l]}function getSignedAndCanonicalHeaders(e){let t=[];let r={};for(let n in e){if({}.hasOwnProperty.call(e,n)){t.push(n.toLowerCase());r[n.toLowerCase()]=e[n]}}t=t.sort();let n="";let i="";for(let e=0;e<t.length;e++){if(e!==0){n+=";"}n+=t[e];i+=t[e]+":"+r[t[e]]+"\n"}return[n,i]}function createV4Signature(e,t,r,i){let o=n.createHmac("sha256","AWS4"+t).update(e).digest();let s=n.createHmac("sha256",o).update(r).digest();let a=n.createHmac("sha256",s).update("s3").digest();let c=n.createHmac("sha256",a).update("aws4_request").digest();return n.createHmac("sha256",c).update(i).digest("hex")}function getV4Signature(e,t,r,i,o){let s=e+"/"+i+"/s3/aws4_request";let a="AWS4-HMAC-SHA256\n";a+=t+"\n";a+=s+"\n";a+=n.createHash("sha256").update(o).digest("hex");return createV4Signature(e,r,i,a)}function Utils(e){this.log=e;this.ak=null;this.sk=null;this.securityToken=null;this.isSecure=true;this.server=null;this.pathStyle=false;this.signatureContext=null;this.isSignatureNegotiation=true;this.bucketSignatureCache={};this.region="region";this.port=null;this.maxRetryCount=3;this.timeout=60;this.sslVerify=false;this.httpAgent=false;this.httpsAgent=false;this.obsSdkVersion=m;this.isCname=false;this.bucketEventEmitters={};this.maxConnections=1e3;this.userAgent="obs-sdk-js/"+this.obsSdkVersion}Utils.prototype.encodeURIWithSafe=encodeURIWithSafe;Utils.prototype.mimeTypes=y;Utils.prototype.close=function(){if(this.httpAgent){this.httpAgent=null}if(this.httpsAgent){this.httpsAgent=null}if(this.thirdHttpLib){this.thirdHttpLib=null}};Utils.prototype.refresh=function(e,t,r){this.ak=e?String(e).trim():null;this.sk=t?String(t).trim():null;this.securityToken=r?String(r).trim():null};Utils.prototype.initFactory=function(e,t,r,n,i,o,c,l,u,d,p,f,h,m,y,g,A,b,x,w){this.refresh(e,t,h);if(!n){throw new Error("Server is not set")}n=String(n).trim();if(n.indexOf("https://")===0){n=n.slice("https://".length);r=true}else if(n.indexOf("http://")===0){n=n.slice("http://".length);r=false}let S=n.lastIndexOf("/");while(S>=0){n=n.slice(0,S);S=n.lastIndexOf("/")}S=n.indexOf(":");if(S>=0){l=n.slice(S+1);n=n.slice(0,S)}this.server=n;if(/^[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+$/.test(this.server)){i=true}if(r!==undefined){this.isSecure=r}if(i!==undefined){this.pathStyle=i}if(o!==undefined){o=String(o).trim().toLowerCase()}else{o="obs"}if(m!==undefined){this.isSignatureNegotiation=m}this.isCname=y;if(this.pathStyle||this.isCname){this.isSignatureNegotiation=false;if(o==="obs"){o="v2"}}this.signatureContext=o==="obs"?k:D;if(c!==undefined){this.region=String(c).trim()}this.port=l?parseInt(l,10):this.isSecure?443:80;if(u!==undefined){this.maxRetryCount=parseInt(u,10)}if(d!==undefined){this.timeout=parseInt(d,10)}if(p!==undefined){this.sslVerify=p}if(g!==undefined){this.maxConnections=parseInt(g,10)}if(A!==undefined){this.httpAgent=A}if(b!==undefined){this.httpsAgent=b}if(x){this.userAgent=x}if(w){this.thirdHttpLib=w}if(f!==undefined&&Number(f)>=0){if(!this.httpAgent){this.httpAgent=new s.Agent({keepAlive:true,keepAliveMsecs:Number(f)*1e3,maxSockets:this.maxConnections,maxFreeSockets:this.maxConnections})}if(!this.httpsAgent){this.httpsAgent=new a.Agent({keepAlive:true,keepAliveMsecs:Number(f)*1e3,maxSockets:this.maxConnections,maxFreeSockets:this.maxConnections})}}};Utils.prototype.SseKmsAdapter=function(e,t){e=e||"";e=String(e);let r=e.indexOf("aws:");if(t.signature==="obs"){return r===0?e.slice(4):e}return r===0?e:"aws:"+e};Utils.prototype.BucketAdapter=function(e,t){e=e||"";e=String(e);let r=e.indexOf("arn:aws:s3:::");if(t.signature==="obs"){return r===0?e.slice("arn:aws:s3:::".length):e}return r===0?e:"arn:aws:s3:::"+e};Utils.prototype.EventAdapter=function(e,t){e=e||"";e=String(e);if(t.signature==="obs"){if(M.indexOf(e)>=0){return e}if(O.indexOf(e)>=0){return e.substring(3)}return""}if(O.indexOf(e)>=0){return e}if(M.indexOf(e)>=0){return"s3:"+e}return""};Utils.prototype.URIAdapter=function(e,t){e=e||"";e=String(e);if(t.signature==="obs"){if(v.indexOf(e)>=0){return e}if(e==="AllUsers"||e==="http://acs.amazonaws.com/groups/global/AllUsers"){return"Everyone"}return""}if(P.indexOf(e)>=0){return e}if(e==="Everyone"||e==="AllUsers"){return"http://acs.amazonaws.com/groups/global/AllUsers"}if(e==="AuthenticatedUsers"){return"http://acs.amazonaws.com/groups/global/AuthenticatedUsers"}if(e==="LogDelivery"){return"http://acs.amazonaws.com/groups/s3/LogDelivery"}return""};Utils.prototype.StorageClassAdapter=function(e,t){e=e||"";e=String(e).toUpperCase();if(t.signature==="obs"){if(x.indexOf(e)>=0){return e}if(e==="STANDARD_IA"){return"WARM"}if(e==="GLACIER"){return"COLD"}return""}if(w.indexOf(e)>=0){return e}if(e==="WARM"){return"STANDARD_IA"}if(e==="COLD"){return"GLACIER"}return""};Utils.prototype.ACLAdapter=function(e,t){e=e||"";e=String(e).toLowerCase();if(t.signature==="obs"){if(S.indexOf(e)>=0){return e}return""}if(e==="public-read-delivered"){e="public-read"}else if(e==="public-read-write-delivered"){e="public-read-write"}if(C.indexOf(e)>=0){return e}return""};Utils.prototype.doExec=function(e,t,r){let n=this.makeParam(e,t);if("err"in n){return r(n.err,null)}this.sendRequest(e,n,r)};Utils.prototype.doNegotiation=function(e,t,r,n,i,s){let a=null;let c=this;if(i&&t.Bucket){let l=c.bucketSignatureCache[t.Bucket];if(l&&l.signatureContext&&l.expireTime>(new Date).getTime()){t.signatureContext=l.signatureContext;let n=c.makeParam(e,t);if("err"in n){return r(n.err,null)}n.signatureContext=l.signatureContext;return c.sendRequest(e,n,r)}a=this.bucketEventEmitters[t.Bucket];if(!a){a={s:0};this.bucketEventEmitters[t.Bucket]=a}if(a.s){a.e.once("done",(()=>{c.doNegotiation(e,t,r,n,i,s)}));return}a.e=new o.EventEmitter;a.s=1}this.doExec(E,n?{Bucket:t.Bucket}:{},(function(i,o){if(i){r(i,null);if(a){a.s=0;a.e.emit("done")}return}if(n&&o.CommonMsg.Status===404||o.CommonMsg.Status>=500){r(i,o);if(a){a.s=0;a.e.emit("done")}return}let l=D;if(o.CommonMsg.Status<300&&o.InterfaceResult&&o.InterfaceResult.ApiVersion>="3.0"){l=k}if(s){c.bucketSignatureCache[t.Bucket]={signatureContext:l,expireTime:(new Date).getTime()+15+Math.ceil(Math.random()*5)*60*1e3}}if(a){a.s=0;a.e.emit("done")}t.signatureContext=l;let u=c.makeParam(e,t);if("err"in u){return r(u.err,null)}u.signatureContext=l;c.sendRequest(e,u,r)}))};Utils.prototype.exec=function(e,t,r){let n=this;if(n.isSignatureNegotiation&&e!==E){if(e==="ListBuckets"){n.doNegotiation(e,t,r,false,false,false)}else if(e==="CreateBucket"){let _callback=function(i,o){if(!i&&o.CommonMsg.Status===400&&o.CommonMsg.Message==="Unsupported Authorization Type"&&t.signatureContext&&t.signatureContext.signature==="v2"){t.signatureContext=D;let i=n.makeParam(e,t);if("err"in i){return r(i.err,null)}i.signatureContext=t.signatureContext;n.sendRequest(e,i,r);return}r(i,o)};n.doNegotiation(e,t,_callback,false,true,false)}else{n.doNegotiation(e,t,r,true,true,true)}return}n.doExec(e,t,r)};Utils.prototype.toXml=function(e,t,r,n,i){let o="";if(r!==null){o+=this.buildXml(e,t,r,n,i);return o}for(let r in t){if(r in e){let n=t[r];o+=this.buildXml(e,n,r,n.sentAs||r,i)}}return o};Utils.prototype.buildXml=function(e,t,r,n,i){let o="";let s=t.type;if(s==="array"){for(let s=0;s<e[r].length;s++){if(t.items.type==="object"){if(!e[r][s]){return o}let a=this.toXml(e[r][s],t.items.parameters,null,null,i);if(a!==""){o+="<"+n+">"+a+"</"+n+">"}}else if(t.items.type==="adapter"){o+="<"+n+">"+String(this[r+"Adapter"](e[r][s],i)).replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;")+"</"+n+">"}else if(t.items.type!=="array"){o+="<"+n+">"+String(e[r][s]).replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;")+"</"+n+">"}}}else if(s==="object"){if(!e[r]){return o}let s=this.toXml(e[r],t.parameters,null,null,i);if(s!==""){o+="<"+n;if("data"in t){if("xsiNamespace"in t.data){o+=' xmlns:xsi="'+t.data.xsiNamespace+'"'}if("xsiType"in t.data){o+=' xsi:type="'+e[r][t.data.xsiType]+'"'}}o+=">";o+=s+"</"+n+">"}}else if(!t.notAllowEmpty||String(e[r])!==""){if(s==="adapter"){o+="<"+n+">"+String(this[r+"Adapter"](e[r],i)).replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;")+"</"+n+">"}else if(s!=="ignore"){o+="<"+n+">"+String(e[r]).replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;")+"</"+n+">"}}if(o&&t.wrapper){let e=t.wrapper;o="<"+e+">"+o+"</"+e+">"}return o};Utils.prototype.jsonToObject=function(e,t,r){let n={};if(r!==null){this.buildObject(e,t,r,n)}else{for(let r in e){if({}.hasOwnProperty.call(e,r)){this.buildObject(e,t,r,n)}}}return n};Utils.prototype.buildObject=function(e,t,r,n){if(isObject(t)){let i=true;let o=e[r].wrapper;if(o&&o in t){t=t[o];i=isObject(t)}if(i){let i=e[r].sentAs||r;if(i in t){if(e[r].type==="object"){n[r]=this.jsonToObject(e[r].parameters,t[i],null)}else if(e[r].type==="array"){let o=[];if(!isArray(t[i])){o[0]=e[r].items.type==="object"?this.jsonToObject(e[r].items.parameters,t[i],null):t[i]}else{for(let n=0;n<t[i].length;n++){o[n]=e[r].items.type==="object"?this.jsonToObject(e[r].items.parameters,t[i][n],null):t[i][n]}}n[r]=o}else{n[r]=t[i]}}}}if(n[r]===undefined){if(e[r].type==="object"){n[r]=e[r].parameters?this.jsonToObject(e[r].parameters,null,null):{}}else if(e[r].type==="array"){n[r]=[]}else{n[r]=""}}};Utils.prototype.makeParam=function(e,t){let r=t.signatureContext||this.signatureContext;let n=r.signature==="obs"?p[e]:f[e];let o=n.httpMethod;let s="/";let a="";let c="";let l={};let u={};u.$requestHook=t.RequestHook;u.$pipeHook=t.PipeHook;u.$responseHook=t.ResponseHook;u.$highWaterMark=t.HighWaterMark;if("urlPath"in n){a+="?";a+=n.urlPath}for(let i in n.parameters){if({}.hasOwnProperty.call(n.parameters,i)){let o=n.parameters[i];if(i==="Bucket"&&this.isCname){continue}let d=t[i];if(o.required&&(d===null||d===undefined||Object.prototype.toString.call(d)==="[object String]"&&d==="")){u.err=i+" is a required element!";if(this.log.isLevelEnabled("warn")){this.log.runLog("warn",e,u.err)}return u}if(d!==null&&d!==undefined){if(o.type==="srcFile"||o.type==="dstFile"){u[o.type]=d;continue}if(o.type==="plain"){u[i]=d}let e=o.sentAs||i;if(o.withPrefix){e=r.headerPrefix+e}if(o.location==="uri"){if(s!=="/"){s+="/"}s+=d}else if(o.location==="header"){let t=o.encodingSafe||" ;/?:@&=+$,";if(o.type==="object"){if(r.headerMetaPrefix===e){for(let r in d){if({}.hasOwnProperty.call(d,r)){let n=d[r];r=String(r).trim().toLowerCase();l[r.indexOf(e)===0?r:e+r]=encodeURIWithSafe(n,t)}}}}else if(o.type==="array"){let r=[];for(let e=0;e<d.length;e++){r.push(encodeURIWithSafe(d[e],t))}l[e]=r}else if(o.type==="password"){l[e]=Buffer.from(d,"utf8").toString("base64");let t=e+"-MD5";l[t]=this.bufMD5(d)}else if(o.type==="number"&&Number(d)){l[e]=encodeURIWithSafe(String(d),t)}else if(o.type==="boolean"){l[e]=encodeURIWithSafe(d?"true":"false",t)}else if(o.type==="adapter"){let n=this[i+"Adapter"](d,r);if(n){l[e]=encodeURIWithSafe(String(n),t)}}else{l[e]=encodeURIWithSafe(String(d),t,o.skipEncoding)}}else if(o.location==="urlPath"){let t=a===""?"?":"&";let r=d;if(o.type!=="number"||o.type==="number"&&Number(r)>=0){a+=t+encodeURIWithSafe(e,"/")+"="+encodeURIWithSafe(String(r),"/")}}else if(o.location==="xml"){let n=this.toXml(t,o,i,e,r);if(n){c+=n}}else if(o.location==="body"){c=d}}}}if("data"in n&&"xmlRoot"in n.data){if(c||n.data.xmlAllowEmpty){let e=n.data.xmlRoot;c="<"+e+">"+c+"</"+e+">"}}l.Host=this.server;if(!this.pathStyle&&!this.isCname){let e=s.split("/");if(e.length>=2&&e[1]){l.Host=e[1]+"."+l.Host;let t=s.replace(e[1],"");if(t.indexOf("//")===0){t=t.slice(1)}if(r.signature==="v4"){s=t}else if(t==="/"){s+="/"}u.requestUri=encodeURIWithSafe(t,"/")}}u.method=o;u.uri=encodeURIWithSafe(s,"/");u.urlPath=a;if(c){if(!(c instanceof d.Readable)){let e=Buffer.from(String(c),"utf8");if(n.data&&n.data.md5){l["Content-MD5"]=this.bufMD5(e)}l["Content-Length"]=e.length===0?"0":String(e.length)}u.xml=c;if(this.log.isLevelEnabled("debug")){this.log.runLog("debug",e,"request content:"+c)}}u.headers=l;if("srcFile"in u){if(!i.existsSync(u.srcFile)){u.err="the file ["+u.srcFile+"] is not exist!";if(this.log.isLevelEnabled("error")){this.log.runLog("error",e,u.err)}return u}let t=i.statSync(u.srcFile).size;if("Content-Length"in u.headers||"PartSize"in u||"Offset"in u){let e=u.Offset;e=e&&e>=0&&e<t?e:0;let r;if("PartSize"in u){r=u.PartSize}else if("Content-Length"in u.headers){r=parseInt(u.headers["Content-Length"],10)}else{r=t}r=r&&r>0&&r<=t-e?r:t-e;u.PartSize=r;u.Offset=e;u.headers["Content-Length"]=String(u.PartSize)}}else if("PartSize"in u){u.headers["Content-Length"]=String(u.PartSize)}return u};Utils.prototype.sendRequest=function(e,t,r,n){if(n===undefined){n=1}let i=this;let o=t.xml instanceof d.Readable||t.ProgressCallback;i.makeRequest(e,t,n,(function(s,a){if(s){if(s.message==="redirect"){let o=l.parse(s.location);t.headers.Host=o.hostname;t.protocol=o.protocol;t.port=o.port||(t.protocol&&t.protocol.toLowerCase().indexOf("https")===0?443:80);i.sendRequest(e,t,r,n+1);return}if(s.message!=="pause"&&!o&&a!=="PREMATURE_END"&&a!=="SELF_SIGNED_CERT_IN_CHAIN"&&a!=="DEPTH_ZERO_SELF_SIGNED_CERT"&&n<=i.maxRetryCount){i.sendRequest(e,t,r,n+1);return}}r(s,a)}))};Utils.prototype.doAuth=function(e,t,r){let i=["Content-MD5","Content-Type","Date"];let o=this.log;let s=e.method+"\n";for(let t=0;t<i.length;t++){if(i[t]in e.headers){s+=e.headers[i[t]]}s+="\n"}let a=[];for(let t in e.headers){if({}.hasOwnProperty.call(e.headers,t)){let n=t.toLowerCase();if(n.indexOf(r.headerPrefix)===0){a.push({key:n,value:e.headers[t]})}}}a=a.sort((function(e,t){if(e.key<t.key){return-1}if(e.key>t.key){return 1}return 0}));for(let e=0;e<a.length;e++){let t=a[e].key;let n=t.indexOf(r.headerMetaPrefix)===0?a[e].value.trim():a[e].value;s+=t+":"+n+"\n"}let c=e.uri;if(this.isCname){if(c==="/"){c+=e.headers.Host+"/"}else if(c.indexOf("/")===0){c="/"+e.headers.Host+c}}if(e.urlPath){let t=e.urlPath.slice(1);let r=t.split("&").sort();let n="";for(let e=0;e<r.length;e++){let t=r[e].split("=");let i=decodeURIComponent(t[0]);if(g.indexOf(i.toLowerCase())>=0){n+=n===""?"?":"&";n+=i;if(t.length===2&&t[1]){n+="="+decodeURIComponent(t[1])}}}c+=n}s+=c;if(o.isLevelEnabled("debug")){o.runLog("debug",t,"stringToSign:"+s)}e.headers.Authorization=r.authPrefix+" "+this.ak+":"+n.createHmac("sha1",this.sk).update(s).digest("base64")};Utils.prototype.v4Auth=function(e,t,r){e.headers[r.headerPrefix+"content-sha256"]=h;let n=e.headers;let i=this.log;let o=null;let s=null;if(r.headerPrefix+"date"in n){s=n[r.headerPrefix+"date"];o=s.slice(0,s.indexOf("T"))}else{let e=getDates(n.Date);o=e[0];s=e[1]}let a=this.ak+"/"+o+"/"+this.region+"/s3/aws4_request";let c=getSignedAndCanonicalHeaders(n);let l=c[0];let u=c[1];let d="";if(e.urlPath){let t=e.urlPath.slice(1);let r=t.split("&").sort();for(let e=0;e<r.length;e++){d+=r[e];if(r[e].indexOf("=")===-1){d+="="}if(e!==r.length-1){d+="&"}}}let p=e.method+"\n";p+=e.uri+"\n";p+=d+"\n";p+=u+"\n";p+=l+"\n";p+=h;if(i.isLevelEnabled("debug")){i.runLog("debug",t,"canonicalRequest:"+p)}let f=getV4Signature(o,s,this.sk,this.region,p);e.headers.Authorization="AWS4-HMAC-SHA256 Credential="+a+",SignedHeaders="+l+",Signature="+f};Utils.prototype.parseCommonHeaders=function(e,t,r){for(let r in b){if({}.hasOwnProperty.call(b,r)){e.InterfaceResult[b[r]]=t[r]}}e.InterfaceResult.RequestId=t[r.headerPrefix+"request-id"];e.InterfaceResult.Id2=t[r.headerPrefix+"id-2"];e.CommonMsg.RequestId=e.InterfaceResult.RequestId;e.CommonMsg.Id2=e.InterfaceResult.Id2};Utils.prototype.contrustCommonMsg=function(e,t,r,n,i){e.InterfaceResult={};let o=this.log;this.parseCommonHeaders(e,r,i);if(o.isLevelEnabled("info")){o.runLog("info",n,"request finished with request id:"+e.InterfaceResult.RequestId)}for(let n in t){if(t[n].location!=="header"){continue}let o=t[n].sentAs||n;if(t[n].withPrefix){o=i.headerPrefix+o}if(t[n].type==="object"){e.InterfaceResult[n]=parseObjectFromHeaders(o,r);continue}let s=r[o];if(s===undefined){s=r[o.toLowerCase()]}if(s!==undefined){e.InterfaceResult[n]=s}}};Utils.prototype.getRequest=function(e,t,r,n,o,s,a,c,l){let d={};let h=this.log;let m=s.signature==="obs"?p[e+"Output"]:f[e+"Output"];m=m||{};let y=m.parameters||{};let g=t.headers;d.CommonMsg={Status:t.statusCode,Code:g[s.headerPrefix+"error-code"]||"",Message:g[s.headerPrefix+"error-message"]||"",HostId:"",RequestId:"",InterfaceResult:null};if(this.thirdHttpLib){for(let e in g){if({}.hasOwnProperty.call(g,e)){if(isArray(g[e])&&g[e].length===1){g[e]=g[e][0]}}}}if(h.isLevelEnabled("info")){h.runLog("info",e,"get response start, statusCode:"+t.statusCode)}if(h.isLevelEnabled("debug")){h.runLog("debug",e,"response msg :statusCode:"+t.statusCode+", headers:"+headerTostring(g))}let doLog=function(){if(h.isLevelEnabled("debug")){let t="Status:"+d.CommonMsg.Status+", Code:"+d.CommonMsg.Code+", Message:"+d.CommonMsg.Message;h.runLog("debug",e,"exec interface "+e+" finish, "+t)}l(null,d)};let A=this;if(t.statusCode>=300&&t.statusCode<400&&t.statusCode!==304&&!o&&a<=A.maxRetryCount){let r=g.location||g.Location;if(r){t.req.removeAllListeners("abort");t.req.abort();c();if(h.isLevelEnabled("warn")){let t="http code is 3xx, need to redirect to "+r;h.runLog("warn",e,t)}let n=new Error("redirect");n.location=r;return l(n)}if(h.isLevelEnabled("error")){h.runLog("error",e,"get redirect code 3xx, but no location in headers")}}if(t.statusCode<300){if(r){let n=u.dirname(r);if(!mkdirsSync(n)){return l(new Error("failed to create file:"+r),null)}let o=i.createWriteStream(r);o.once("close",(function(){if(d.InterfaceResult&&d.InterfaceResult.ContentLength!==undefined&&i.existsSync(r)){let e=i.statSync(r);if(e.size!==parseInt(d.InterfaceResult.ContentLength,10)){return l(new Error("premature end of Content-Length delimiter message body (expected:"+d.InterfaceResult.ContentLength+"; received:"+e.size+")"),"PREMATURE_END")}}doLog()})).once("error",(function(t){if(h.isLevelEnabled("error")){h.runLog("error",e,"get response stream error ["+headerTostring(t)+"]")}l(t,null)}));t.once("error",(function(t){o.end();if(h.isLevelEnabled("error")){h.runLog("error",e,"get response stream error ["+headerTostring(t)+"]")}l(t,null)})).once("end",(function(){o.end();A.contrustCommonMsg(d,y,g,e,s);if(h.isLevelEnabled("debug")){h.runLog("debug",e,"exec interface "+e+" finish, Status:"+d["CommonMsg"]["Status"]+", Code: ,Message: ")}})).pipe(o);return}if("data"in m&&n){A.contrustCommonMsg(d,y,g,e,s);if(h.isLevelEnabled("debug")){let t="Status: "+d.CommonMsg.Status+", headers: "+headerTostring(g);h.runLog("debug",e,t)}for(let e in y){if(y[e].location!=="body"){continue}d.InterfaceResult[e]=t;break}return doLog()}}let b=[];t.on("data",(function(e){b.push(e)})).once("error",(function(t){if(h.isLevelEnabled("error")){h.runLog("error",e,"get response stream error ["+headerTostring(t)+"]")}l(t,null)})).once("end",(function(){b=Buffer.concat(b);if(t.statusCode<300){if(h.isLevelEnabled("debug")){let t="Status: "+d.CommonMsg.Status+", headers: "+headerTostring(g);if(b.length>0){t+="body length: "+b.length;h.runLog("debug",e,"response body length:"+b.length)}h.runLog("debug",e,t)}A.contrustCommonMsg(d,y,g,e,s);if(b.length>0&&"data"in m){if(m.data.type==="xml"){return makeObjFromXml(b,e,h,(function(t,r){if(t){if(h.isLevelEnabled("error")){h.runLog("error",e,"change xml to json err ["+headerTostring(t)+"]")}return l(t,null)}let n=r;if(m.data.xmlRoot&&m.data.xmlRoot in n){n=r[m.data.xmlRoot]}if(isObject(n)){for(let e in y){if(y[e].location==="xml"){d.InterfaceResult[e]=A.jsonToObject(y,n,e)[e]}}}doLog()}))}if(m.data.type==="body"){for(let e in y){if(y[e].location==="body"){d.InterfaceResult[e]=b.toString("utf8");break}}}}return doLog()}if(h.isLevelEnabled("debug")){let t="Status: "+d.CommonMsg.Status+", headers: "+headerTostring(g);if(b.length>0){t+="body: "+b;h.runLog("debug",e,"response body:"+b)}h.runLog("debug",e,t)}d.CommonMsg.RequestId=g[s.headerPrefix+"request-id"];d.CommonMsg.Id2=g[s.headerPrefix+"id2"];d.CommonMsg.Indicator=g["x-reserved-indicator"];if(h.isLevelEnabled("error")){h.runLog("error",e,"request error with http status code:"+t.statusCode)}if(h.isLevelEnabled("info")){h.runLog("info",e,"request finished with request id:"+d.CommonMsg.RequestId)}if(b.length===0){return doLog()}return makeObjFromXml(b,e,h,(function(t,r){if(t){if(h.isLevelEnabled("error")){h.runLog("error",e,"change xml to json err ["+headerTostring(t)+"]")}d.CommonMsg.Message=t.message}else if(r&&"Error"in r){let t=r.Error;d.CommonMsg.Code=t.Code;d.CommonMsg.Message=t.Message;d.CommonMsg.HostId=t.HostId;if(t.RequestId){d.CommonMsg.RequestId=t.RequestId}if(h.isLevelEnabled("error")){h.runLog("error",e,"request error with error code:"+d.CommonMsg.Code+", error message:"+d.CommonMsg.Message+", request id:"+d.CommonMsg.RequestId)}}doLog()}))}))};Utils.prototype.makeRequest=function(e,t,r,n){let o=this.log;let c=t.xml;let l=c instanceof d.Readable;let u=t.signatureContext||this.signatureContext;let p=new Date;t.headers.Date=p.toUTCString();delete t.headers.Authorization;let f=t.headers;let h=(t.requestUri?t.requestUri:t.uri)+t.urlPath;let m=t.method;if(this.ak&&this.sk&&e!==E){if(this.securityToken){t.headers[u.headerPrefix+"security-token"]=this.securityToken}if(u.signature==="v4"){this.v4Auth(t,e,u)}else{this.doAuth(t,e,u)}}f["User-Agent"]=this.userAgent;if(o.isLevelEnabled("info")){o.runLog("info",e,"prepare request parameters ok, then start to send request to service")}if(o.isLevelEnabled("debug")){let t={};for(let e in f){if({}.hasOwnProperty.call(f,e)){t[e]=f[e]}}t.Authorization="****";let r="method:"+m+", path:"+h+"headers:"+headerTostring(t);if(c&&!l){r+="body:"+c}o.runLog("debug",e,"request msg:"+r)}let y=null;if(this.sslVerify&&this.sslVerify!==true&&i.existsSync(String(this.sslVerify))){y=i.readFileSync(String(this.sslVerify))}let g={method:m,host:f.Host,port:t.port||this.port,path:h,ca:y,checkServerIdentity:function(e,t){return undefined},rejectUnauthorized:this.sslVerify||false,headers:f,highWaterMark:t.$highWaterMark||null};let A=g.host+":"+g.port+g.path;let b=p.getTime();let x=t.protocol?t.protocol.toLowerCase().indexOf("https")===0:this.isSecure;g.agent=x?this.httpsAgent:this.httpAgent;let w=x?a:s;if(this.thirdHttpLib){w=this.thirdHttpLib}let S=w.request(g);if(t.$requestHook){t.$requestHook(S)}let C=this;let v;let P;let doAbort=function(){if(c&&c instanceof d.Readable){if(v){c.removeListener("data",v)}if(P){c.removeListener("error",P)}c.destroy()}};if(!this.thirdHttpLib){S.setNoDelay(true);S.setTimeout(this.timeout*1e3,(function(){doAbort();n(new TimedOutError(f.Host))}))}S.once("response",(function(i){if(o.isLevelEnabled("info")){o.runLog("info",e,"get http response for "+A+" cost "+((new Date).getTime()-b)+" ms")}if(t.$responseHook){t.$responseHook(i)}C.getRequest(e,i,t.dstFile,t.SaveAsStream,l,u,r,doAbort,n)})).once("error",(function(t){if(o.isLevelEnabled("error")){o.runLog("error",e,"Send request to service error ["+headerTostring(t)+"]")}if(o.isLevelEnabled("info")){o.runLog("info",e,"get http response for "+A+" cost "+((new Date).getTime()-b)+" ms")}if(!S.aborted){n(t)}})).once("abort",(function(){doAbort();n(new Error("pause"))}));if(o.isLevelEnabled("info")){S.once("socket",(function(t){if(o.isLevelEnabled("debug")){t.once("connect",(function(){o.runLog("debug",e,"do http connect for "+A+" cost "+((new Date).getTime()-b)+" ms")})).once("lookup",(function(){o.runLog("debug",e,"dns resolve for "+A+" cost "+((new Date).getTime()-b)+" ms")}))}o.runLog("info",e,"get tcp socket for "+A+" cost "+((new Date).getTime()-b)+" ms")}))}if(["GET","HEAD","OPTIONS"].includes(m)){return S.end()}let M=t.ProgressCallback;let O=0;let k=(new Date).getTime();if(c){if(!l){let e=String(c);return S.end(e,(function(){if(M){M(e.length,e.length,((new Date).getTime()-k)/1e3,e)}}))}P=function(t){S.removeAllListeners("abort");S.abort();doAbort();if(o.isLevelEnabled("error")){o.runLog("error",e,"read file to send error ["+headerTostring(t)+"]")}n(t)};c.once("error",P);let r="ContentLength"in t?parseInt(t.ContentLength,10):-1;if(r>0&&c.end===Infinity){c.end=(c.start?c.start:0)+r-1}if(M){v=function(e){O+=e.length;M(O,r,((new Date).getTime()-k)/1e3,e)};c.on("data",v)}if(t.$pipeHook){return t.$pipeHook(c,S)}return c.pipe(S)}if(!("srcFile"in t)){return S.end()}let D=null;let T=t.Offset>=0?t.Offset:0;if("PartSize"in t){D=i.createReadStream(t.srcFile,{start:T,end:T+Math.max(parseInt(t.PartSize,10)-1,0)})}else if("ContentLength"in t){D=i.createReadStream(t.srcFile,{start:T,end:T+Math.max(parseInt(t.ContentLength,10)-1,0)})}if(!D){D=i.createReadStream(t.srcFile)}c=D;if(M){let e=i.statSync(t.srcFile).size;v=function(t){O+=t.length;M(O,e,((new Date).getTime()-k)/1e3)};D.on("data",v)}P=function(t){S.removeAllListeners("abort");S.abort();doAbort();if(o.isLevelEnabled("error")){o.runLog("error",e,"read file to send error ["+headerTostring(t)+"]")}n(t)};D.once("error",P);if(t.$pipeHook){return t.$pipeHook(D,S)}D.pipe(S)};Utils.prototype.bufMD5=function(e){return n.createHash("md5").update(e).digest("base64")};Utils.prototype.fileMD5=function(e,t){let r=i.createReadStream(e);let o=n.createHash("md5");o.on("finish",(()=>{t(null,o.digest("base64"))}));r.on("error",(function(e){o.destroy();t(e)})).on("data",(function(e){o.update(e)}))};Utils.prototype.createSignedUrlSync=function(e){return this.signatureContext.signature==="v4"?this.createV4SignedUrlSync(e):this.createV2SignedUrlSync(e)};Utils.prototype.createV2SignedUrlSync=function(e){e=e||{};let t=e.Method?String(e.Method):"GET";let r=e.Bucket?String(e.Bucket):null;let i=e.Key?String(e.Key):null;let o=e.SpecialParam?String(e.SpecialParam):null;if(this.signatureContext.signature==="obs"&&o==="storagePolicy"){o="storageClass"}else if(this.signatureContext.signature==="v2"&&o==="storageClass"){o="storagePolicy"}let s=e.Policy?Buffer.from(String(e.Policy),"utf8").toString("base64"):null;let a=e.Prefix?String(e.Prefix):null;let c=e.Expires?parseInt(e.Expires,10):300;let l={};if(e.Headers&&e.Headers instanceof Object&&!(e.Headers instanceof Array)){for(let t in e.Headers){if({}.hasOwnProperty.call(e.Headers,t)){l[t]=e.Headers[t]}}}let u={};if(e.QueryParams&&e.QueryParams instanceof Object&&!(e.QueryParams instanceof Array)){for(let t in e.QueryParams){if({}.hasOwnProperty.call(e.QueryParams,t)){u[t]=e.QueryParams[t]}}}if(this.securityToken&&!u[this.signatureContext.headerPrefix+"security-token"]){u[this.signatureContext.headerPrefix+"security-token"]=this.securityToken}let d=s&&a;let p="";let f="";let h=this.server;if(this.isCname){f+="/"+h+"/"}else if(r){f+="/"+r;if(this.pathStyle){p+="/"+r}else{h=r+"."+h;f+="/"}}l.Host=h;if(i){i=encodeURIWithSafe(i,"/");p+="/"+i;if(f.lastIndexOf("/")!==f.length-1){f+="/"}f+=i}if(f===""){f="/"}p+="?";if(o){u[o]=""}if(this.signatureContext.signature==="v2"){u.AWSAccessKeyId=this.ak}else{u.AccessKeyId=this.ak}if(c<0){c=300}c=parseInt((new Date).getTime()/1e3,10)+c;if(d){u.Policy=s;u.prefix=a}else{u.Expires=String(c)}let m={};for(let e in l){if({}.hasOwnProperty.call(l,e)){let t=String(e).toLowerCase();if(t==="content-type"||t==="content-md5"||t.length>this.signatureContext.headerPrefix.length&&t.slice(0,this.signatureContext.headerPrefix.length)===this.signatureContext.headerPrefix){m[t]=l[e]}}}let y=[];for(let e in u){if({}.hasOwnProperty.call(u,e)){y.push(e)}}y.sort();let A=false;let b=[];let x=d?"":"/";for(let e=0;e<y.length;e++){let t=y[e];let r=u[t];t=encodeURIWithSafe(t,x);r=encodeURIWithSafe(r,x);p+=t;if(r){p+="="+r}p+="&";if(d&&t.toLocaleLowerCase()==="policy"){continue}if(g.indexOf(t.toLowerCase())>=0||t.toLowerCase().indexOf(this.signatureContext.headerPrefix)===0){A=true;let e=r?t+"="+decodeURIComponent(r):t;b.push(e)}}b=b.join("&");if(A){b="?"+b}f+=b;let w=[t];w.push("\n");if("content-md5"in m){w.push(m["content-md5"])}w.push("\n");if("content-type"in m){w.push(m["content-type"])}w.push("\n");if(d){w.push(s)}else{w.push(String(c))}w.push("\n");let S=[];let C=0;for(let e in m){if({}.hasOwnProperty.call(m,e)){if(e.length>this.signatureContext.headerPrefix.length&&e.slice(0,this.signatureContext.headerPrefix.length)===this.signatureContext.headerPrefix){S[C++]=e}}}S=S.sort();for(let e=0;e<S.length;e++){w.push(S[e]);w.push(":");w.push(m[S[e]]);w.push("\n")}if(!d){w.push(f)}else{w.push(b)}let v=n.createHmac("sha1",this.sk);v.update(w.join(""));if(s&&a){p+="Signature="+encodeURIWithSafe(v.digest("base64"))}else{p+="Signature="+encodeURIWithSafe(v.digest("base64"),"/")}return{ActualSignedRequestHeaders:l,SignedUrl:(this.isSecure?"https":"http")+"://"+h+":"+this.port+p}};Utils.prototype.createV4SignedUrlSync=function(e){e=e||{};let t=e.Method?String(e.Method):"GET";let r=e.Bucket?String(e.Bucket):null;let n=e.Key?String(e.Key):null;let i=e.SpecialParam?String(e.SpecialParam):null;if(i==="storageClass"){i="storagePolicy"}let o=e.Expires?parseInt(e.Expires,10):300;let s={};if(e.Headers&&e.Headers instanceof Object&&!(e.Headers instanceof Array)){for(let t in e.Headers){if({}.hasOwnProperty.call(e.Headers,t)){s[t]=e.Headers[t]}}}let a={};if(e.QueryParams&&e.QueryParams instanceof Object&&!(e.QueryParams instanceof Array)){for(let t in e.QueryParams){if({}.hasOwnProperty.call(e.QueryParams,t)){a[t]=e.QueryParams[t]}}}if(this.securityToken&&!a[this.signatureContext.headerPrefix+"security-token"]){a[this.signatureContext.headerPrefix+"security-token"]=this.securityToken}let c="";let l="";let u=this.server;if(r){if(this.pathStyle){c+="/"+r;l+="/"+r}else{u=r+"."+u}}if(n){n=encodeURIWithSafe(n,"/");c+="/"+n;l+="/"+n}if(l===""){l="/"}c+="?";if(i){a[i]=""}if(o<0){o=300}let d=s.date||s.Date||(new Date).toUTCString();let p=getDates(d);let f=p[0];let h=p[1];s.Host=u+(this.port===80||this.port===443?"":":"+this.port);a["X-Amz-Algorithm"]="AWS4-HMAC-SHA256";a["X-Amz-Credential"]=this.ak+"/"+f+"/"+this.region+"/s3/aws4_request";a["X-Amz-Date"]=h;a["X-Amz-Expires"]=String(o);let m=getSignedAndCanonicalHeaders(s);a["X-Amz-SignedHeaders"]=m[0];let y={};let g=[];for(let e in a){if({}.hasOwnProperty.call(a,e)){let t=a[e];e=encodeURIWithSafe(e,"/");t=encodeURIWithSafe(t);y[e]=t;g.push(e);c+=e;if(t){c+="="+t}c+="&"}}let A="";g.sort();for(let e=0;e<g.length;){A+=g[e]+"="+y[g[e]];if(++e!==g.length){A+="&"}}let b=t+"\n";b+=l+"\n";b+=A+"\n";b+=m[1]+"\n";b+=m[0]+"\n";b+="UNSIGNED-PAYLOAD";let x=getV4Signature(f,h,this.sk,this.region,b);c+="X-Amz-Signature="+encodeURIWithSafe(x);return{ActualSignedRequestHeaders:s,SignedUrl:(this.isSecure?"https":"http")+"://"+u+":"+this.port+c}};Utils.prototype.createPostSignatureSync=function(e){if(this.signatureContext.signature==="v4"){return this.createV4PostSignatureSync(e)}e=e||{};let t=e.Bucket?String(e.Bucket):null;let r=e.Key?String(e.Key):null;let i=e.Expires?parseInt(e.Expires,10):300;let o={};if(e.FormParams&&e.FormParams instanceof Object&&!(e.FormParams instanceof Array)){for(let t in e.FormParams){if({}.hasOwnProperty.call(e.FormParams,t)){o[t]=e.FormParams[t]}}}if(this.securityToken&&!o[this.signatureContext.headerPrefix+"security-token"]){o[this.signatureContext.headerPrefix+"security-token"]=this.securityToken}let s=new Date;s.setTime(parseInt((new Date).getTime(),10)+i*1e3);s=getExpireDate(s.toUTCString());if(t){o.bucket=t}if(r){o.key=r}let a=[];a.push('{"expiration":"');a.push(s);a.push('", "conditions":[');let c=true;let l=true;let u=["acl","bucket","key","success_action_redirect","redirect","success_action_status"];for(let e in o){if({}.hasOwnProperty.call(o,e)){if(!e){continue}let t=o[e];e=String(e).toLowerCase();if(e==="bucket"){c=false}else if(e==="key"){l=false}if(A.indexOf(e)<0&&u.indexOf(e)<0&&e.indexOf(this.signatureContext.headerPrefix)!==0){continue}a.push('{"');a.push(e);a.push('":"');a.push(t!==null?String(t):"");a.push('"},')}}if(c){a.push('["starts-with", "$bucket", ""],')}if(l){a.push('["starts-with", "$key", ""],')}a.push("]}");let d=a.join("");a=Buffer.from(d,"utf8").toString("base64");let p=n.createHmac("sha1",this.sk).update(a).digest("base64");return{OriginPolicy:d,Policy:a,Signature:p,Token:this.ak+":"+p+":"+a}};Utils.prototype.createV4PostSignatureSync=function(e){e=e||{};let t=e.Bucket?String(e.Bucket):null;let r=e.Key?String(e.Key):null;let n=e.Expires?parseInt(e.Expires,10):300;let i={};if(e.FormParams&&e.FormParams instanceof Object&&!(e.FormParams instanceof Array)){for(let t in e.FormParams){if({}.hasOwnProperty.call(e.FormParams,t)){i[t]=e.FormParams[t]}}}if(this.securityToken&&!i[this.signatureContext.headerPrefix+"security-token"]){i[this.signatureContext.headerPrefix+"security-token"]=this.securityToken}let o=(new Date).toUTCString();let s=getDates(o);let a=s[0];let c=s[1];let l=this.ak+"/"+a+"/"+this.region+"/s3/aws4_request";let u=new Date;u.setTime(parseInt((new Date).getTime(),10)+n*1e3);u=getExpireDate(u.toUTCString());i["X-Amz-Algorithm"]="AWS4-HMAC-SHA256";i["X-Amz-Date"]=c;i["X-Amz-Credential"]=l;if(t){i.bucket=t}if(r){i.key=r}let d=[];d.push('{"expiration":"');d.push(u);d.push('", "conditions":[');let p=true;let f=true;let h=["acl","bucket","key","success_action_redirect","redirect","success_action_status"];for(let e in i){if(!e){continue}let t=i[e];e=String(e).toLowerCase();if(e==="bucket"){p=false}else if(e==="key"){f=false}if(A.indexOf(e)<0&&h.indexOf(e)<0&&e.indexOf(this.signatureContext.headerPrefix)!==0){continue}d.push('{"');d.push(e);d.push('":"');d.push(t!==null?String(t):"");d.push('"},')}if(p){d.push('["starts-with", "$bucket", ""],')}if(f){d.push('["starts-with", "$key", ""],')}d.push("]}");let m=d.join("");d=Buffer.from(m,"utf8").toString("base64");let y=createV4Signature(a,this.sk,this.region,d);return{OriginPolicy:m,Policy:d,Algorithm:i["X-Amz-Algorithm"],Credential:i["X-Amz-Credential"],Date:i["X-Amz-Date"],Signature:y}};e.exports=Utils},1908:e=>{const t={type:"object",location:"xml",sentAs:"Owner",parameters:{ID:{sentAs:"ID"},Name:{sentAs:"DisplayName"}}};const r={type:"object",location:"xml",sentAs:"Initiator",parameters:{ID:{sentAs:"ID"},Name:{sentAs:"DisplayName"}}};const n={type:"array",location:"xml",sentAs:"CommonPrefixes",items:{type:"object",parameters:{Prefix:{sentAs:"Prefix"}}}};const i={type:"array",location:"xml",wrapper:"AccessControlList",sentAs:"Grant",items:{type:"object",parameters:{Grantee:{data:{xsiNamespace:"http://www.w3.org/2001/XMLSchema-instance",xsiType:"Type"},type:"object",sentAs:"Grantee",parameters:{Type:{type:"ignore"},ID:{sentAs:"ID",notAllowEmpty:true},Name:{sentAs:"DisplayName",notAllowEmpty:true},URI:{sentAs:"URI",type:"adapter",notAllowEmpty:true}}},Permission:{sentAs:"Permission"}}}};const o={type:"object",location:"xml",sentAs:"LoggingEnabled",parameters:{TargetBucket:{sentAs:"TargetBucket"},TargetPrefix:{sentAs:"TargetPrefix"},TargetGrants:{type:"array",wrapper:"TargetGrants",sentAs:"Grant",items:{type:"object",parameters:{Grantee:{data:{xsiNamespace:"http://www.w3.org/2001/XMLSchema-instance",xsiType:"Type"},type:"object",sentAs:"Grantee",parameters:{Type:{type:"ignore"},ID:{sentAs:"ID"},Name:{sentAs:"DisplayName"},URI:{sentAs:"URI",type:"adapter"}}},Permission:{sentAs:"Permission"}}}}}};const s={required:true,type:"array",location:"xml",sentAs:"Rule",items:{type:"object",parameters:{ID:{sentAs:"ID"},Prefix:{sentAs:"Prefix"},Status:{sentAs:"Status"},Transitions:{type:"array",sentAs:"Transition",items:{type:"object",parameters:{StorageClass:{sentAs:"StorageClass",type:"adapter"},Date:{sentAs:"Date"},Days:{type:"number",sentAs:"Days"}}}},Expiration:{type:"object",sentAs:"Expiration",parameters:{Date:{sentAs:"Date"},Days:{type:"number",sentAs:"Days"}}},NoncurrentVersionTransitions:{type:"array",sentAs:"NoncurrentVersionTransition",items:{type:"object",parameters:{StorageClass:{sentAs:"StorageClass",type:"adapter"},NoncurrentDays:{type:"number",sentAs:"NoncurrentDays"}}}},NoncurrentVersionExpiration:{type:"object",sentAs:"NoncurrentVersionExpiration",parameters:{NoncurrentDays:{type:"number",sentAs:"NoncurrentDays"}}}}}};const a={type:"object",location:"xml",sentAs:"RedirectAllRequestsTo",parameters:{HostName:{sentAs:"HostName"},Protocol:{sentAs:"Protocol"}}};const c={type:"array",wrapper:"RoutingRules",location:"xml",sentAs:"RoutingRule",items:{type:"object",parameters:{Condition:{type:"object",sentAs:"Condition",parameters:{HttpErrorCodeReturnedEquals:{sentAs:"HttpErrorCodeReturnedEquals"},KeyPrefixEquals:{sentAs:"KeyPrefixEquals"}}},Redirect:{type:"object",sentAs:"Redirect",parameters:{HostName:{sentAs:"HostName"},HttpRedirectCode:{sentAs:"HttpRedirectCode"},Protocol:{sentAs:"Protocol"},ReplaceKeyPrefixWith:{sentAs:"ReplaceKeyPrefixWith"},ReplaceKeyWith:{sentAs:"ReplaceKeyWith"}}}}}};const l={type:"object",location:"xml",sentAs:"IndexDocument",parameters:{Suffix:{sentAs:"Suffix"}}};const u={type:"object",location:"xml",sentAs:"ErrorDocument",parameters:{Key:{sentAs:"Key"}}};const d={required:true,type:"array",location:"xml",sentAs:"CORSRule",items:{type:"object",parameters:{ID:{sentAs:"ID"},AllowedMethod:{type:"array",sentAs:"AllowedMethod",items:{type:"string"}},AllowedOrigin:{type:"array",sentAs:"AllowedOrigin",items:{type:"string"}},AllowedHeader:{type:"array",sentAs:"AllowedHeader",items:{type:"string"}},MaxAgeSeconds:{type:"number",sentAs:"MaxAgeSeconds"},ExposeHeader:{type:"array",sentAs:"ExposeHeader",items:{type:"string"}}}}};const p={type:"array",location:"xml",sentAs:"FunctionGraphConfiguration",items:{type:"object",location:"xml",parameters:{ID:{sentAs:"Id"},Filter:{type:"object",parameters:{FilterRules:{wrapper:"S3Key",type:"array",sentAs:"FilterRule",items:{type:"object",parameters:{Name:{},Value:{}}}}}},FunctionGraph:{},Event:{type:"array",items:{type:"adapter"}}}}};const f={type:"array",location:"xml",sentAs:"TopicConfiguration",items:{type:"object",location:"xml",parameters:{ID:{sentAs:"Id"},Filter:{type:"object",parameters:{FilterRules:{wrapper:"S3Key",type:"array",sentAs:"FilterRule",items:{type:"object",parameters:{Name:{},Value:{}}}}}},Topic:{},Event:{type:"array",items:{type:"adapter"}}}}};const h={required:true,type:"array",location:"xml",wrapper:"TagSet",sentAs:"Tag",items:{type:"object",parameters:{Key:{sentAs:"Key"},Value:{sentAs:"Value"}}}};const m={required:true,type:"array",location:"xml",sentAs:"Rule",items:{type:"object",parameters:{ID:{sentAs:"ID"},Prefix:{sentAs:"Prefix"},Status:{sentAs:"Status"},Destination:{type:"object",sentAs:"Destination",parameters:{Bucket:{sentAs:"Bucket",type:"adapter"},StorageClass:{sentAs:"StorageClass",type:"adapter"}}}}}};const y={type:"object",location:"xml",sentAs:"Rule",parameters:{ApplyServerSideEncryptionByDefault:{type:"object",sentAs:"ApplyServerSideEncryptionByDefault",parameters:{SSEAlgorithm:{sentAs:"SSEAlgorithm"},KMSMasterKeyID:{sentAs:"KMSMasterKeyID"}}}}};const g={CreateBucket:{httpMethod:"PUT",data:{xmlRoot:"CreateBucketConfiguration"},parameters:{Bucket:{required:true,location:"uri"},ACL:{location:"header",sentAs:"acl",withPrefix:true,type:"adapter"},StorageClass:{location:"header",sentAs:"x-default-storage-class",type:"adapter"},Location:{location:"xml",sentAs:"LocationConstraint"},GrantRead:{location:"header",sentAs:"grant-read",withPrefix:true},GrantWrite:{location:"header",sentAs:"grant-write",withPrefix:true},GrantReadAcp:{location:"header",sentAs:"grant-read-acp",withPrefix:true},GrantWriteAcp:{location:"header",sentAs:"grant-write-acp",withPrefix:true},GrantFullControl:{location:"header",sentAs:"grant-full-control",withPrefix:true},AzRedundancy:{location:"header",sentAs:"x-obs-az-redundancy"},MultiEnterprise:{location:"header",sentAs:"x-obs-az-redundancy"},FileInterface:{location:"header",sentAs:"fs-file-interface",withPrefix:true}}},ListBuckets:{httpMethod:"GET",parameters:{QueryLocation:{location:"header",sentAs:"location",type:"boolean",withPrefix:true},BucketType:{location:"header",sentAs:"x-obs-bucket-type"}}},ListBucketsOutput:{data:{type:"xml",xmlRoot:"ListAllMyBucketsResult"},parameters:{Owner:{type:"object",location:"xml",sentAs:"Owner",parameters:{ID:{sentAs:"ID"},Name:{sentAs:"DisplayName"}}},Buckets:{type:"array",location:"xml",wrapper:"Buckets",sentAs:"Bucket",items:{type:"object",parameters:{BucketName:{sentAs:"Name"},CreationDate:{sentAs:"CreationDate"},Location:{sentAs:"Location"}}}}}},HeadBucket:{httpMethod:"HEAD",parameters:{Bucket:{required:true,location:"uri"}}},HeadApiVersion:{httpMethod:"HEAD",urlPath:"apiversion",parameters:{Bucket:{location:"uri"}}},HeadApiVersionOutput:{parameters:{ApiVersion:{location:"header",sentAs:"x-obs-api"}}},GetBucketMetadata:{httpMethod:"HEAD",parameters:{Bucket:{required:true,location:"uri"},Origin:{location:"header",sentAs:"Origin"},RequestHeader:{location:"header",sentAs:"Access-Control-Request-Headers"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},GetBucketMetadataOutput:{parameters:{StorageClass:{location:"header",sentAs:"x-default-storage-class"},ObsVersion:{location:"header",sentAs:"x-obs-version"},FsInterface:{location:"header",sentAs:"x-obs-fs-file-interface"},Location:{location:"header",sentAs:"bucket-region",withPrefix:true},AzRedundancy:{location:"header",sentAs:"x-obs-az-redundancy"},AllowOrigin:{location:"header",sentAs:"access-control-allow-origin"},MaxAgeSeconds:{location:"header",sentAs:"access-control-max-age"},ExposeHeader:{location:"header",sentAs:"access-control-expose-headers"},AllowMethod:{location:"header",sentAs:"access-control-allow-methods"},AllowHeader:{location:"header",sentAs:"access-control-allow-headers"},MultiEnterprise:{location:"header",sentAs:"epid",withPrefix:true},ErrorCode:{location:"header",sentAs:"x-amz-error-code"},ErrorMessage:{location:"header",sentAs:"x-amz-error-message"}}},DeleteBucket:{httpMethod:"DELETE",parameters:{Bucket:{required:true,location:"uri"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},ListObjects:{httpMethod:"GET",parameters:{Bucket:{required:true,location:"uri"},Prefix:{location:"urlPath",sentAs:"prefix"},Marker:{location:"urlPath",sentAs:"marker"},MaxKeys:{type:"number",location:"urlPath",sentAs:"max-keys"},Delimiter:{location:"urlPath",sentAs:"delimiter"},AccessKeyId:{location:"urlPath",sentAs:"AccessKeyId"},Signature:{location:"urlPath",sentAs:"Signature"},Policy:{location:"urlPath",sentAs:"Policy"},SecurityToken:{location:"urlPath",sentAs:"x-amz-security-token"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},ListObjectsOutput:{data:{type:"xml",xmlRoot:"ListBucketResult"},parameters:{Location:{location:"header",sentAs:"bucket-region",withPrefix:true},Bucket:{location:"xml",sentAs:"Name"},Delimiter:{location:"xml",sentAs:"Delimiter"},IsTruncated:{location:"xml",sentAs:"IsTruncated"},Prefix:{location:"xml",sentAs:"Prefix"},Marker:{location:"xml",sentAs:"Marker"},NextMarker:{location:"xml",sentAs:"NextMarker"},MaxKeys:{location:"xml",sentAs:"MaxKeys"},Contents:{type:"array",location:"xml",sentAs:"Contents",items:{type:"object",parameters:{Key:{sentAs:"Key"},LastModified:{sentAs:"LastModified"},ETag:{sentAs:"ETag"},Size:{sentAs:"Size"},StorageClass:{sentAs:"StorageClass"},Type:{sentAs:"Type"},Owner:t}}},CommonPrefixes:n}},ListVersions:{httpMethod:"GET",urlPath:"versions",parameters:{Bucket:{required:true,location:"uri"},Prefix:{location:"urlPath",sentAs:"prefix"},KeyMarker:{location:"urlPath",sentAs:"key-marker"},MaxKeys:{type:"number",location:"urlPath",sentAs:"max-keys"},Delimiter:{location:"urlPath",sentAs:"delimiter"},VersionIdMarker:{location:"urlPath",sentAs:"version-id-marker"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},ListVersionsOutput:{data:{type:"xml",xmlRoot:"ListVersionsResult"},parameters:{Location:{location:"header",sentAs:"bucket-region",withPrefix:true},Bucket:{location:"xml",sentAs:"Name"},Prefix:{location:"xml",sentAs:"Prefix"},Delimiter:{location:"xml",sentAs:"Delimiter"},KeyMarker:{location:"xml",sentAs:"KeyMarker"},VersionIdMarker:{location:"xml",sentAs:"VersionIdMarker"},NextKeyMarker:{location:"xml",sentAs:"NextKeyMarker"},NextVersionIdMarker:{location:"xml",sentAs:"NextVersionIdMarker"},MaxKeys:{location:"xml",sentAs:"MaxKeys"},IsTruncated:{location:"xml",sentAs:"IsTruncated"},Versions:{type:"array",location:"xml",sentAs:"Version",items:{type:"object",parameters:{Key:{sentAs:"Key"},VersionId:{sentAs:"VersionId"},IsLatest:{sentAs:"IsLatest"},LastModified:{sentAs:"LastModified"},ETag:{sentAs:"ETag"},Size:{sentAs:"Size"},Type:{sentAs:"Type"},Owner:t,StorageClass:{sentAs:"StorageClass"}}}},DeleteMarkers:{type:"array",location:"xml",sentAs:"DeleteMarker",items:{type:"object",parameters:{Key:{sentAs:"Key"},VersionId:{sentAs:"VersionId"},IsLatest:{sentAs:"IsLatest"},LastModified:{sentAs:"LastModified"},Owner:t}}},CommonPrefixes:n}},GetBucketLocation:{httpMethod:"GET",urlPath:"location",parameters:{Bucket:{required:true,location:"uri"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},GetBucketLocationOutput:{data:{type:"xml",xmlRoot:"CreateBucketConfiguration"},parameters:{Location:{location:"xml",sentAs:"LocationConstraint"}}},GetBucketStorageInfo:{httpMethod:"GET",urlPath:"storageinfo",parameters:{Bucket:{required:true,location:"uri"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},GetBucketStorageInfoOutput:{data:{type:"xml",xmlRoot:"GetBucketStorageInfoResult"},parameters:{Size:{location:"xml",sentAs:"Size"},ObjectNumber:{location:"xml",sentAs:"ObjectNumber"}}},SetBucketQuota:{httpMethod:"PUT",urlPath:"quota",data:{xmlRoot:"Quota"},parameters:{Bucket:{required:true,location:"uri"},StorageQuota:{required:true,location:"xml",sentAs:"StorageQuota"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},GetBucketQuota:{httpMethod:"GET",urlPath:"quota",parameters:{Bucket:{required:true,location:"uri"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},GetBucketQuotaOutput:{data:{type:"xml",xmlRoot:"Quota"},parameters:{StorageQuota:{location:"xml",sentAs:"StorageQuota"}}},SetBucketAcl:{httpMethod:"PUT",urlPath:"acl",data:{xmlRoot:"AccessControlPolicy"},parameters:{Bucket:{required:true,location:"uri"},ACL:{location:"header",sentAs:"acl",withPrefix:true,type:"adapter"},Owner:t,Grants:i,RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},GetBucketAcl:{httpMethod:"GET",urlPath:"acl",parameters:{Bucket:{required:true,location:"uri"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},GetBucketAclOutput:{data:{type:"xml",xmlRoot:"AccessControlPolicy"},parameters:{Owner:t,Grants:i}},SetBucketLoggingConfiguration:{httpMethod:"PUT",urlPath:"logging",data:{xmlRoot:"BucketLoggingStatus",xmlAllowEmpty:true},parameters:{Bucket:{required:true,location:"uri"},LoggingEnabled:o,RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},GetBucketLoggingConfiguration:{httpMethod:"GET",urlPath:"logging",parameters:{Bucket:{required:true,location:"uri"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},GetBucketLoggingConfigurationOutput:{data:{type:"xml",xmlRoot:"BucketLoggingStatus"},parameters:{LoggingEnabled:o}},SetBucketPolicy:{httpMethod:"PUT",urlPath:"policy",parameters:{Bucket:{required:true,location:"uri"},Policy:{required:true,location:"body"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},GetBucketPolicy:{httpMethod:"GET",urlPath:"policy",parameters:{Bucket:{required:true,location:"uri"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},GetBucketPolicyOutput:{data:{type:"body"},parameters:{Policy:{location:"body"}}},DeleteBucketPolicy:{httpMethod:"DELETE",urlPath:"policy",parameters:{Bucket:{required:true,location:"uri"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},SetBucketLifecycleConfiguration:{httpMethod:"PUT",urlPath:"lifecycle",data:{xmlRoot:"LifecycleConfiguration",md5:true},parameters:{Bucket:{required:true,location:"uri"},Rules:s,RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},GetBucketLifecycleConfiguration:{httpMethod:"GET",urlPath:"lifecycle",parameters:{Bucket:{required:true,location:"uri"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},GetBucketLifecycleConfigurationOutput:{data:{type:"xml",xmlRoot:"LifecycleConfiguration"},parameters:{Rules:s}},DeleteBucketLifecycleConfiguration:{httpMethod:"DELETE",urlPath:"lifecycle",parameters:{Bucket:{required:true,location:"uri"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},SetBucketWebsiteConfiguration:{httpMethod:"PUT",urlPath:"website",data:{xmlRoot:"WebsiteConfiguration"},parameters:{Bucket:{required:true,location:"uri"},RedirectAllRequestsTo:a,IndexDocument:l,ErrorDocument:u,RoutingRules:c,RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},GetBucketWebsiteConfiguration:{httpMethod:"GET",urlPath:"website",parameters:{Bucket:{required:true,location:"uri"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},GetBucketWebsiteConfigurationOutput:{data:{type:"xml",xmlRoot:"WebsiteConfiguration"},parameters:{RedirectAllRequestsTo:a,IndexDocument:l,ErrorDocument:u,RoutingRules:c}},DeleteBucketWebsiteConfiguration:{httpMethod:"DELETE",urlPath:"website",parameters:{Bucket:{required:true,location:"uri"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},SetBucketVersioningConfiguration:{httpMethod:"PUT",urlPath:"versioning",data:{xmlRoot:"VersioningConfiguration"},parameters:{Bucket:{required:true,location:"uri"},VersionStatus:{required:true,location:"xml",sentAs:"Status"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},GetBucketVersioningConfiguration:{httpMethod:"GET",urlPath:"versioning",parameters:{Bucket:{required:true,location:"uri"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},GetBucketVersioningConfigurationOutput:{data:{type:"xml",xmlRoot:"VersioningConfiguration"},parameters:{VersionStatus:{location:"xml",sentAs:"Status"}}},SetBucketCors:{httpMethod:"PUT",urlPath:"cors",data:{xmlRoot:"CORSConfiguration",md5:true},parameters:{Bucket:{required:true,location:"uri"},CorsRules:d,RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},GetBucketCors:{httpMethod:"GET",urlPath:"cors",parameters:{Bucket:{required:true,location:"uri"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},GetBucketCorsOutput:{data:{type:"xml",xmlRoot:"CORSConfiguration"},parameters:{CorsRules:d}},DeleteBucketCors:{httpMethod:"DELETE",urlPath:"cors",parameters:{Bucket:{required:true,location:"uri"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},SetBucketNotification:{httpMethod:"PUT",urlPath:"notification",data:{xmlRoot:"NotificationConfiguration",xmlAllowEmpty:true},parameters:{Bucket:{required:true,location:"uri"},TopicConfigurations:f,FunctionGraphConfigurations:p,RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},GetBucketNotification:{httpMethod:"GET",urlPath:"notification",parameters:{Bucket:{required:true,location:"uri"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},GetBucketNotificationOutput:{data:{type:"xml",xmlRoot:"NotificationConfiguration"},parameters:{TopicConfigurations:f,FunctionGraphConfigurations:p}},OptionsBucket:{httpMethod:"OPTIONS",parameters:{Bucket:{required:true,location:"uri"},Origin:{required:true,location:"header",sentAs:"Origin"},AccessControlRequestMethods:{required:true,type:"array",location:"header",sentAs:"Access-Control-Request-Method",items:{type:"string"}},AccessControlRequestHeaders:{type:"array",location:"header",sentAs:"Access-Control-Request-Headers",items:{type:"string"}},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},OptionsBucketOutput:{parameters:{AllowOrigin:{location:"header",sentAs:"access-control-allow-origin"},AllowHeader:{location:"header",sentAs:"access-control-allow-headers"},AllowMethod:{location:"header",sentAs:"access-control-allow-methods"},ExposeHeader:{location:"header",sentAs:"access-control-expose-headers"},MaxAgeSeconds:{location:"header",sentAs:"access-control-max-age"}}},SetBucketTagging:{httpMethod:"PUT",urlPath:"tagging",data:{xmlRoot:"Tagging",md5:true},parameters:{Bucket:{required:true,location:"uri"},Tags:h,RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},GetBucketTagging:{httpMethod:"GET",urlPath:"tagging",parameters:{Bucket:{required:true,location:"uri"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},GetBucketTaggingOutput:{data:{type:"xml",xmlRoot:"Tagging"},parameters:{Tags:h}},DeleteBucketTagging:{httpMethod:"DELETE",urlPath:"tagging",parameters:{Bucket:{required:true,location:"uri"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},SetBucketStoragePolicy:{httpMethod:"PUT",urlPath:"storagePolicy",data:{xmlRoot:"StoragePolicy"},parameters:{Bucket:{required:true,location:"uri"},StorageClass:{required:true,location:"xml",type:"adapter",sentAs:"DefaultStorageClass"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},GetBucketStoragePolicy:{httpMethod:"GET",urlPath:"storagePolicy",parameters:{Bucket:{required:true,location:"uri"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},GetBucketStoragePolicyOutput:{data:{type:"xml",xmlRoot:"StoragePolicy"},parameters:{StorageClass:{location:"xml",type:"string",sentAs:"DefaultStorageClass"}}},SetBucketReplication:{httpMethod:"PUT",urlPath:"replication",data:{xmlRoot:"ReplicationConfiguration",md5:true},parameters:{Bucket:{required:true,location:"uri"},Agency:{location:"xml",sentAs:"Agency"},Rules:m,RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},GetBucketReplication:{httpMethod:"GET",urlPath:"replication",parameters:{Bucket:{required:true,location:"uri"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},GetBucketReplicationOutput:{data:{type:"xml",xmlRoot:"ReplicationConfiguration"},parameters:{Agency:{location:"xml",sentAs:"Agency"},Rules:m}},DeleteBucketReplication:{httpMethod:"DELETE",urlPath:"replication",parameters:{Bucket:{required:true,location:"uri"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},GetBucketRequesterPayment:{httpMethod:"GET",urlPath:"requestPayment",parameters:{Bucket:{required:true,location:"uri"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},GetBucketRequesterPaymentOutput:{data:{type:"xml",xmlRoot:"RequestPaymentConfiguration"},parameters:{Payer:{location:"xml",sentAs:"Payer"}}},SetBucketRequesterPayment:{httpMethod:"PUT",urlPath:"requestPayment",data:{xmlRoot:"RequestPaymentConfiguration"},parameters:{Bucket:{required:true,location:"uri"},Payer:{location:"xml",sentAs:"Payer"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},SetBucketRequesterPaymentOutput:{data:{type:"xml",xmlRoot:"RequestPaymentConfiguration"},parameters:{Payer:{location:"xml",sentAs:"Payer"}}},PutObject:{httpMethod:"PUT",parameters:{Bucket:{required:true,location:"uri"},Key:{required:true,location:"uri"},ContentMD5:{location:"header",sentAs:"Content-MD5"},ContentType:{location:"header",sentAs:"Content-Type"},Offset:{type:"plain"},ProgressCallback:{type:"plain"},ContentLength:{location:"header",sentAs:"Content-Length",type:"plain"},ACL:{location:"header",sentAs:"acl",withPrefix:true,type:"adapter"},GrantRead:{location:"header",sentAs:"grant-read",withPrefix:true},GrantReadAcp:{location:"header",sentAs:"grant-read-acp",withPrefix:true},GrantWriteAcp:{location:"header",sentAs:"grant-write-acp",withPrefix:true},GrantFullControl:{location:"header",sentAs:"grant-full-control",withPrefix:true},StorageClass:{location:"header",sentAs:"storage-class",withPrefix:true,type:"adapter"},Metadata:{type:"object",location:"header",sentAs:"meta-",withPrefix:true},WebsiteRedirectLocation:{location:"header",sentAs:"website-redirect-location",withPrefix:true},Expires:{location:"header",sentAs:"x-obs-expires",type:"number"},SseKms:{location:"header",sentAs:"server-side-encryption",withPrefix:true,type:"adapter"},SseKmsKey:{location:"header",sentAs:"server-side-encryption-aws-kms-key-id",withPrefix:true},SseC:{location:"header",sentAs:"server-side-encryption-customer-algorithm",withPrefix:true},SseCKey:{location:"header",sentAs:"server-side-encryption-customer-key",type:"password",withPrefix:true},Body:{location:"body"},SourceFile:{type:"srcFile"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},PutObjectOutput:{parameters:{ETag:{location:"header",sentAs:"etag"},VersionId:{location:"header",sentAs:"version-id",withPrefix:true},StorageClass:{location:"header",sentAs:"storage-class",withPrefix:true},SseKms:{location:"header",sentAs:"server-side-encryption",withPrefix:true},SseKmsKey:{location:"header",sentAs:"server-side-encryption-aws-kms-key-id",withPrefix:true},SseC:{location:"header",sentAs:"server-side-encryption-customer-algorithm",withPrefix:true},SseCKeyMd5:{location:"header",sentAs:"server-side-encryption-customer-key-MD5",withPrefix:true}}},RenameObject:{httpMethod:"POST",urlPath:"rename",parameters:{Bucket:{required:true,location:"uri"},Key:{required:true,location:"uri"},Name:{required:true,location:"urlPath",sentAs:"name"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},ModifyObject:{httpMethod:"PUT",urlPath:"modify",parameters:{Bucket:{required:true,location:"uri"},Key:{required:true,location:"uri"},Position:{location:"urlPath",sentAs:"position",type:"number"},ContentMD5:{location:"header",sentAs:"Content-MD5"},ContentType:{location:"header",sentAs:"Content-Type"},Offset:{type:"plain"},ProgressCallback:{type:"plain"},ContentLength:{location:"header",sentAs:"Content-Length",type:"plain"},ACL:{location:"header",sentAs:"acl",withPrefix:true,type:"adapter"},GrantRead:{location:"header",sentAs:"grant-read",withPrefix:true},GrantReadAcp:{location:"header",sentAs:"grant-read-acp",withPrefix:true},GrantWriteAcp:{location:"header",sentAs:"grant-write-acp",withPrefix:true},GrantFullControl:{location:"header",sentAs:"grant-full-control",withPrefix:true},StorageClass:{location:"header",sentAs:"storage-class",withPrefix:true,type:"adapter"},Metadata:{type:"object",location:"header",sentAs:"meta-",withPrefix:true},WebsiteRedirectLocation:{location:"header",sentAs:"website-redirect-location",withPrefix:true},Expires:{location:"header",sentAs:"expires",type:"number",withPrefix:true},SseKms:{location:"header",sentAs:"server-side-encryption",withPrefix:true,type:"adapter"},SseKmsKey:{location:"header",sentAs:"server-side-encryption-kms-key-id",withPrefix:true},SseC:{location:"header",sentAs:"server-side-encryption-customer-algorithm",withPrefix:true},SseCKey:{location:"header",sentAs:"server-side-encryption-customer-key",type:"password",withPrefix:true},Body:{location:"body"},SourceFile:{type:"srcFile"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},ModifyObjectOutput:{parameters:{ETag:{location:"header",sentAs:"etag"},VersionId:{location:"header",sentAs:"version-id",withPrefix:true},VersionIdObs:{location:"header",sentAs:"x-obs-version-id"},VersionIdV2:{location:"header",sentAs:"x-amz-version-id"},StorageClass:{location:"header",sentAs:"storage-class",withPrefix:true},StorageClassObs:{location:"header",sentAs:"x-obs-storage-class"},StorageClassV2:{location:"header",sentAs:"x-amz-storage-class"},SseKms:{location:"header",sentAs:"server-side-encryption",withPrefix:true},SseKmsObs:{location:"header",sentAs:"x-obs-server-side-encryption"},SseKmsV2:{location:"header",sentAs:"x-amz-server-side-encryption"},SseKmsKey:{location:"header",sentAs:"server-side-encryption-kms-key-id",withPrefix:true},SseKmsKeyObs:{location:"header",sentAs:"x-obs-server-side-encryption-kms-key-id"},SseKmsKeyV2:{location:"header",sentAs:"x-amz-server-side-encryption-kms-key-id"},SseC:{location:"header",sentAs:"server-side-encryption-customer-algorithm",withPrefix:true},SseCObs:{location:"header",sentAs:"x-obs-server-side-encryption-customer-algorithm"},SseCV2:{location:"header",sentAs:"x-amz-server-side-encryption-customer-algorithm"},SseCKeyMd5:{location:"header",sentAs:"server-side-encryption-customer-key-MD5",withPrefix:true},SseCKeyMd5Obs:{location:"header",sentAs:"x-obs-server-side-encryption-customer-key-MD5"},SseCKeyMd5V2:{location:"header",sentAs:"x-amz-server-side-encryption-customer-key-MD5"}}},AppendObject:{httpMethod:"POST",urlPath:"append",parameters:{Bucket:{required:true,location:"uri"},Key:{required:true,location:"uri"},Position:{location:"urlPath",sentAs:"position",type:"number"},ContentMD5:{location:"header",sentAs:"Content-MD5"},Offset:{type:"plain"},ProgressCallback:{type:"plain"},ContentType:{location:"header",sentAs:"Content-Type"},ContentLength:{location:"header",sentAs:"Content-Length",type:"plain"},ACL:{location:"header",sentAs:"acl",withPrefix:true,type:"adapter"},GrantRead:{location:"header",sentAs:"grant-read",withPrefix:true},GrantReadAcp:{location:"header",sentAs:"grant-read-acp",withPrefix:true},GrantWriteAcp:{location:"header",sentAs:"grant-write-acp",withPrefix:true},GrantFullControl:{location:"header",sentAs:"grant-full-control",withPrefix:true},StorageClass:{location:"header",sentAs:"storage-class",withPrefix:true,type:"adapter"},Metadata:{type:"object",location:"header",sentAs:"meta-",withPrefix:true},WebsiteRedirectLocation:{location:"header",sentAs:"website-redirect-location",withPrefix:true},Expires:{location:"header",sentAs:"x-obs-expires",type:"number"},SseKms:{location:"header",sentAs:"server-side-encryption",withPrefix:true,type:"adapter"},SseKmsKey:{location:"header",sentAs:"server-side-encryption-kms-key-id",withPrefix:true},SseC:{location:"header",sentAs:"server-side-encryption-customer-algorithm",withPrefix:true},SseCKey:{location:"header",sentAs:"server-side-encryption-customer-key",type:"password",withPrefix:true},Body:{location:"body"},SourceFile:{type:"srcFile"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},AppendObjectOutput:{parameters:{ETag:{location:"header",sentAs:"etag"},NextPosition:{location:"header",sentAs:"x-obs-next-append-position"},StorageClass:{location:"header",sentAs:"storage-class",withPrefix:true},SseKms:{location:"header",sentAs:"server-side-encryption",withPrefix:true},SseKmsKey:{location:"header",sentAs:"server-side-encryption-kms-key-id",withPrefix:true},SseC:{location:"header",sentAs:"server-side-encryption-customer-algorithm",withPrefix:true},SseCKeyMd5:{location:"header",sentAs:"server-side-encryption-customer-key-MD5",withPrefix:true}}},GetObject:{httpMethod:"GET",parameters:{Bucket:{required:true,location:"uri"},Key:{required:true,location:"uri"},AccessKeyId:{location:"urlPath"},Signature:{location:"urlPath"},Policy:{location:"urlPath"},SecurityToken:{location:"urlPath",sentAs:"x-amz-security-token"},ResponseCacheControl:{location:"urlPath",sentAs:"response-cache-control"},ResponseContentDisposition:{location:"urlPath",sentAs:"response-content-disposition"},ResponseContentEncoding:{location:"urlPath",sentAs:"response-content-encoding"},ResponseContentLanguage:{location:"urlPath",sentAs:"response-content-language"},ResponseContentType:{location:"urlPath",sentAs:"response-content-type"},ResponseExpires:{location:"urlPath",sentAs:"response-expires"},VersionId:{location:"urlPath",sentAs:"versionId"},ImageProcess:{location:"urlPath",sentAs:"x-image-process"},IfMatch:{location:"header",sentAs:"If-Match"},IfModifiedSince:{location:"header",sentAs:"If-Modified-Since"},IfNoneMatch:{location:"header",sentAs:"If-None-Match"},IfUnmodifiedSince:{location:"header",sentAs:"If-Unmodified-Since"},Range:{location:"header",sentAs:"Range"},Origin:{location:"header",sentAs:"Origin"},RequestHeader:{location:"header",sentAs:"Access-Control-Request-Headers"},SaveAsFile:{type:"dstFile"},SaveAsStream:{type:"plain"},SseC:{location:"header",sentAs:"server-side-encryption-customer-algorithm",withPrefix:true},SseCKey:{location:"header",sentAs:"server-side-encryption-customer-key",type:"password",withPrefix:true},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},GetObjectOutput:{data:{type:"body"},parameters:{Content:{location:"body"},Expiration:{location:"header",sentAs:"expiration",withPrefix:true},ETag:{location:"header",sentAs:"etag"},CacheControl:{location:"header",sentAs:"Cache-Control"},ContentDisposition:{location:"header",sentAs:"Content-Disposition"},ContentEncoding:{location:"header",sentAs:"Content-Encoding"},ContentLanguage:{location:"header",sentAs:"Content-Language"},ContentType:{location:"header",sentAs:"Content-Type"},Expires:{location:"header",sentAs:"Expires"},VersionId:{location:"header",sentAs:"version-id",withPrefix:true},ContentLength:{location:"header",sentAs:"Content-Length"},DeleteMarker:{location:"header",sentAs:"delete-marker",withPrefix:true},LastModified:{location:"header",sentAs:"Last-Modified"},WebsiteRedirectLocation:{location:"header",sentAs:"website-redirect-location",withPrefix:true},StorageClass:{location:"header",sentAs:"storage-class",withPrefix:true},Restore:{location:"header",sentAs:"restore",withPrefix:true},AllowOrigin:{location:"header",sentAs:"access-control-allow-origin"},MaxAgeSeconds:{location:"header",sentAs:"access-control-max-age"},ExposeHeader:{location:"header",sentAs:"access-control-expose-headers"},AllowMethod:{location:"header",sentAs:"access-control-allow-methods"},AllowHeader:{location:"header",sentAs:"access-control-allow-headers"},SseKms:{location:"header",sentAs:"server-side-encryption",withPrefix:true},SseKmsKey:{location:"header",sentAs:"server-side-encryption-aws-kms-key-id",withPrefix:true},SseC:{location:"header",sentAs:"server-side-encryption-customer-algorithm",withPrefix:true},SseCKeyMd5:{location:"header",sentAs:"server-side-encryption-customer-key-MD5",withPrefix:true},Metadata:{location:"header",type:"object",sentAs:"meta-",withPrefix:true}}},CopyObject:{httpMethod:"PUT",parameters:{Bucket:{required:true,location:"uri"},Key:{required:true,location:"uri"},ACL:{location:"header",sentAs:"acl",withPrefix:true,type:"adapter"},GrantRead:{location:"header",sentAs:"grant-read",withPrefix:true},GrantReadAcp:{location:"header",sentAs:"grant-read-acp",withPrefix:true},GrantWriteAcp:{location:"header",sentAs:"grant-write-acp",withPrefix:true},GrantFullControl:{location:"header",sentAs:"grant-full-control",withPrefix:true},StorageClass:{location:"header",sentAs:"storage-class",withPrefix:true,type:"adapter"},CopySource:{required:true,location:"header",sentAs:"copy-source",withPrefix:true,skipEncoding:true},CopySourceIfMatch:{location:"header",sentAs:"copy-source-if-match",withPrefix:true},CopySourceIfModifiedSince:{location:"header",sentAs:"copy-source-if-modified-since",withPrefix:true},CopySourceIfNoneMatch:{location:"header",sentAs:"copy-source-if-none-match",withPrefix:true},CopySourceIfUnmodifiedSince:{location:"header",sentAs:"copy-source-if-unmodified-since",withPrefix:true},ContentType:{location:"header",sentAs:"Content-Type"},ContentEncoding:{location:"header",sentAs:"content-encoding"},ContentLanguage:{location:"header",sentAs:"content-language"},ContentDisposition:{location:"header",sentAs:"content-disposition"},CacheControl:{location:"header",sentAs:"cache-control"},Expires:{location:"header",sentAs:"expires"},Metadata:{type:"object",location:"header",sentAs:"meta-",withPrefix:true},MetadataDirective:{location:"header",sentAs:"metadata-directive",withPrefix:true},WebsiteRedirectLocation:{location:"header",sentAs:"website-redirect-location",withPrefix:true},SseKms:{location:"header",sentAs:"server-side-encryption",withPrefix:true,type:"adapter"},SseKmsKey:{location:"header",sentAs:"server-side-encryption-aws-kms-key-id",withPrefix:true},SseC:{location:"header",sentAs:"server-side-encryption-customer-algorithm",withPrefix:true},SseCKey:{location:"header",sentAs:"server-side-encryption-customer-key",type:"password",withPrefix:true},CopySourceSseC:{location:"header",sentAs:"copy-source-server-side-encryption-customer-algorithm",withPrefix:true},CopySourceSseCKey:{location:"header",sentAs:"copy-source-server-side-encryption-customer-key",type:"password",withPrefix:true},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},CopyObjectOutput:{data:{type:"xml",xmlRoot:"CopyObjectResult"},parameters:{VersionId:{location:"header",sentAs:"version-id",withPrefix:true},CopySourceVersionId:{location:"header",sentAs:"copy-source-version-id",withPrefix:true},ETag:{location:"xml",sentAs:"ETag"},LastModified:{location:"xml",sentAs:"LastModified"},SseKms:{location:"header",sentAs:"server-side-encryption",withPrefix:true},SseKmsKey:{location:"header",sentAs:"server-side-encryption-aws-kms-key-id",withPrefix:true},SseC:{location:"header",sentAs:"server-side-encryption-customer-algorithm",withPrefix:true},SseCKeyMd5:{location:"header",sentAs:"server-side-encryption-customer-key-MD5",withPrefix:true}}},RestoreObject:{httpMethod:"POST",urlPath:"restore",data:{xmlRoot:"RestoreRequest",md5:true},parameters:{Bucket:{required:true,location:"uri"},Key:{required:true,location:"uri"},VersionId:{location:"urlPath",sentAs:"versionId"},Days:{location:"xml",sentAs:"Days"},Tier:{wrapper:"GlacierJobParameters",location:"xml",sentAs:"Tier"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},GetObjectMetadata:{httpMethod:"HEAD",parameters:{Bucket:{required:true,location:"uri"},Key:{required:true,location:"uri"},VersionId:{location:"urlPath",sentAs:"versionId"},Origin:{location:"header",sentAs:"Origin"},RequestHeader:{location:"header",sentAs:"Access-Control-Request-Headers"},SseC:{location:"header",sentAs:"server-side-encryption-customer-algorithm",withPrefix:true},SseCKey:{location:"header",sentAs:"server-side-encryption-customer-key",type:"password",withPrefix:true},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},GetObjectMetadataOutput:{parameters:{Expiration:{location:"header",sentAs:"expiration",withPrefix:true},LastModified:{location:"header",sentAs:"Last-Modified"},ContentLength:{location:"header",sentAs:"Content-Length"},ContentType:{location:"header",sentAs:"Content-Type"},CacheControl:{location:"header",sentAs:"Cache-Control"},ContentDisposition:{location:"header",sentAs:"Content-Disposition"},ContentLanguage:{location:"header",sentAs:"Content-Language"},ContentEncoding:{location:"header",sentAs:"Content-Encoding"},Expires:{location:"header",sentAs:"Expires"},ETag:{location:"header",sentAs:"etag"},VersionId:{location:"header",sentAs:"version-id",withPrefix:true},WebsiteRedirectLocation:{location:"header",sentAs:"website-redirect-location",withPrefix:true},StorageClass:{location:"header",sentAs:"storage-class",withPrefix:true},Restore:{location:"header",sentAs:"restore",withPrefix:true},ObjectType:{location:"header",sentAs:"x-obs-object-type"},NextPosition:{location:"header",sentAs:"x-obs-next-append-position"},AllowOrigin:{location:"header",sentAs:"access-control-allow-origin"},MaxAgeSeconds:{location:"header",sentAs:"access-control-max-age"},ExposeHeader:{location:"header",sentAs:"access-control-expose-headers"},AllowMethod:{location:"header",sentAs:"access-control-allow-methods"},AllowHeader:{location:"header",sentAs:"access-control-allow-headers"},SseKms:{location:"header",sentAs:"server-side-encryption",withPrefix:true},SseKmsKey:{location:"header",sentAs:"server-side-encryption-aws-kms-key-id",withPrefix:true},SseC:{location:"header",sentAs:"server-side-encryption-customer-algorithm",withPrefix:true},SseCKeyMd5:{location:"header",sentAs:"server-side-encryption-customer-key-MD5",withPrefix:true},Metadata:{location:"header",type:"object",sentAs:"meta-",withPrefix:true}}},SetObjectMetadata:{httpMethod:"PUT",urlPath:"metadata",parameters:{Bucket:{required:true,location:"uri"},Key:{required:true,location:"uri"},VersionId:{location:"urlPath",sentAs:"versionId"},Origin:{location:"header",sentAs:"Origin"},RequestHeader:{location:"header",sentAs:"Access-Control-Request-Headers"},CacheControl:{location:"header",sentAs:"Cache-Control"},ContentDisposition:{location:"header",sentAs:"Content-Disposition"},ContentLanguage:{location:"header",sentAs:"Content-Language"},ContentEncoding:{location:"header",sentAs:"Content-Encoding"},ContentType:{location:"header",sentAs:"Content-Type"},Expires:{location:"header",sentAs:"Expires"},Metadata:{type:"object",location:"header",sentAs:"meta-",withPrefix:true},MetadataDirective:{location:"header",sentAs:"metadata-directive",withPrefix:true},StorageClass:{location:"header",sentAs:"storage-class",withPrefix:true,type:"adapter"},WebsiteRedirectLocation:{location:"header",sentAs:"website-redirect-location",withPrefix:true},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},SetObjectMetadataOutput:{parameters:{Expires:{location:"header",sentAs:"Expires"},ContentEncoding:{location:"header",sentAs:"Content-Encoding"},ContentType:{location:"header",sentAs:"Content-Type"},ContentLanguage:{location:"header",sentAs:"Content-Language"},CacheControl:{location:"header",sentAs:"Cache-Control"},ContentDisposition:{location:"header",sentAs:"Content-Disposition"},WebsiteRedirectLocation:{location:"header",sentAs:"website-redirect-location",withPrefix:true},StorageClass:{location:"header",sentAs:"storage-class",withPrefix:true},Metadata:{location:"header",type:"object",sentAs:"meta-",withPrefix:true},MetadataDirective:{location:"header",sentAs:"metadata-directive",withPrefix:true}}},SetObjectAcl:{httpMethod:"PUT",urlPath:"acl",data:{xmlRoot:"AccessControlPolicy"},parameters:{Bucket:{required:true,location:"uri"},Key:{required:true,location:"uri"},VersionId:{location:"urlPath",sentAs:"versionId"},ACL:{location:"header",sentAs:"acl",withPrefix:true,type:"adapter"},Owner:t,Grants:i,RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},SetObjectAclOutput:{parameters:{VersionId:{location:"header",sentAs:"version-id",withPrefix:true}}},GetObjectAcl:{httpMethod:"GET",urlPath:"acl",parameters:{Bucket:{required:true,location:"uri"},Key:{required:true,location:"uri"},VersionId:{location:"urlPath",sentAs:"versionId"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},GetObjectAclOutput:{data:{type:"xml",xmlRoot:"AccessControlPolicy"},parameters:{VersionId:{location:"header",sentAs:"version-id",withPrefix:true},Owner:t,Grants:i}},DeleteObject:{httpMethod:"DELETE",parameters:{Bucket:{required:true,location:"uri"},Key:{required:true,location:"uri"},VersionId:{location:"urlPath",sentAs:"versionId"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},DeleteObjectOutput:{parameters:{VersionId:{location:"header",sentAs:"version-id",withPrefix:true},DeleteMarker:{location:"header",sentAs:"delete-marker",withPrefix:true}}},DeleteObjects:{httpMethod:"POST",urlPath:"delete",data:{xmlRoot:"Delete",md5:true},parameters:{Bucket:{required:true,location:"uri"},Quiet:{location:"xml",sentAs:"Quiet"},Objects:{required:true,type:"array",location:"xml",sentAs:"Object",items:{type:"object",parameters:{Key:{sentAs:"Key"},VersionId:{sentAs:"VersionId"}}}},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},DeleteObjectsOutput:{data:{type:"xml",xmlRoot:"DeleteResult"},parameters:{Deleteds:{type:"array",location:"xml",sentAs:"Deleted",items:{type:"object",parameters:{Key:{sentAs:"Key"},VersionId:{sentAs:"VersionId"},DeleteMarker:{sentAs:"DeleteMarker"},DeleteMarkerVersionId:{sentAs:"DeleteMarkerVersionId"}}}},Errors:{type:"array",location:"xml",sentAs:"Error",items:{type:"object",parameters:{Key:{sentAs:"Key"},VersionId:{sentAs:"VersionId"},Code:{sentAs:"Code"},Message:{sentAs:"Message"}}}}}},InitiateMultipartUpload:{httpMethod:"POST",urlPath:"uploads",parameters:{Bucket:{required:true,location:"uri"},Key:{required:true,location:"uri"},ACL:{location:"header",sentAs:"acl",withPrefix:true,type:"adapter"},GrantRead:{location:"header",sentAs:"grant-read",withPrefix:true},GrantReadAcp:{location:"header",sentAs:"grant-read-acp",withPrefix:true},GrantWriteAcp:{location:"header",sentAs:"grant-write-acp",withPrefix:true},GrantFullControl:{location:"header",sentAs:"grant-full-control",withPrefix:true},StorageClass:{location:"header",sentAs:"storage-class",withPrefix:true,type:"adapter"},Metadata:{type:"object",location:"header",sentAs:"meta-",withPrefix:true},WebsiteRedirectLocation:{location:"header",sentAs:"website-redirect-location",withPrefix:true},Expires:{location:"header",sentAs:"x-obs-expires",type:"number"},ContentType:{location:"header",sentAs:"Content-Type"},SseKms:{location:"header",sentAs:"server-side-encryption",withPrefix:true,type:"adapter"},SseKmsKey:{location:"header",sentAs:"server-side-encryption-aws-kms-key-id",withPrefix:true},SseC:{location:"header",sentAs:"server-side-encryption-customer-algorithm",withPrefix:true},SseCKey:{location:"header",sentAs:"server-side-encryption-customer-key",type:"password",withPrefix:true},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},InitiateMultipartUploadOutput:{data:{type:"xml",xmlRoot:"InitiateMultipartUploadResult"},parameters:{Bucket:{location:"xml",sentAs:"Bucket"},Key:{location:"xml",sentAs:"Key"},UploadId:{location:"xml",sentAs:"UploadId"},SseKms:{location:"header",sentAs:"server-side-encryption",withPrefix:true},SseKmsKey:{location:"header",sentAs:"server-side-encryption-aws-kms-key-id",withPrefix:true},SseC:{location:"header",sentAs:"server-side-encryption-customer-algorithm",withPrefix:true},SseCKeyMd5:{location:"header",sentAs:"server-side-encryption-customer-key-MD5",withPrefix:true}}},ListMultipartUploads:{httpMethod:"GET",urlPath:"uploads",parameters:{Bucket:{required:true,location:"uri"},Delimiter:{location:"urlPath",sentAs:"delimiter"},KeyMarker:{location:"urlPath",sentAs:"key-marker"},MaxUploads:{type:"number",location:"urlPath",sentAs:"max-uploads"},Prefix:{location:"urlPath",sentAs:"prefix"},UploadIdMarker:{location:"urlPath",sentAs:"upload-id-marker"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},ListMultipartUploadsOutput:{data:{type:"xml",xmlRoot:"ListMultipartUploadsResult"},parameters:{Bucket:{location:"xml",sentAs:"Bucket"},KeyMarker:{location:"xml",sentAs:"KeyMarker"},UploadIdMarker:{location:"xml",sentAs:"UploadIdMarker"},NextKeyMarker:{location:"xml",sentAs:"NextKeyMarker"},Prefix:{location:"xml",sentAs:"Prefix"},Delimiter:{location:"xml",sentAs:"Delimiter"},NextUploadIdMarker:{location:"xml",sentAs:"NextUploadIdMarker"},MaxUploads:{location:"xml",sentAs:"MaxUploads"},IsTruncated:{location:"xml",sentAs:"IsTruncated"},Uploads:{type:"array",location:"xml",sentAs:"Upload",items:{type:"object",parameters:{UploadId:{sentAs:"UploadId"},Key:{sentAs:"Key"},Initiated:{sentAs:"Initiated"},StorageClass:{sentAs:"StorageClass"},Owner:t,Initiator:r}}},CommonPrefixes:n}},UploadPart:{httpMethod:"PUT",parameters:{Bucket:{required:true,location:"uri"},Key:{required:true,location:"uri"},PartNumber:{required:true,type:"number",location:"urlPath",sentAs:"partNumber"},UploadId:{required:true,location:"urlPath",sentAs:"uploadId"},ContentMD5:{location:"header",sentAs:"Content-MD5"},Body:{location:"body"},SourceFile:{type:"srcFile"},Offset:{type:"plain"},PartSize:{type:"plain"},ProgressCallback:{type:"plain"},SseC:{location:"header",sentAs:"server-side-encryption-customer-algorithm",withPrefix:true},SseCKey:{location:"header",sentAs:"server-side-encryption-customer-key",type:"password",withPrefix:true},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},UploadPartOutput:{parameters:{ETag:{location:"header",sentAs:"etag"},SseKms:{location:"header",sentAs:"server-side-encryption",withPrefix:true},SseKmsKey:{location:"header",sentAs:"server-side-encryption-aws-kms-key-id",withPrefix:true},SseC:{location:"header",sentAs:"server-side-encryption-customer-algorithm",withPrefix:true},SseCKeyMd5:{location:"header",sentAs:"server-side-encryption-customer-key-MD5",withPrefix:true}}},ListParts:{httpMethod:"GET",parameters:{Bucket:{required:true,location:"uri"},Key:{required:true,location:"uri"},UploadId:{required:true,location:"urlPath",sentAs:"uploadId"},MaxParts:{type:"number",location:"urlPath",sentAs:"max-parts"},PartNumberMarker:{type:"number",location:"urlPath",sentAs:"part-number-marker"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},ListPartsOutput:{data:{type:"xml",xmlRoot:"ListPartsResult"},parameters:{Bucket:{location:"xml",sentAs:"Bucket"},Key:{location:"xml",sentAs:"Key"},UploadId:{location:"xml",sentAs:"UploadId"},PartNumberMarker:{location:"xml",sentAs:"PartNumberMarker"},NextPartNumberMarker:{location:"xml",sentAs:"NextPartNumberMarker"},MaxParts:{location:"xml",sentAs:"MaxParts"},IsTruncated:{location:"xml",sentAs:"IsTruncated"},StorageClass:{location:"xml",sentAs:"StorageClass"},Initiator:r,Owner:t,Parts:{type:"array",location:"xml",sentAs:"Part",items:{type:"object",parameters:{PartNumber:{sentAs:"PartNumber"},LastModified:{sentAs:"LastModified"},ETag:{sentAs:"ETag"},Size:{sentAs:"Size"}}}}}},CopyPart:{httpMethod:"PUT",parameters:{Bucket:{required:true,location:"uri"},Key:{required:true,location:"uri"},PartNumber:{required:true,location:"urlPath",sentAs:"partNumber",type:"number"},UploadId:{required:true,location:"urlPath",sentAs:"uploadId"},CopySource:{required:true,location:"header",sentAs:"copy-source",skipEncoding:true,withPrefix:true},CopySourceRange:{location:"header",sentAs:"copy-source-range",withPrefix:true},SseC:{location:"header",sentAs:"server-side-encryption-customer-algorithm",withPrefix:true},SseCKey:{location:"header",sentAs:"server-side-encryption-customer-key",type:"password",withPrefix:true},CopySourceSseC:{location:"header",sentAs:"copy-source-server-side-encryption-customer-algorithm",withPrefix:true},CopySourceSseCKey:{location:"header",sentAs:"copy-source-server-side-encryption-customer-key",type:"password",withPrefix:true},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},CopyPartOutput:{data:{type:"xml",xmlRoot:"CopyPartResult"},parameters:{LastModified:{location:"xml",sentAs:"LastModified"},ETag:{location:"xml",sentAs:"ETag"},SseKms:{location:"header",sentAs:"server-side-encryption",withPrefix:true},SseKmsKey:{location:"header",sentAs:"server-side-encryption-aws-kms-key-id",withPrefix:true},SseC:{location:"header",sentAs:"server-side-encryption-customer-algorithm",withPrefix:true},SseCKeyMd5:{location:"header",sentAs:"server-side-encryption-customer-key-MD5",withPrefix:true}}},AbortMultipartUpload:{httpMethod:"DELETE",parameters:{Bucket:{required:true,location:"uri"},Key:{required:true,location:"uri"},UploadId:{required:true,location:"urlPath",sentAs:"uploadId"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},CompleteMultipartUpload:{httpMethod:"POST",data:{xmlRoot:"CompleteMultipartUpload"},parameters:{Bucket:{required:true,location:"uri"},Key:{required:true,location:"uri"},UploadId:{required:true,location:"urlPath",sentAs:"uploadId"},Parts:{required:true,type:"array",location:"xml",sentAs:"Part",items:{type:"object",parameters:{PartNumber:{sentAs:"PartNumber"},ETag:{sentAs:"ETag"}}}},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},CompleteMultipartUploadOutput:{data:{type:"xml",xmlRoot:"CompleteMultipartUploadResult"},parameters:{VersionId:{location:"header",sentAs:"version-id",withPrefix:true},Location:{location:"xml",sentAs:"Location"},Bucket:{location:"xml",sentAs:"Bucket"},Key:{location:"xml",sentAs:"Key"},ETag:{location:"xml",sentAs:"ETag"},SseKms:{location:"header",sentAs:"server-side-encryption",withPrefix:true},SseKmsKey:{location:"header",sentAs:"server-side-encryption-aws-kms-key-id",withPrefix:true},SseC:{location:"header",sentAs:"server-side-encryption-customer-algorithm",withPrefix:true},SseCKeyMd5:{location:"header",sentAs:"server-side-encryption-customer-key-MD5",withPrefix:true}}},OptionsObject:{httpMethod:"OPTIONS",parameters:{Bucket:{required:true,location:"uri"},Key:{required:true,location:"uri"},Origin:{required:true,location:"header",sentAs:"Origin"},AccessControlRequestMethods:{required:true,type:"array",location:"header",sentAs:"Access-Control-Request-Method",items:{type:"string"}},AccessControlRequestHeaders:{type:"array",location:"header",sentAs:"Access-Control-Request-Headers",items:{type:"string"}},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},OptionsObjectOutput:{parameters:{AllowOrigin:{location:"header",sentAs:"access-control-allow-origin"},AllowHeader:{location:"header",sentAs:"access-control-allow-headers"},AllowMethod:{location:"header",sentAs:"access-control-allow-methods"},ExposeHeader:{location:"header",sentAs:"access-control-expose-headers"},MaxAgeSeconds:{location:"header",sentAs:"access-control-max-age"}}},GetBucketDirectColdAccess:{httpMethod:"GET",urlPath:"directcoldaccess",parameters:{Bucket:{required:true,location:"uri"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},GetBucketDirectColdAccessOutput:{data:{type:"xml",xmlRoot:"DirectColdAccessConfiguration"},parameters:{Status:{location:"xml",sentAs:"Status"}}},SetBucketDirectColdAccess:{httpMethod:"PUT",urlPath:"directcoldaccess",data:{xmlRoot:"DirectColdAccessConfiguration",md5:true},parameters:{Bucket:{required:true,location:"uri"},Status:{required:true,location:"xml",sentAs:"Status"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},SetBucketDirectColdAccessOutput:{data:{type:"xml",xmlRoot:"DirectColdAccessConfiguration"},parameters:{Status:{location:"xml",sentAs:"Status"}}},DeleteBucketDirectColdAccess:{httpMethod:"DELETE",urlPath:"directcoldaccess",parameters:{Bucket:{required:true,location:"uri"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},DeleteBucketDirectColdAccessOutput:{data:{type:"xml",xmlRoot:"DirectColdAccessConfiguration"},parameters:{Status:{location:"xml",sentAs:"Status"}}},GetBucketEncryption:{httpMethod:"GET",urlPath:"encryption",parameters:{Bucket:{required:true,location:"uri"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},GetBucketEncryptionOutput:{data:{type:"xml",xmlRoot:"ServerSideEncryptionConfiguration"},parameters:{Rule:{type:"object",location:"xml",sentAs:"Rule",parameters:{ApplyServerSideEncryptionByDefault:{type:"object",sentAs:"ApplyServerSideEncryptionByDefault",parameters:{SSEAlgorithm:{sentAs:"SSEAlgorithm"},KMSMasterKeyID:{sentAs:"KMSMasterKeyID"}}}}}}},SetBucketEncryption:{httpMethod:"PUT",urlPath:"encryption",data:{xmlRoot:"ServerSideEncryptionConfiguration"},parameters:{Bucket:{required:true,location:"uri"},Rule:y,RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},SetBucketEncryptionOutput:{data:{type:"xml",xmlRoot:"ServerSideEncryptionConfiguration"},parameters:{Rule:y}},DeleteBucketEncryption:{httpMethod:"DELETE",urlPath:"encryption",parameters:{Bucket:{required:true,location:"uri"},RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}},DeleteBucketEncryptionOutput:{data:{type:"xml",xmlRoot:"ServerSideEncryptionConfiguration"},parameters:{Rule:y,RequestPayer:{location:"header",sentAs:"request-payer",withPrefix:true}}}};e.exports=g},9511:(e,t)=>{"use strict";
/*! (c) 2020 Andrea Giammarchi */const{parse:r,stringify:n}=JSON;const{keys:i}=Object;const o=String;const s="string";const a={};const c="object";const noop=(e,t)=>t;const primitives=e=>e instanceof o?o(e):e;const Primitives=(e,t)=>typeof t===s?new o(t):t;const revive=(e,t,r,n)=>{const s=[];for(let l=i(r),{length:u}=l,d=0;d<u;d++){const i=l[d];const u=r[i];if(u instanceof o){const o=e[u];if(typeof o===c&&!t.has(o)){t.add(o);r[i]=a;s.push({k:i,a:[e,t,o,n]})}else r[i]=n.call(r,i,o)}else if(r[i]!==a)r[i]=n.call(r,i,u)}for(let{length:e}=s,t=0;t<e;t++){const{k:e,a:i}=s[t];r[e]=n.call(r,e,revive.apply(null,i))}return r};const set=(e,t,r)=>{const n=o(t.push(r)-1);e.set(r,n);return n};const parse=(e,t)=>{const n=r(e,Primitives).map(primitives);const i=n[0];const o=t||noop;const s=typeof i===c&&i?revive(n,new Set,i,o):i;return o.call({"":s},"",s)};t.parse=parse;const stringify=(e,t,r)=>{const i=t&&typeof t===c?(e,r)=>e===""||-1<t.indexOf(e)?r:void 0:t||noop;const o=new Map;const a=[];const l=[];let u=+set(o,a,i.call({"":e},"",e));let d=!u;while(u<a.length){d=true;l[u]=n(a[u++],replace,r)}return"["+l.join(",")+"]";function replace(e,t){if(d){d=!d;return t}const r=i.call(this,e,t);switch(typeof r){case c:if(r===null)return r;case s:return o.get(r)||set(o,a,r)}return r}};t.stringify=stringify;const toJSON=e=>r(stringify(e));t.toJSON=toJSON;const fromJSON=e=>parse(n(e));t.fromJSON=fromJSON},3338:(e,t,r)=>{"use strict";const n=r(7758);const i=r(5622);const o=r(2915).mkdirsSync;const s=r(2548).utimesMillisSync;const a=r(3901);function copySync(e,t,r){if(typeof r==="function"){r={filter:r}}r=r||{};r.clobber="clobber"in r?!!r.clobber:true;r.overwrite="overwrite"in r?!!r.overwrite:r.clobber;if(r.preserveTimestamps&&process.arch==="ia32"){console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269`)}const{srcStat:n,destStat:i}=a.checkPathsSync(e,t,"copy");a.checkParentPathsSync(e,n,t,"copy");return handleFilterAndCopy(i,e,t,r)}function handleFilterAndCopy(e,t,r,s){if(s.filter&&!s.filter(t,r))return;const a=i.dirname(r);if(!n.existsSync(a))o(a);return startCopy(e,t,r,s)}function startCopy(e,t,r,n){if(n.filter&&!n.filter(t,r))return;return getStats(e,t,r,n)}function getStats(e,t,r,i){const o=i.dereference?n.statSync:n.lstatSync;const s=o(t);if(s.isDirectory())return onDir(s,e,t,r,i);else if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return onFile(s,e,t,r,i);else if(s.isSymbolicLink())return onLink(e,t,r,i)}function onFile(e,t,r,n,i){if(!t)return copyFile(e,r,n,i);return mayCopyFile(e,r,n,i)}function mayCopyFile(e,t,r,i){if(i.overwrite){n.unlinkSync(r);return copyFile(e,t,r,i)}else if(i.errorOnExist){throw new Error(`'${r}' already exists`)}}function copyFile(e,t,r,i){if(typeof n.copyFileSync==="function"){n.copyFileSync(t,r);n.chmodSync(r,e.mode);if(i.preserveTimestamps){return s(r,e.atime,e.mtime)}return}return copyFileFallback(e,t,r,i)}function copyFileFallback(e,t,i,o){const s=64*1024;const a=r(7696)(s);const c=n.openSync(t,"r");const l=n.openSync(i,"w",e.mode);let u=0;while(u<e.size){const e=n.readSync(c,a,0,s,u);n.writeSync(l,a,0,e);u+=e}if(o.preserveTimestamps)n.futimesSync(l,e.atime,e.mtime);n.closeSync(c);n.closeSync(l)}function onDir(e,t,r,n,i){if(!t)return mkDirAndCopy(e,r,n,i);if(t&&!t.isDirectory()){throw new Error(`Cannot overwrite non-directory '${n}' with directory '${r}'.`)}return copyDir(r,n,i)}function mkDirAndCopy(e,t,r,i){n.mkdirSync(r);copyDir(t,r,i);return n.chmodSync(r,e.mode)}function copyDir(e,t,r){n.readdirSync(e).forEach((n=>copyDirItem(n,e,t,r)))}function copyDirItem(e,t,r,n){const o=i.join(t,e);const s=i.join(r,e);const{destStat:c}=a.checkPathsSync(o,s,"copy");return startCopy(c,o,s,n)}function onLink(e,t,r,o){let s=n.readlinkSync(t);if(o.dereference){s=i.resolve(process.cwd(),s)}if(!e){return n.symlinkSync(s,r)}else{let e;try{e=n.readlinkSync(r)}catch(e){if(e.code==="EINVAL"||e.code==="UNKNOWN")return n.symlinkSync(s,r);throw e}if(o.dereference){e=i.resolve(process.cwd(),e)}if(a.isSrcSubdir(s,e)){throw new Error(`Cannot copy '${s}' to a subdirectory of itself, '${e}'.`)}if(n.statSync(r).isDirectory()&&a.isSrcSubdir(e,s)){throw new Error(`Cannot overwrite '${e}' with '${s}'.`)}return copyLink(s,r)}}function copyLink(e,t){n.unlinkSync(t);return n.symlinkSync(e,t)}e.exports=copySync},1135:(e,t,r)=>{"use strict";e.exports={copySync:r(3338)}},8834:(e,t,r)=>{"use strict";const n=r(7758);const i=r(5622);const o=r(2915).mkdirs;const s=r(3835).pathExists;const a=r(2548).utimesMillis;const c=r(3901);function copy(e,t,r,n){if(typeof r==="function"&&!n){n=r;r={}}else if(typeof r==="function"){r={filter:r}}n=n||function(){};r=r||{};r.clobber="clobber"in r?!!r.clobber:true;r.overwrite="overwrite"in r?!!r.overwrite:r.clobber;if(r.preserveTimestamps&&process.arch==="ia32"){console.warn(`fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269`)}c.checkPaths(e,t,"copy",((i,o)=>{if(i)return n(i);const{srcStat:s,destStat:a}=o;c.checkParentPaths(e,s,t,"copy",(i=>{if(i)return n(i);if(r.filter)return handleFilter(checkParentDir,a,e,t,r,n);return checkParentDir(a,e,t,r,n)}))}))}function checkParentDir(e,t,r,n,a){const c=i.dirname(r);s(c,((i,s)=>{if(i)return a(i);if(s)return startCopy(e,t,r,n,a);o(c,(i=>{if(i)return a(i);return startCopy(e,t,r,n,a)}))}))}function handleFilter(e,t,r,n,i,o){Promise.resolve(i.filter(r,n)).then((s=>{if(s)return e(t,r,n,i,o);return o()}),(e=>o(e)))}function startCopy(e,t,r,n,i){if(n.filter)return handleFilter(getStats,e,t,r,n,i);return getStats(e,t,r,n,i)}function getStats(e,t,r,i,o){const s=i.dereference?n.stat:n.lstat;s(t,((n,s)=>{if(n)return o(n);if(s.isDirectory())return onDir(s,e,t,r,i,o);else if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return onFile(s,e,t,r,i,o);else if(s.isSymbolicLink())return onLink(e,t,r,i,o)}))}function onFile(e,t,r,n,i,o){if(!t)return copyFile(e,r,n,i,o);return mayCopyFile(e,r,n,i,o)}function mayCopyFile(e,t,r,i,o){if(i.overwrite){n.unlink(r,(n=>{if(n)return o(n);return copyFile(e,t,r,i,o)}))}else if(i.errorOnExist){return o(new Error(`'${r}' already exists`))}else return o()}function copyFile(e,t,r,i,o){if(typeof n.copyFile==="function"){return n.copyFile(t,r,(t=>{if(t)return o(t);return setDestModeAndTimestamps(e,r,i,o)}))}return copyFileFallback(e,t,r,i,o)}function copyFileFallback(e,t,r,i,o){const s=n.createReadStream(t);s.on("error",(e=>o(e))).once("open",(()=>{const t=n.createWriteStream(r,{mode:e.mode});t.on("error",(e=>o(e))).on("open",(()=>s.pipe(t))).once("close",(()=>setDestModeAndTimestamps(e,r,i,o)))}))}function setDestModeAndTimestamps(e,t,r,i){n.chmod(t,e.mode,(n=>{if(n)return i(n);if(r.preserveTimestamps){return a(t,e.atime,e.mtime,i)}return i()}))}function onDir(e,t,r,n,i,o){if(!t)return mkDirAndCopy(e,r,n,i,o);if(t&&!t.isDirectory()){return o(new Error(`Cannot overwrite non-directory '${n}' with directory '${r}'.`))}return copyDir(r,n,i,o)}function mkDirAndCopy(e,t,r,i,o){n.mkdir(r,(s=>{if(s)return o(s);copyDir(t,r,i,(t=>{if(t)return o(t);return n.chmod(r,e.mode,o)}))}))}function copyDir(e,t,r,i){n.readdir(e,((n,o)=>{if(n)return i(n);return copyDirItems(o,e,t,r,i)}))}function copyDirItems(e,t,r,n,i){const o=e.pop();if(!o)return i();return copyDirItem(e,o,t,r,n,i)}function copyDirItem(e,t,r,n,o,s){const a=i.join(r,t);const l=i.join(n,t);c.checkPaths(a,l,"copy",((t,i)=>{if(t)return s(t);const{destStat:c}=i;startCopy(c,a,l,o,(t=>{if(t)return s(t);return copyDirItems(e,r,n,o,s)}))}))}function onLink(e,t,r,o,s){n.readlink(t,((t,a)=>{if(t)return s(t);if(o.dereference){a=i.resolve(process.cwd(),a)}if(!e){return n.symlink(a,r,s)}else{n.readlink(r,((t,l)=>{if(t){if(t.code==="EINVAL"||t.code==="UNKNOWN")return n.symlink(a,r,s);return s(t)}if(o.dereference){l=i.resolve(process.cwd(),l)}if(c.isSrcSubdir(a,l)){return s(new Error(`Cannot copy '${a}' to a subdirectory of itself, '${l}'.`))}if(e.isDirectory()&&c.isSrcSubdir(l,a)){return s(new Error(`Cannot overwrite '${l}' with '${a}'.`))}return copyLink(a,r,s)}))}}))}function copyLink(e,t,r){n.unlink(t,(i=>{if(i)return r(i);return n.symlink(e,t,r)}))}e.exports=copy},1335:(e,t,r)=>{"use strict";const n=r(9046).E;e.exports={copy:n(r(8834))}},6970:(e,t,r)=>{"use strict";const n=r(9046).E;const i=r(7758);const o=r(5622);const s=r(2915);const a=r(7357);const c=n((function emptyDir(e,t){t=t||function(){};i.readdir(e,((r,n)=>{if(r)return s.mkdirs(e,t);n=n.map((t=>o.join(e,t)));deleteItem();function deleteItem(){const e=n.pop();if(!e)return t();a.remove(e,(e=>{if(e)return t(e);deleteItem()}))}}))}));function emptyDirSync(e){let t;try{t=i.readdirSync(e)}catch(t){return s.mkdirsSync(e)}t.forEach((t=>{t=o.join(e,t);a.removeSync(t)}))}e.exports={emptyDirSync:emptyDirSync,emptydirSync:emptyDirSync,emptyDir:c,emptydir:c}},2164:(e,t,r)=>{"use strict";const n=r(9046).E;const i=r(5622);const o=r(7758);const s=r(2915);const a=r(3835).pathExists;function createFile(e,t){function makeFile(){o.writeFile(e,"",(e=>{if(e)return t(e);t()}))}o.stat(e,((r,n)=>{if(!r&&n.isFile())return t();const o=i.dirname(e);a(o,((e,r)=>{if(e)return t(e);if(r)return makeFile();s.mkdirs(o,(e=>{if(e)return t(e);makeFile()}))}))}))}function createFileSync(e){let t;try{t=o.statSync(e)}catch(e){}if(t&&t.isFile())return;const r=i.dirname(e);if(!o.existsSync(r)){s.mkdirsSync(r)}o.writeFileSync(e,"")}e.exports={createFile:n(createFile),createFileSync:createFileSync}},55:(e,t,r)=>{"use strict";const n=r(2164);const i=r(3797);const o=r(2549);e.exports={createFile:n.createFile,createFileSync:n.createFileSync,ensureFile:n.createFile,ensureFileSync:n.createFileSync,createLink:i.createLink,createLinkSync:i.createLinkSync,ensureLink:i.createLink,ensureLinkSync:i.createLinkSync,createSymlink:o.createSymlink,createSymlinkSync:o.createSymlinkSync,ensureSymlink:o.createSymlink,ensureSymlinkSync:o.createSymlinkSync}},3797:(e,t,r)=>{"use strict";const n=r(9046).E;const i=r(5622);const o=r(7758);const s=r(2915);const a=r(3835).pathExists;function createLink(e,t,r){function makeLink(e,t){o.link(e,t,(e=>{if(e)return r(e);r(null)}))}a(t,((n,c)=>{if(n)return r(n);if(c)return r(null);o.lstat(e,(n=>{if(n){n.message=n.message.replace("lstat","ensureLink");return r(n)}const o=i.dirname(t);a(o,((n,i)=>{if(n)return r(n);if(i)return makeLink(e,t);s.mkdirs(o,(n=>{if(n)return r(n);makeLink(e,t)}))}))}))}))}function createLinkSync(e,t){const r=o.existsSync(t);if(r)return undefined;try{o.lstatSync(e)}catch(e){e.message=e.message.replace("lstat","ensureLink");throw e}const n=i.dirname(t);const a=o.existsSync(n);if(a)return o.linkSync(e,t);s.mkdirsSync(n);return o.linkSync(e,t)}e.exports={createLink:n(createLink),createLinkSync:createLinkSync}},3727:(e,t,r)=>{"use strict";const n=r(5622);const i=r(7758);const o=r(3835).pathExists;function symlinkPaths(e,t,r){if(n.isAbsolute(e)){return i.lstat(e,(t=>{if(t){t.message=t.message.replace("lstat","ensureSymlink");return r(t)}return r(null,{toCwd:e,toDst:e})}))}else{const s=n.dirname(t);const a=n.join(s,e);return o(a,((t,o)=>{if(t)return r(t);if(o){return r(null,{toCwd:a,toDst:e})}else{return i.lstat(e,(t=>{if(t){t.message=t.message.replace("lstat","ensureSymlink");return r(t)}return r(null,{toCwd:e,toDst:n.relative(s,e)})}))}}))}}function symlinkPathsSync(e,t){let r;if(n.isAbsolute(e)){r=i.existsSync(e);if(!r)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}else{const o=n.dirname(t);const s=n.join(o,e);r=i.existsSync(s);if(r){return{toCwd:s,toDst:e}}else{r=i.existsSync(e);if(!r)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:n.relative(o,e)}}}}e.exports={symlinkPaths:symlinkPaths,symlinkPathsSync:symlinkPathsSync}},8254:(e,t,r)=>{"use strict";const n=r(7758);function symlinkType(e,t,r){r=typeof t==="function"?t:r;t=typeof t==="function"?false:t;if(t)return r(null,t);n.lstat(e,((e,n)=>{if(e)return r(null,"file");t=n&&n.isDirectory()?"dir":"file";r(null,t)}))}function symlinkTypeSync(e,t){let r;if(t)return t;try{r=n.lstatSync(e)}catch(e){return"file"}return r&&r.isDirectory()?"dir":"file"}e.exports={symlinkType:symlinkType,symlinkTypeSync:symlinkTypeSync}},2549:(e,t,r)=>{"use strict";const n=r(9046).E;const i=r(5622);const o=r(7758);const s=r(2915);const a=s.mkdirs;const c=s.mkdirsSync;const l=r(3727);const u=l.symlinkPaths;const d=l.symlinkPathsSync;const p=r(8254);const f=p.symlinkType;const h=p.symlinkTypeSync;const m=r(3835).pathExists;function createSymlink(e,t,r,n){n=typeof r==="function"?r:n;r=typeof r==="function"?false:r;m(t,((s,c)=>{if(s)return n(s);if(c)return n(null);u(e,t,((s,c)=>{if(s)return n(s);e=c.toDst;f(c.toCwd,r,((r,s)=>{if(r)return n(r);const c=i.dirname(t);m(c,((r,i)=>{if(r)return n(r);if(i)return o.symlink(e,t,s,n);a(c,(r=>{if(r)return n(r);o.symlink(e,t,s,n)}))}))}))}))}))}function createSymlinkSync(e,t,r){const n=o.existsSync(t);if(n)return undefined;const s=d(e,t);e=s.toDst;r=h(s.toCwd,r);const a=i.dirname(t);const l=o.existsSync(a);if(l)return o.symlinkSync(e,t,r);c(a);return o.symlinkSync(e,t,r)}e.exports={createSymlink:n(createSymlink),createSymlinkSync:createSymlinkSync}},1176:(e,t,r)=>{"use strict";const n=r(9046).E;const i=r(7758);const o=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchown","lchmod","link","lstat","mkdir","mkdtemp","open","readFile","readdir","readlink","realpath","rename","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter((e=>typeof i[e]==="function"));Object.keys(i).forEach((e=>{if(e==="promises"){return}t[e]=i[e]}));o.forEach((e=>{t[e]=n(i[e])}));t.exists=function(e,t){if(typeof t==="function"){return i.exists(e,t)}return new Promise((t=>i.exists(e,t)))};t.read=function(e,t,r,n,o,s){if(typeof s==="function"){return i.read(e,t,r,n,o,s)}return new Promise(((s,a)=>{i.read(e,t,r,n,o,((e,t,r)=>{if(e)return a(e);s({bytesRead:t,buffer:r})}))}))};t.write=function(e,t,...r){if(typeof r[r.length-1]==="function"){return i.write(e,t,...r)}return new Promise(((n,o)=>{i.write(e,t,...r,((e,t,r)=>{if(e)return o(e);n({bytesWritten:t,buffer:r})}))}))};if(typeof i.realpath.native==="function"){t.realpath.native=n(i.realpath.native)}},5630:(e,t,r)=>{"use strict";e.exports=Object.assign({},r(1176),r(1135),r(1335),r(6970),r(55),r(213),r(2915),r(9665),r(1497),r(6570),r(3835),r(7357));const n=r(5747);if(Object.getOwnPropertyDescriptor(n,"promises")){Object.defineProperty(e.exports,"promises",{get(){return n.promises}})}},213:(e,t,r)=>{"use strict";const n=r(9046).E;const i=r(8970);i.outputJson=n(r(531));i.outputJsonSync=r(9421);i.outputJSON=i.outputJson;i.outputJSONSync=i.outputJsonSync;i.writeJSON=i.writeJson;i.writeJSONSync=i.writeJsonSync;i.readJSON=i.readJson;i.readJSONSync=i.readJsonSync;e.exports=i},8970:(e,t,r)=>{"use strict";const n=r(9046).E;const i=r(6160);e.exports={readJson:n(i.readFile),readJsonSync:i.readFileSync,writeJson:n(i.writeFile),writeJsonSync:i.writeFileSync}},9421:(e,t,r)=>{"use strict";const n=r(7758);const i=r(5622);const o=r(2915);const s=r(8970);function outputJsonSync(e,t,r){const a=i.dirname(e);if(!n.existsSync(a)){o.mkdirsSync(a)}s.writeJsonSync(e,t,r)}e.exports=outputJsonSync},531:(e,t,r)=>{"use strict";const n=r(5622);const i=r(2915);const o=r(3835).pathExists;const s=r(8970);function outputJson(e,t,r,a){if(typeof r==="function"){a=r;r={}}const c=n.dirname(e);o(c,((n,o)=>{if(n)return a(n);if(o)return s.writeJson(e,t,r,a);i.mkdirs(c,(n=>{if(n)return a(n);s.writeJson(e,t,r,a)}))}))}e.exports=outputJson},2915:(e,t,r)=>{"use strict";const n=r(9046).E;const i=n(r(9677));const o=r(684);e.exports={mkdirs:i,mkdirsSync:o,mkdirp:i,mkdirpSync:o,ensureDir:i,ensureDirSync:o}},684:(e,t,r)=>{"use strict";const n=r(7758);const i=r(5622);const o=r(1590).invalidWin32Path;const s=parseInt("0777",8);function mkdirsSync(e,t,r){if(!t||typeof t!=="object"){t={mode:t}}let a=t.mode;const c=t.fs||n;if(process.platform==="win32"&&o(e)){const t=new Error(e+" contains invalid WIN32 path characters.");t.code="EINVAL";throw t}if(a===undefined){a=s&~process.umask()}if(!r)r=null;e=i.resolve(e);try{c.mkdirSync(e,a);r=r||e}catch(n){if(n.code==="ENOENT"){if(i.dirname(e)===e)throw n;r=mkdirsSync(i.dirname(e),t,r);mkdirsSync(e,t,r)}else{let t;try{t=c.statSync(e)}catch(e){throw n}if(!t.isDirectory())throw n}}return r}e.exports=mkdirsSync},9677:(e,t,r)=>{"use strict";const n=r(7758);const i=r(5622);const o=r(1590).invalidWin32Path;const s=parseInt("0777",8);function mkdirs(e,t,r,a){if(typeof t==="function"){r=t;t={}}else if(!t||typeof t!=="object"){t={mode:t}}if(process.platform==="win32"&&o(e)){const t=new Error(e+" contains invalid WIN32 path characters.");t.code="EINVAL";return r(t)}let c=t.mode;const l=t.fs||n;if(c===undefined){c=s&~process.umask()}if(!a)a=null;r=r||function(){};e=i.resolve(e);l.mkdir(e,c,(n=>{if(!n){a=a||e;return r(null,a)}switch(n.code){case"ENOENT":if(i.dirname(e)===e)return r(n);mkdirs(i.dirname(e),t,((n,i)=>{if(n)r(n,i);else mkdirs(e,t,r,i)}));break;default:l.stat(e,((e,t)=>{if(e||!t.isDirectory())r(n,a);else r(null,a)}));break}}))}e.exports=mkdirs},1590:(e,t,r)=>{"use strict";const n=r(5622);function getRootPath(e){e=n.normalize(n.resolve(e)).split(n.sep);if(e.length>0)return e[0];return null}const i=/[<>:"|?*]/;function invalidWin32Path(e){const t=getRootPath(e);e=e.replace(t,"");return i.test(e)}e.exports={getRootPath:getRootPath,invalidWin32Path:invalidWin32Path}},9665:(e,t,r)=>{"use strict";e.exports={moveSync:r(6445)}},6445:(e,t,r)=>{"use strict";const n=r(7758);const i=r(5622);const o=r(1135).copySync;const s=r(7357).removeSync;const a=r(2915).mkdirpSync;const c=r(3901);function moveSync(e,t,r){r=r||{};const n=r.overwrite||r.clobber||false;const{srcStat:o}=c.checkPathsSync(e,t,"move");c.checkParentPathsSync(e,o,t,"move");a(i.dirname(t));return doRename(e,t,n)}function doRename(e,t,r){if(r){s(t);return rename(e,t,r)}if(n.existsSync(t))throw new Error("dest already exists.");return rename(e,t,r)}function rename(e,t,r){try{n.renameSync(e,t)}catch(n){if(n.code!=="EXDEV")throw n;return moveAcrossDevice(e,t,r)}}function moveAcrossDevice(e,t,r){const n={overwrite:r,errorOnExist:true};o(e,t,n);return s(e)}e.exports=moveSync},1497:(e,t,r)=>{"use strict";const n=r(9046).E;e.exports={move:n(r(2231))}},2231:(e,t,r)=>{"use strict";const n=r(7758);const i=r(5622);const o=r(1335).copy;const s=r(7357).remove;const a=r(2915).mkdirp;const c=r(3835).pathExists;const l=r(3901);function move(e,t,r,n){if(typeof r==="function"){n=r;r={}}const o=r.overwrite||r.clobber||false;l.checkPaths(e,t,"move",((r,s)=>{if(r)return n(r);const{srcStat:c}=s;l.checkParentPaths(e,c,t,"move",(r=>{if(r)return n(r);a(i.dirname(t),(r=>{if(r)return n(r);return doRename(e,t,o,n)}))}))}))}function doRename(e,t,r,n){if(r){return s(t,(i=>{if(i)return n(i);return rename(e,t,r,n)}))}c(t,((i,o)=>{if(i)return n(i);if(o)return n(new Error("dest already exists."));return rename(e,t,r,n)}))}function rename(e,t,r,i){n.rename(e,t,(n=>{if(!n)return i();if(n.code!=="EXDEV")return i(n);return moveAcrossDevice(e,t,r,i)}))}function moveAcrossDevice(e,t,r,n){const i={overwrite:r,errorOnExist:true};o(e,t,i,(t=>{if(t)return n(t);return s(e,n)}))}e.exports=move},6570:(e,t,r)=>{"use strict";const n=r(9046).E;const i=r(7758);const o=r(5622);const s=r(2915);const a=r(3835).pathExists;function outputFile(e,t,r,n){if(typeof r==="function"){n=r;r="utf8"}const c=o.dirname(e);a(c,((o,a)=>{if(o)return n(o);if(a)return i.writeFile(e,t,r,n);s.mkdirs(c,(o=>{if(o)return n(o);i.writeFile(e,t,r,n)}))}))}function outputFileSync(e,...t){const r=o.dirname(e);if(i.existsSync(r)){return i.writeFileSync(e,...t)}s.mkdirsSync(r);i.writeFileSync(e,...t)}e.exports={outputFile:n(outputFile),outputFileSync:outputFileSync}},3835:(e,t,r)=>{"use strict";const n=r(9046).p;const i=r(1176);function pathExists(e){return i.access(e).then((()=>true)).catch((()=>false))}e.exports={pathExists:n(pathExists),pathExistsSync:i.existsSync}},7357:(e,t,r)=>{"use strict";const n=r(9046).E;const i=r(8761);e.exports={remove:n(i),removeSync:i.sync}},8761:(e,t,r)=>{"use strict";const n=r(7758);const i=r(5622);const o=r(2357);const s=process.platform==="win32";function defaults(e){const t=["unlink","chmod","stat","lstat","rmdir","readdir"];t.forEach((t=>{e[t]=e[t]||n[t];t=t+"Sync";e[t]=e[t]||n[t]}));e.maxBusyTries=e.maxBusyTries||3}function rimraf(e,t,r){let n=0;if(typeof t==="function"){r=t;t={}}o(e,"rimraf: missing path");o.strictEqual(typeof e,"string","rimraf: path should be a string");o.strictEqual(typeof r,"function","rimraf: callback function required");o(t,"rimraf: invalid options argument provided");o.strictEqual(typeof t,"object","rimraf: options should be object");defaults(t);rimraf_(e,t,(function CB(i){if(i){if((i.code==="EBUSY"||i.code==="ENOTEMPTY"||i.code==="EPERM")&&n<t.maxBusyTries){n++;const r=n*100;return setTimeout((()=>rimraf_(e,t,CB)),r)}if(i.code==="ENOENT")i=null}r(i)}))}function rimraf_(e,t,r){o(e);o(t);o(typeof r==="function");t.lstat(e,((n,i)=>{if(n&&n.code==="ENOENT"){return r(null)}if(n&&n.code==="EPERM"&&s){return fixWinEPERM(e,t,n,r)}if(i&&i.isDirectory()){return rmdir(e,t,n,r)}t.unlink(e,(n=>{if(n){if(n.code==="ENOENT"){return r(null)}if(n.code==="EPERM"){return s?fixWinEPERM(e,t,n,r):rmdir(e,t,n,r)}if(n.code==="EISDIR"){return rmdir(e,t,n,r)}}return r(n)}))}))}function fixWinEPERM(e,t,r,n){o(e);o(t);o(typeof n==="function");if(r){o(r instanceof Error)}t.chmod(e,438,(i=>{if(i){n(i.code==="ENOENT"?null:r)}else{t.stat(e,((i,o)=>{if(i){n(i.code==="ENOENT"?null:r)}else if(o.isDirectory()){rmdir(e,t,r,n)}else{t.unlink(e,n)}}))}}))}function fixWinEPERMSync(e,t,r){let n;o(e);o(t);if(r){o(r instanceof Error)}try{t.chmodSync(e,438)}catch(e){if(e.code==="ENOENT"){return}else{throw r}}try{n=t.statSync(e)}catch(e){if(e.code==="ENOENT"){return}else{throw r}}if(n.isDirectory()){rmdirSync(e,t,r)}else{t.unlinkSync(e)}}function rmdir(e,t,r,n){o(e);o(t);if(r){o(r instanceof Error)}o(typeof n==="function");t.rmdir(e,(i=>{if(i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")){rmkids(e,t,n)}else if(i&&i.code==="ENOTDIR"){n(r)}else{n(i)}}))}function rmkids(e,t,r){o(e);o(t);o(typeof r==="function");t.readdir(e,((n,o)=>{if(n)return r(n);let s=o.length;let a;if(s===0)return t.rmdir(e,r);o.forEach((n=>{rimraf(i.join(e,n),t,(n=>{if(a){return}if(n)return r(a=n);if(--s===0){t.rmdir(e,r)}}))}))}))}function rimrafSync(e,t){let r;t=t||{};defaults(t);o(e,"rimraf: missing path");o.strictEqual(typeof e,"string","rimraf: path should be a string");o(t,"rimraf: missing options");o.strictEqual(typeof t,"object","rimraf: options should be object");try{r=t.lstatSync(e)}catch(r){if(r.code==="ENOENT"){return}if(r.code==="EPERM"&&s){fixWinEPERMSync(e,t,r)}}try{if(r&&r.isDirectory()){rmdirSync(e,t,null)}else{t.unlinkSync(e)}}catch(r){if(r.code==="ENOENT"){return}else if(r.code==="EPERM"){return s?fixWinEPERMSync(e,t,r):rmdirSync(e,t,r)}else if(r.code!=="EISDIR"){throw r}rmdirSync(e,t,r)}}function rmdirSync(e,t,r){o(e);o(t);if(r){o(r instanceof Error)}try{t.rmdirSync(e)}catch(n){if(n.code==="ENOTDIR"){throw r}else if(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM"){rmkidsSync(e,t)}else if(n.code!=="ENOENT"){throw n}}}function rmkidsSync(e,t){o(e);o(t);t.readdirSync(e).forEach((r=>rimrafSync(i.join(e,r),t)));if(s){const r=Date.now();do{try{const r=t.rmdirSync(e,t);return r}catch(e){}}while(Date.now()-r<500)}else{const r=t.rmdirSync(e,t);return r}}e.exports=rimraf;rimraf.sync=rimrafSync},7696:e=>{"use strict";e.exports=function(e){if(typeof Buffer.allocUnsafe==="function"){try{return Buffer.allocUnsafe(e)}catch(t){return new Buffer(e)}}return new Buffer(e)}},3901:(e,t,r)=>{"use strict";const n=r(7758);const i=r(5622);const o=10;const s=5;const a=0;const c=process.versions.node.split(".");const l=Number.parseInt(c[0],10);const u=Number.parseInt(c[1],10);const d=Number.parseInt(c[2],10);function nodeSupportsBigInt(){if(l>o){return true}else if(l===o){if(u>s){return true}else if(u===s){if(d>=a){return true}}}return false}function getStats(e,t,r){if(nodeSupportsBigInt()){n.stat(e,{bigint:true},((e,i)=>{if(e)return r(e);n.stat(t,{bigint:true},((e,t)=>{if(e){if(e.code==="ENOENT")return r(null,{srcStat:i,destStat:null});return r(e)}return r(null,{srcStat:i,destStat:t})}))}))}else{n.stat(e,((e,i)=>{if(e)return r(e);n.stat(t,((e,t)=>{if(e){if(e.code==="ENOENT")return r(null,{srcStat:i,destStat:null});return r(e)}return r(null,{srcStat:i,destStat:t})}))}))}}function getStatsSync(e,t){let r,i;if(nodeSupportsBigInt()){r=n.statSync(e,{bigint:true})}else{r=n.statSync(e)}try{if(nodeSupportsBigInt()){i=n.statSync(t,{bigint:true})}else{i=n.statSync(t)}}catch(e){if(e.code==="ENOENT")return{srcStat:r,destStat:null};throw e}return{srcStat:r,destStat:i}}function checkPaths(e,t,r,n){getStats(e,t,((i,o)=>{if(i)return n(i);const{srcStat:s,destStat:a}=o;if(a&&a.ino&&a.dev&&a.ino===s.ino&&a.dev===s.dev){return n(new Error("Source and destination must not be the same."))}if(s.isDirectory()&&isSrcSubdir(e,t)){return n(new Error(errMsg(e,t,r)))}return n(null,{srcStat:s,destStat:a})}))}function checkPathsSync(e,t,r){const{srcStat:n,destStat:i}=getStatsSync(e,t);if(i&&i.ino&&i.dev&&i.ino===n.ino&&i.dev===n.dev){throw new Error("Source and destination must not be the same.")}if(n.isDirectory()&&isSrcSubdir(e,t)){throw new Error(errMsg(e,t,r))}return{srcStat:n,destStat:i}}function checkParentPaths(e,t,r,o,s){const a=i.resolve(i.dirname(e));const c=i.resolve(i.dirname(r));if(c===a||c===i.parse(c).root)return s();if(nodeSupportsBigInt()){n.stat(c,{bigint:true},((n,i)=>{if(n){if(n.code==="ENOENT")return s();return s(n)}if(i.ino&&i.dev&&i.ino===t.ino&&i.dev===t.dev){return s(new Error(errMsg(e,r,o)))}return checkParentPaths(e,t,c,o,s)}))}else{n.stat(c,((n,i)=>{if(n){if(n.code==="ENOENT")return s();return s(n)}if(i.ino&&i.dev&&i.ino===t.ino&&i.dev===t.dev){return s(new Error(errMsg(e,r,o)))}return checkParentPaths(e,t,c,o,s)}))}}function checkParentPathsSync(e,t,r,o){const s=i.resolve(i.dirname(e));const a=i.resolve(i.dirname(r));if(a===s||a===i.parse(a).root)return;let c;try{if(nodeSupportsBigInt()){c=n.statSync(a,{bigint:true})}else{c=n.statSync(a)}}catch(e){if(e.code==="ENOENT")return;throw e}if(c.ino&&c.dev&&c.ino===t.ino&&c.dev===t.dev){throw new Error(errMsg(e,r,o))}return checkParentPathsSync(e,t,a,o)}function isSrcSubdir(e,t){const r=i.resolve(e).split(i.sep).filter((e=>e));const n=i.resolve(t).split(i.sep).filter((e=>e));return r.reduce(((e,t,r)=>e&&n[r]===t),true)}function errMsg(e,t,r){return`Cannot ${r} '${e}' to a subdirectory of itself, '${t}'.`}e.exports={checkPaths:checkPaths,checkPathsSync:checkPathsSync,checkParentPaths:checkParentPaths,checkParentPathsSync:checkParentPathsSync,isSrcSubdir:isSrcSubdir}},2548:(e,t,r)=>{"use strict";const n=r(7758);const i=r(2087);const o=r(5622);function hasMillisResSync(){let e=o.join("millis-test-sync"+Date.now().toString()+Math.random().toString().slice(2));e=o.join(i.tmpdir(),e);const t=new Date(1435410243862);n.writeFileSync(e,"https://github.com/jprichardson/node-fs-extra/pull/141");const r=n.openSync(e,"r+");n.futimesSync(r,t,t);n.closeSync(r);return n.statSync(e).mtime>1435410243e3}function hasMillisRes(e){let t=o.join("millis-test"+Date.now().toString()+Math.random().toString().slice(2));t=o.join(i.tmpdir(),t);const r=new Date(1435410243862);n.writeFile(t,"https://github.com/jprichardson/node-fs-extra/pull/141",(i=>{if(i)return e(i);n.open(t,"r+",((i,o)=>{if(i)return e(i);n.futimes(o,r,r,(r=>{if(r)return e(r);n.close(o,(r=>{if(r)return e(r);n.stat(t,((t,r)=>{if(t)return e(t);e(null,r.mtime>1435410243e3)}))}))}))}))}))}function timeRemoveMillis(e){if(typeof e==="number"){return Math.floor(e/1e3)*1e3}else if(e instanceof Date){return new Date(Math.floor(e.getTime()/1e3)*1e3)}else{throw new Error("fs-extra: timeRemoveMillis() unknown parameter type")}}function utimesMillis(e,t,r,i){n.open(e,"r+",((e,o)=>{if(e)return i(e);n.futimes(o,t,r,(e=>{n.close(o,(t=>{if(i)i(e||t)}))}))}))}function utimesMillisSync(e,t,r){const i=n.openSync(e,"r+");n.futimesSync(i,t,r);return n.closeSync(i)}e.exports={hasMillisRes:hasMillisRes,hasMillisResSync:hasMillisResSync,timeRemoveMillis:timeRemoveMillis,utimesMillis:utimesMillis,utimesMillisSync:utimesMillisSync}},8173:e=>{"use strict";e.exports=clone;var t=Object.getPrototypeOf||function(e){return e.__proto__};function clone(e){if(e===null||typeof e!=="object")return e;if(e instanceof Object)var r={__proto__:t(e)};else var r=Object.create(null);Object.getOwnPropertyNames(e).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))}));return r}},7758:(e,t,r)=>{var n=r(5747);var i=r(263);var o=r(3086);var s=r(8173);var a=r(1669);var c;var l;if(typeof Symbol==="function"&&typeof Symbol.for==="function"){c=Symbol.for("graceful-fs.queue");l=Symbol.for("graceful-fs.previous")}else{c="___graceful-fs.queue";l="___graceful-fs.previous"}function noop(){}function publishQueue(e,t){Object.defineProperty(e,c,{get:function(){return t}})}var u=noop;if(a.debuglog)u=a.debuglog("gfs4");else if(/\bgfs4\b/i.test(process.env.NODE_DEBUG||""))u=function(){var e=a.format.apply(a,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: ");console.error(e)};if(!n[c]){var d=global[c]||[];publishQueue(n,d);n.close=function(e){function close(t,r){return e.call(n,t,(function(e){if(!e){resetQueue()}if(typeof r==="function")r.apply(this,arguments)}))}Object.defineProperty(close,l,{value:e});return close}(n.close);n.closeSync=function(e){function closeSync(t){e.apply(n,arguments);resetQueue()}Object.defineProperty(closeSync,l,{value:e});return closeSync}(n.closeSync);if(/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")){process.on("exit",(function(){u(n[c]);r(2357).equal(n[c].length,0)}))}}if(!global[c]){publishQueue(global,n[c])}e.exports=patch(s(n));if(process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!n.__patched){e.exports=patch(n);n.__patched=true}function patch(e){i(e);e.gracefulify=patch;e.createReadStream=createReadStream;e.createWriteStream=createWriteStream;var t=e.readFile;e.readFile=readFile;function readFile(e,r,n){if(typeof r==="function")n=r,r=null;return go$readFile(e,r,n);function go$readFile(e,r,n,i){return t(e,r,(function(t){if(t&&(t.code==="EMFILE"||t.code==="ENFILE"))enqueue([go$readFile,[e,r,n],t,i||Date.now(),Date.now()]);else{if(typeof n==="function")n.apply(this,arguments)}}))}}var r=e.writeFile;e.writeFile=writeFile;function writeFile(e,t,n,i){if(typeof n==="function")i=n,n=null;return go$writeFile(e,t,n,i);function go$writeFile(e,t,n,i,o){return r(e,t,n,(function(r){if(r&&(r.code==="EMFILE"||r.code==="ENFILE"))enqueue([go$writeFile,[e,t,n,i],r,o||Date.now(),Date.now()]);else{if(typeof i==="function")i.apply(this,arguments)}}))}}var n=e.appendFile;if(n)e.appendFile=appendFile;function appendFile(e,t,r,i){if(typeof r==="function")i=r,r=null;return go$appendFile(e,t,r,i);function go$appendFile(e,t,r,i,o){return n(e,t,r,(function(n){if(n&&(n.code==="EMFILE"||n.code==="ENFILE"))enqueue([go$appendFile,[e,t,r,i],n,o||Date.now(),Date.now()]);else{if(typeof i==="function")i.apply(this,arguments)}}))}}var s=e.copyFile;if(s)e.copyFile=copyFile;function copyFile(e,t,r,n){if(typeof r==="function"){n=r;r=0}return go$copyFile(e,t,r,n);function go$copyFile(e,t,r,n,i){return s(e,t,r,(function(o){if(o&&(o.code==="EMFILE"||o.code==="ENFILE"))enqueue([go$copyFile,[e,t,r,n],o,i||Date.now(),Date.now()]);else{if(typeof n==="function")n.apply(this,arguments)}}))}}var a=e.readdir;e.readdir=readdir;var c=/^v[0-5]\./;function readdir(e,t,r){if(typeof t==="function")r=t,t=null;var n=c.test(process.version)?function go$readdir(e,t,r,n){return a(e,fs$readdirCallback(e,t,r,n))}:function go$readdir(e,t,r,n){return a(e,t,fs$readdirCallback(e,t,r,n))};return n(e,t,r);function fs$readdirCallback(e,t,r,i){return function(o,s){if(o&&(o.code==="EMFILE"||o.code==="ENFILE"))enqueue([n,[e,t,r],o,i||Date.now(),Date.now()]);else{if(s&&s.sort)s.sort();if(typeof r==="function")r.call(this,o,s)}}}}if(process.version.substr(0,4)==="v0.8"){var l=o(e);ReadStream=l.ReadStream;WriteStream=l.WriteStream}var u=e.ReadStream;if(u){ReadStream.prototype=Object.create(u.prototype);ReadStream.prototype.open=ReadStream$open}var d=e.WriteStream;if(d){WriteStream.prototype=Object.create(d.prototype);WriteStream.prototype.open=WriteStream$open}Object.defineProperty(e,"ReadStream",{get:function(){return ReadStream},set:function(e){ReadStream=e},enumerable:true,configurable:true});Object.defineProperty(e,"WriteStream",{get:function(){return WriteStream},set:function(e){WriteStream=e},enumerable:true,configurable:true});var p=ReadStream;Object.defineProperty(e,"FileReadStream",{get:function(){return p},set:function(e){p=e},enumerable:true,configurable:true});var f=WriteStream;Object.defineProperty(e,"FileWriteStream",{get:function(){return f},set:function(e){f=e},enumerable:true,configurable:true});function ReadStream(e,t){if(this instanceof ReadStream)return u.apply(this,arguments),this;else return ReadStream.apply(Object.create(ReadStream.prototype),arguments)}function ReadStream$open(){var e=this;open(e.path,e.flags,e.mode,(function(t,r){if(t){if(e.autoClose)e.destroy();e.emit("error",t)}else{e.fd=r;e.emit("open",r);e.read()}}))}function WriteStream(e,t){if(this instanceof WriteStream)return d.apply(this,arguments),this;else return WriteStream.apply(Object.create(WriteStream.prototype),arguments)}function WriteStream$open(){var e=this;open(e.path,e.flags,e.mode,(function(t,r){if(t){e.destroy();e.emit("error",t)}else{e.fd=r;e.emit("open",r)}}))}function createReadStream(t,r){return new e.ReadStream(t,r)}function createWriteStream(t,r){return new e.WriteStream(t,r)}var h=e.open;e.open=open;function open(e,t,r,n){if(typeof r==="function")n=r,r=null;return go$open(e,t,r,n);function go$open(e,t,r,n,i){return h(e,t,r,(function(o,s){if(o&&(o.code==="EMFILE"||o.code==="ENFILE"))enqueue([go$open,[e,t,r,n],o,i||Date.now(),Date.now()]);else{if(typeof n==="function")n.apply(this,arguments)}}))}}return e}function enqueue(e){u("ENQUEUE",e[0].name,e[1]);n[c].push(e);retry()}var p;function resetQueue(){var e=Date.now();for(var t=0;t<n[c].length;++t){if(n[c][t].length>2){n[c][t][3]=e;n[c][t][4]=e}}retry()}function retry(){clearTimeout(p);p=undefined;if(n[c].length===0)return;var e=n[c].shift();var t=e[0];var r=e[1];var i=e[2];var o=e[3];var s=e[4];if(o===undefined){u("RETRY",t.name,r);t.apply(null,r)}else if(Date.now()-o>=6e4){u("TIMEOUT",t.name,r);var a=r.pop();if(typeof a==="function")a.call(null,i)}else{var l=Date.now()-s;var d=Math.max(s-o,1);var f=Math.min(d*1.2,100);if(l>=f){u("RETRY",t.name,r);t.apply(null,r.concat([o]))}else{n[c].push(e)}}if(p===undefined){p=setTimeout(retry,0)}}},3086:(e,t,r)=>{var n=r(2413).Stream;e.exports=legacy;function legacy(e){return{ReadStream:ReadStream,WriteStream:WriteStream};function ReadStream(t,r){if(!(this instanceof ReadStream))return new ReadStream(t,r);n.call(this);var i=this;this.path=t;this.fd=null;this.readable=true;this.paused=false;this.flags="r";this.mode=438;this.bufferSize=64*1024;r=r||{};var o=Object.keys(r);for(var s=0,a=o.length;s<a;s++){var c=o[s];this[c]=r[c]}if(this.encoding)this.setEncoding(this.encoding);if(this.start!==undefined){if("number"!==typeof this.start){throw TypeError("start must be a Number")}if(this.end===undefined){this.end=Infinity}else if("number"!==typeof this.end){throw TypeError("end must be a Number")}if(this.start>this.end){throw new Error("start must be <= end")}this.pos=this.start}if(this.fd!==null){process.nextTick((function(){i._read()}));return}e.open(this.path,this.flags,this.mode,(function(e,t){if(e){i.emit("error",e);i.readable=false;return}i.fd=t;i.emit("open",t);i._read()}))}function WriteStream(t,r){if(!(this instanceof WriteStream))return new WriteStream(t,r);n.call(this);this.path=t;this.fd=null;this.writable=true;this.flags="w";this.encoding="binary";this.mode=438;this.bytesWritten=0;r=r||{};var i=Object.keys(r);for(var o=0,s=i.length;o<s;o++){var a=i[o];this[a]=r[a]}if(this.start!==undefined){if("number"!==typeof this.start){throw TypeError("start must be a Number")}if(this.start<0){throw new Error("start must be >= zero")}this.pos=this.start}this.busy=false;this._queue=[];if(this.fd===null){this._open=e.open;this._queue.push([this._open,this.path,this.flags,this.mode,undefined]);this.flush()}}}},263:(e,t,r)=>{var n=r(7619);var i=process.cwd;var o=null;var s=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){if(!o)o=i.call(process);return o};try{process.cwd()}catch(e){}if(typeof process.chdir==="function"){var a=process.chdir;process.chdir=function(e){o=null;a.call(process,e)};if(Object.setPrototypeOf)Object.setPrototypeOf(process.chdir,a)}e.exports=patch;function patch(e){if(n.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)){patchLchmod(e)}if(!e.lutimes){patchLutimes(e)}e.chown=chownFix(e.chown);e.fchown=chownFix(e.fchown);e.lchown=chownFix(e.lchown);e.chmod=chmodFix(e.chmod);e.fchmod=chmodFix(e.fchmod);e.lchmod=chmodFix(e.lchmod);e.chownSync=chownFixSync(e.chownSync);e.fchownSync=chownFixSync(e.fchownSync);e.lchownSync=chownFixSync(e.lchownSync);e.chmodSync=chmodFixSync(e.chmodSync);e.fchmodSync=chmodFixSync(e.fchmodSync);e.lchmodSync=chmodFixSync(e.lchmodSync);e.stat=statFix(e.stat);e.fstat=statFix(e.fstat);e.lstat=statFix(e.lstat);e.statSync=statFixSync(e.statSync);e.fstatSync=statFixSync(e.fstatSync);e.lstatSync=statFixSync(e.lstatSync);if(e.chmod&&!e.lchmod){e.lchmod=function(e,t,r){if(r)process.nextTick(r)};e.lchmodSync=function(){}}if(e.chown&&!e.lchown){e.lchown=function(e,t,r,n){if(n)process.nextTick(n)};e.lchownSync=function(){}}if(s==="win32"){e.rename=typeof e.rename!=="function"?e.rename:function(t){function rename(r,n,i){var o=Date.now();var s=0;t(r,n,(function CB(a){if(a&&(a.code==="EACCES"||a.code==="EPERM")&&Date.now()-o<6e4){setTimeout((function(){e.stat(n,(function(e,o){if(e&&e.code==="ENOENT")t(r,n,CB);else i(a)}))}),s);if(s<100)s+=10;return}if(i)i(a)}))}if(Object.setPrototypeOf)Object.setPrototypeOf(rename,t);return rename}(e.rename)}e.read=typeof e.read!=="function"?e.read:function(t){function read(r,n,i,o,s,a){var c;if(a&&typeof a==="function"){var l=0;c=function(u,d,p){if(u&&u.code==="EAGAIN"&&l<10){l++;return t.call(e,r,n,i,o,s,c)}a.apply(this,arguments)}}return t.call(e,r,n,i,o,s,c)}if(Object.setPrototypeOf)Object.setPrototypeOf(read,t);return read}(e.read);e.readSync=typeof e.readSync!=="function"?e.readSync:function(t){return function(r,n,i,o,s){var a=0;while(true){try{return t.call(e,r,n,i,o,s)}catch(e){if(e.code==="EAGAIN"&&a<10){a++;continue}throw e}}}}(e.readSync);function patchLchmod(e){e.lchmod=function(t,r,i){e.open(t,n.O_WRONLY|n.O_SYMLINK,r,(function(t,n){if(t){if(i)i(t);return}e.fchmod(n,r,(function(t){e.close(n,(function(e){if(i)i(t||e)}))}))}))};e.lchmodSync=function(t,r){var i=e.openSync(t,n.O_WRONLY|n.O_SYMLINK,r);var o=true;var s;try{s=e.fchmodSync(i,r);o=false}finally{if(o){try{e.closeSync(i)}catch(e){}}else{e.closeSync(i)}}return s}}function patchLutimes(e){if(n.hasOwnProperty("O_SYMLINK")&&e.futimes){e.lutimes=function(t,r,i,o){e.open(t,n.O_SYMLINK,(function(t,n){if(t){if(o)o(t);return}e.futimes(n,r,i,(function(t){e.close(n,(function(e){if(o)o(t||e)}))}))}))};e.lutimesSync=function(t,r,i){var o=e.openSync(t,n.O_SYMLINK);var s;var a=true;try{s=e.futimesSync(o,r,i);a=false}finally{if(a){try{e.closeSync(o)}catch(e){}}else{e.closeSync(o)}}return s}}else if(e.futimes){e.lutimes=function(e,t,r,n){if(n)process.nextTick(n)};e.lutimesSync=function(){}}}function chmodFix(t){if(!t)return t;return function(r,n,i){return t.call(e,r,n,(function(e){if(chownErOk(e))e=null;if(i)i.apply(this,arguments)}))}}function chmodFixSync(t){if(!t)return t;return function(r,n){try{return t.call(e,r,n)}catch(e){if(!chownErOk(e))throw e}}}function chownFix(t){if(!t)return t;return function(r,n,i,o){return t.call(e,r,n,i,(function(e){if(chownErOk(e))e=null;if(o)o.apply(this,arguments)}))}}function chownFixSync(t){if(!t)return t;return function(r,n,i){try{return t.call(e,r,n,i)}catch(e){if(!chownErOk(e))throw e}}}function statFix(t){if(!t)return t;return function(r,n,i){if(typeof n==="function"){i=n;n=null}function callback(e,t){if(t){if(t.uid<0)t.uid+=4294967296;if(t.gid<0)t.gid+=4294967296}if(i)i.apply(this,arguments)}return n?t.call(e,r,n,callback):t.call(e,r,callback)}}function statFixSync(t){if(!t)return t;return function(r,n){var i=n?t.call(e,r,n):t.call(e,r);if(i){if(i.uid<0)i.uid+=4294967296;if(i.gid<0)i.gid+=4294967296}return i}}function chownErOk(e){if(!e)return true;if(e.code==="ENOSYS")return true;var t=!process.getuid||process.getuid()!==0;if(t){if(e.code==="EINVAL"||e.code==="EPERM")return true}return false}}},1621:e=>{"use strict";e.exports=(e,t=process.argv)=>{const r=e.startsWith("-")?"":e.length===1?"-":"--";const n=t.indexOf(r+e);const i=t.indexOf("--");return n!==-1&&(i===-1||n<i)}},6160:(e,t,r)=>{var n;try{n=r(7758)}catch(e){n=r(5747)}function readFile(e,t,r){if(r==null){r=t;t={}}if(typeof t==="string"){t={encoding:t}}t=t||{};var i=t.fs||n;var o=true;if("throws"in t){o=t.throws}i.readFile(e,t,(function(n,i){if(n)return r(n);i=stripBom(i);var s;try{s=JSON.parse(i,t?t.reviver:null)}catch(t){if(o){t.message=e+": "+t.message;return r(t)}else{return r(null,null)}}r(null,s)}))}function readFileSync(e,t){t=t||{};if(typeof t==="string"){t={encoding:t}}var r=t.fs||n;var i=true;if("throws"in t){i=t.throws}try{var o=r.readFileSync(e,t);o=stripBom(o);return JSON.parse(o,t.reviver)}catch(t){if(i){t.message=e+": "+t.message;throw t}else{return null}}}function stringify(e,t){var r;var n="\n";if(typeof t==="object"&&t!==null){if(t.spaces){r=t.spaces}if(t.EOL){n=t.EOL}}var i=JSON.stringify(e,t?t.replacer:null,r);return i.replace(/\n/g,n)+n}function writeFile(e,t,r,i){if(i==null){i=r;r={}}r=r||{};var o=r.fs||n;var s="";try{s=stringify(t,r)}catch(e){if(i)i(e,null);return}o.writeFile(e,s,r,i)}function writeFileSync(e,t,r){r=r||{};var i=r.fs||n;var o=stringify(t,r);return i.writeFileSync(e,o,r)}function stripBom(e){if(Buffer.isBuffer(e))e=e.toString("utf8");e=e.replace(/^\uFEFF/,"");return e}var i={readFile:readFile,readFileSync:readFileSync,writeFile:writeFile,writeFileSync:writeFileSync};e.exports=i},9060:(e,t,r)=>{const n=r(9511);const i=r(7117);class SerDe{constructor(){const e={__LOG4JS_undefined__:undefined,__LOG4JS_NaN__:Number("abc"),__LOG4JS_Infinity__:1/0,"__LOG4JS_-Infinity__":-1/0};this.deMap=e;this.serMap={};Object.keys(this.deMap).forEach((e=>{const t=this.deMap[e];this.serMap[t]=e}))}canSerialise(e){if(typeof e==="string")return false;return e in this.serMap}serialise(e){if(this.canSerialise(e))return this.serMap[e];return e}canDeserialise(e){return e in this.deMap}deserialise(e){if(this.canDeserialise(e))return this.deMap[e];return e}}const o=new SerDe;class LoggingEvent{constructor(e,t,r,n,i,o){this.startTime=new Date;this.categoryName=e;this.data=r;this.level=t;this.context=Object.assign({},n);this.pid=process.pid;this.error=o;if(typeof i!=="undefined"){if(!i||typeof i!=="object"||Array.isArray(i))throw new TypeError("Invalid location type passed to LoggingEvent constructor");this.constructor._getLocationKeys().forEach((e=>{if(typeof i[e]!=="undefined")this[e]=i[e]}))}}static _getLocationKeys(){return["fileName","lineNumber","columnNumber","callStack","className","functionName","functionAlias","callerName"]}serialise(){return n.stringify(this,((e,t)=>{if(t instanceof Error){t=Object.assign({message:t.message,stack:t.stack},t)}return o.serialise(t)}))}static deserialise(e){let t;try{const r=n.parse(e,((e,t)=>{if(t&&t.message&&t.stack){const e=new Error(t);Object.keys(t).forEach((r=>{e[r]=t[r]}));t=e}return o.deserialise(t)}));this._getLocationKeys().forEach((e=>{if(typeof r[e]!=="undefined"){if(!r.location)r.location={};r.location[e]=r[e]}}));t=new LoggingEvent(r.categoryName,i.getLevel(r.level.levelStr),r.data,r.context,r.location,r.error);t.startTime=new Date(r.startTime);t.pid=r.pid;if(r.cluster){t.cluster=r.cluster}}catch(r){t=new LoggingEvent("log4js",i.ERROR,["Unable to parse log:",e,"because: ",r])}return t}}e.exports=LoggingEvent},3915:e=>{function maxFileSizeUnitTransform(e){if(typeof e==="number"&&Number.isInteger(e)){return e}const t={K:1024,M:1024*1024,G:1024*1024*1024};const r=Object.keys(t);const n=e.slice(-1).toLocaleUpperCase();const i=e.slice(0,-1).trim();if(r.indexOf(n)<0||!Number.isInteger(Number(i))){throw Error(`maxLogSize: "${e}" is invalid`)}else{return i*t[n]}}function adapter(e,t){const r=Object.assign({},t);Object.keys(e).forEach((n=>{if(r[n]){r[n]=e[n](t[n])}}));return r}function fileAppenderAdapter(e){const t={maxLogSize:maxFileSizeUnitTransform};return adapter(t,e)}const t={dateFile:fileAppenderAdapter,file:fileAppenderAdapter,fileSync:fileAppenderAdapter};e.exports.modifyConfig=e=>t[e.type]?t[e.type](e):e},8712:(e,t,r)=>{const n=r(8237)("log4js:categoryFilter");function categoryFilter(e,t){if(typeof e==="string")e=[e];return r=>{n(`Checking ${r.categoryName} against ${e}`);if(e.indexOf(r.categoryName)===-1){n("Not excluded, sending to appender");t(r)}}}function configure(e,t,r){const n=r(e.appender);return categoryFilter(e.exclude,n)}e.exports.configure=configure},4813:e=>{const t=console.log.bind(console);function consoleAppender(e,r){return n=>{t(e(n,r))}}function configure(e,t){let r=t.colouredLayout;if(e.layout){r=t.layout(e.layout.type,e.layout)}return consoleAppender(r,e.timezoneOffset)}e.exports.configure=configure},1339:(e,t,r)=>{const n=r(5735);const i=r(2087);const o=i.EOL;function openTheStream(e,t,r){const i=new n.DateRollingFileStream(e,t,r);i.on("error",(t=>{console.error("log4js.dateFileAppender - Writing to file %s, error happened ",e,t)}));i.on("drain",(()=>{process.emit("log4js:pause",false)}));return i}function appender(e,t,r,n,i){n.maxSize=n.maxLogSize;const s=openTheStream(e,t,n);const app=function(e){if(!s.writable){return}if(!s.write(r(e,i)+o,"utf8")){process.emit("log4js:pause",true)}};app.shutdown=function(e){s.end("","utf-8",e)};return app}function configure(e,t){let r=t.basicLayout;if(e.layout){r=t.layout(e.layout.type,e.layout)}if(!e.alwaysIncludePattern){e.alwaysIncludePattern=false}e.mode=e.mode||384;return appender(e.filename,e.pattern,r,e,e.timezoneOffset)}e.exports.configure=configure},9128:(e,t,r)=>{const n=r(8237)("log4js:file");const i=r(5622);const o=r(5735);const s=r(2087);const a=s.EOL;let c=false;const l=new Set;function mainSighupHandler(){l.forEach((e=>{e.sighupHandler()}))}function fileAppender(e,t,r,u,d,p){if(typeof e!=="string"||e.length===0){throw new Error(`Invalid filename: ${e}`)}else if(e.endsWith(i.sep)){throw new Error(`Filename is a directory: ${e}`)}else{e=e.replace(new RegExp(`^~(?=${i.sep}.+)`),s.homedir())}e=i.normalize(e);u=!u&&u!==0?5:u;n("Creating file appender (",e,", ",r,", ",u,", ",d,", ",p,")");function openTheStream(e,t,r,n){const i=new o.RollingFileStream(e,t,r,n);i.on("error",(t=>{console.error("log4js.fileAppender - Writing to file %s, error happened ",e,t)}));i.on("drain",(()=>{process.emit("log4js:pause",false)}));return i}let f=openTheStream(e,r,u,d);const app=function(e){if(!f.writable){return}if(d.removeColor===true){const t=/\x1b[[0-9;]*m/g;e.data=e.data.map((e=>{if(typeof e==="string")return e.replace(t,"");return e}))}if(!f.write(t(e,p)+a,"utf8")){process.emit("log4js:pause",true)}};app.reopen=function(){f.end((()=>{f=openTheStream(e,r,u,d)}))};app.sighupHandler=function(){n("SIGHUP handler called.");app.reopen()};app.shutdown=function(e){l.delete(app);if(l.size===0&&c){process.removeListener("SIGHUP",mainSighupHandler);c=false}f.end("","utf-8",e)};l.add(app);if(!c){process.on("SIGHUP",mainSighupHandler);c=true}return app}function configure(e,t){let r=t.basicLayout;if(e.layout){r=t.layout(e.layout.type,e.layout)}e.mode=e.mode||384;return fileAppender(e.filename,r,e.maxLogSize,e.backups,e,e.timezoneOffset)}e.exports.configure=configure},8910:(e,t,r)=>{const n=r(8237)("log4js:fileSync");const i=r(5622);const o=r(5747);const s=r(2087);const a=s.EOL;function touchFile(e,t){const mkdir=e=>{try{return o.mkdirSync(e,{recursive:true})}catch(t){if(t.code==="ENOENT"){mkdir(i.dirname(e));return mkdir(e)}if(t.code!=="EEXIST"&&t.code!=="EROFS"){throw t}else{try{if(o.statSync(e).isDirectory()){return e}throw t}catch(e){throw t}}}};mkdir(i.dirname(e));o.appendFileSync(e,"",{mode:t.mode,flag:t.flags})}class RollingFileSync{constructor(e,t,r,i){n("In RollingFileStream");if(t<0){throw new Error(`maxLogSize (${t}) should be > 0`)}this.filename=e;this.size=t;this.backups=r;this.options=i;this.currentSize=0;function currentFileSize(e){let t=0;try{t=o.statSync(e).size}catch(t){touchFile(e,i)}return t}this.currentSize=currentFileSize(this.filename)}shouldRoll(){n("should roll with current size %d, and max size %d",this.currentSize,this.size);return this.currentSize>=this.size}roll(e){const t=this;const r=new RegExp(`^${i.basename(e)}`);function justTheseFiles(e){return r.test(e)}function index(t){return parseInt(t.slice(`${i.basename(e)}.`.length),10)||0}function byIndex(e,t){return index(e)-index(t)}function increaseFileIndex(r){const s=index(r);n(`Index of ${r} is ${s}`);if(t.backups===0){o.truncateSync(e,0)}else if(s<t.backups){try{o.unlinkSync(`${e}.${s+1}`)}catch(e){}n(`Renaming ${r} -> ${e}.${s+1}`);o.renameSync(i.join(i.dirname(e),r),`${e}.${s+1}`)}}function renameTheFiles(){n("Renaming the old files");const t=o.readdirSync(i.dirname(e));t.filter(justTheseFiles).sort(byIndex).reverse().forEach(increaseFileIndex)}n("Rolling, rolling, rolling");renameTheFiles()}write(e,t){const r=this;function writeTheChunk(){n("writing the chunk to the file");r.currentSize+=e.length;o.appendFileSync(r.filename,e)}n("in write");if(this.shouldRoll()){this.currentSize=0;this.roll(this.filename)}writeTheChunk()}}function fileAppender(e,t,r,c,l,u){if(typeof e!=="string"||e.length===0){throw new Error(`Invalid filename: ${e}`)}else if(e.endsWith(i.sep)){throw new Error(`Filename is a directory: ${e}`)}else{e=e.replace(new RegExp(`^~(?=${i.sep}.+)`),s.homedir())}e=i.normalize(e);c=!c&&c!==0?5:c;n("Creating fileSync appender (",e,", ",r,", ",c,", ",l,", ",u,")");function openTheStream(e,t,r){let n;if(t){n=new RollingFileSync(e,t,r,l)}else{n=(e=>{touchFile(e,l);return{write(t){o.appendFileSync(e,t)}}})(e)}return n}const d=openTheStream(e,r,c);return e=>{d.write(t(e,u)+a)}}function configure(e,t){let r=t.basicLayout;if(e.layout){r=t.layout(e.layout.type,e.layout)}const n={flags:e.flags||"a",encoding:e.encoding||"utf8",mode:e.mode||384};return fileAppender(e.filename,r,e.maxLogSize,e.backups,n,e.timezoneOffset)}e.exports.configure=configure},5709:(e,t,r)=>{const n=r(5622);const i=r(8237)("log4js:appenders");const o=r(5813);const s=r(2560);const a=r(7117);const c=r(2680);const l=r(3915);const u=new Map;u.set("console",r(4813));u.set("stdout",r(9601));u.set("stderr",r(6451));u.set("logLevelFilter",r(790));u.set("categoryFilter",r(8712));u.set("noLogFilter",r(3164));u.set("file",r(9128));u.set("dateFile",r(1339));u.set("fileSync",r(8910));u.set("tcp",r(2957));const d=new Map;const tryLoading=(e,t)=>{let r;try{const t=`${e}.cjs`;r=require.resolve(t);i("Loading module from ",t)}catch(t){r=e;i("Loading module from ",e)}try{return require(r)}catch(r){o.throwExceptionIf(t,r.code!=="MODULE_NOT_FOUND",`appender "${e}" could not be loaded (error was: ${r})`);return undefined}};const loadAppenderModule=(e,t)=>u.get(e)||tryLoading(`./${e}`,t)||tryLoading(e,t)||require.main&&require.main.filename&&tryLoading(n.join(n.dirname(require.main.filename),e),t)||tryLoading(n.join(process.cwd(),e),t);const p=new Set;const getAppender=(e,t)=>{if(d.has(e))return d.get(e);if(!t.appenders[e])return false;if(p.has(e))throw new Error(`Dependency loop detected for appender ${e}.`);p.add(e);i(`Creating appender ${e}`);const r=createAppender(e,t);p.delete(e);d.set(e,r);return r};const createAppender=(e,t)=>{const n=t.appenders[e];const u=n.type.configure?n.type:loadAppenderModule(n.type,t);o.throwExceptionIf(t,o.not(u),`appender "${e}" is not valid (type "${n.type}" could not be found)`);if(u.appender){process.emitWarning(`Appender ${n.type} exports an appender function.`,"DeprecationWarning","log4js-node-DEP0001");i("[log4js-node-DEP0001]",`DEPRECATION: Appender ${n.type} exports an appender function.`)}if(u.shutdown){process.emitWarning(`Appender ${n.type} exports a shutdown function.`,"DeprecationWarning","log4js-node-DEP0002");i("[log4js-node-DEP0002]",`DEPRECATION: Appender ${n.type} exports a shutdown function.`)}i(`${e}: clustering.isMaster ? ${s.isMaster()}`);i(`${e}: appenderModule is ${r(1669).inspect(u)}`);return s.onlyOnMaster((()=>{i(`calling appenderModule.configure for ${e} / ${n.type}`);return u.configure(l.modifyConfig(n),c,(e=>getAppender(e,t)),a)}),(()=>{}))};const setup=e=>{d.clear();p.clear();if(!e){return}const t=[];Object.values(e.categories).forEach((e=>{t.push(...e.appenders)}));Object.keys(e.appenders).forEach((r=>{if(t.includes(r)||e.appenders[r].type==="tcp-server"||e.appenders[r].type==="multiprocess"){getAppender(r,e)}}))};const init=()=>{setup()};init();o.addListener((e=>{o.throwExceptionIf(e,o.not(o.anObject(e.appenders)),'must have a property "appenders" of type object.');const t=Object.keys(e.appenders);o.throwExceptionIf(e,o.not(t.length),"must define at least one appender.");t.forEach((t=>{o.throwExceptionIf(e,o.not(e.appenders[t].type),`appender "${t}" is not valid (must be an object with property "type")`)}))}));o.addListener(setup);e.exports=d;e.exports.init=init},790:e=>{function logLevelFilter(e,t,r,n){const i=n.getLevel(e);const o=n.getLevel(t,n.FATAL);return e=>{const t=e.level;if(i.isLessThanOrEqualTo(t)&&o.isGreaterThanOrEqualTo(t)){r(e)}}}function configure(e,t,r,n){const i=r(e.appender);return logLevelFilter(e.level,e.maxLevel,i,n)}e.exports.configure=configure},3164:(e,t,r)=>{const n=r(8237)("log4js:noLogFilter");function removeNullOrEmptyRegexp(e){const t=e.filter((e=>e!=null&&e!==""));return t}function noLogFilter(e,t){return r=>{n(`Checking data: ${r.data} against filters: ${e}`);if(typeof e==="string"){e=[e]}e=removeNullOrEmptyRegexp(e);const i=new RegExp(e.join("|"),"i");if(e.length===0||r.data.findIndex((e=>i.test(e)))<0){n("Not excluded, sending to appender");t(r)}}}function configure(e,t,r){const n=r(e.appender);return noLogFilter(e.exclude,n)}e.exports.configure=configure},578:(e,t,r)=>{const n=r(8237)("log4js:recording");const i=[];function configure(){return function(e){n(`received logEvent, number of events now ${i.length+1}`);n("log event was ",e);i.push(e)}}function replay(){return i.slice()}function reset(){i.length=0}e.exports={configure:configure,replay:replay,playback:replay,reset:reset,erase:reset}},6451:e=>{function stderrAppender(e,t){return r=>{process.stderr.write(`${e(r,t)}\n`)}}function configure(e,t){let r=t.colouredLayout;if(e.layout){r=t.layout(e.layout.type,e.layout)}return stderrAppender(r,e.timezoneOffset)}e.exports.configure=configure},9601:(e,t)=>{function stdoutAppender(e,t){return r=>{process.stdout.write(`${e(r,t)}\n`)}}function configure(e,t){let r=t.colouredLayout;if(e.layout){r=t.layout(e.layout.type,e.layout)}return stdoutAppender(r,e.timezoneOffset)}t.configure=configure},2957:(e,t,r)=>{const n=r(8237)("log4js:tcp");const i=r(1631);function appender(e,t){let r=false;const o=[];let s;let a=3;let c="__LOG4JS__";function write(e){n("Writing log event to socket");r=s.write(`${t(e)}${c}`,"utf8")}function emptyBuffer(){let e;n("emptying buffer");while(e=o.shift()){write(e)}}function createSocket(){n(`appender creating socket to ${e.host||"localhost"}:${e.port||5e3}`);c=`${e.endMsg||"__LOG4JS__"}`;s=i.createConnection(e.port||5e3,e.host||"localhost");s.on("connect",(()=>{n("socket connected");emptyBuffer();r=true}));s.on("drain",(()=>{n("drain event received, emptying buffer");r=true;emptyBuffer()}));s.on("timeout",s.end.bind(s));s.on("error",(e=>{n("connection error",e);r=false;emptyBuffer()}));s.on("close",createSocket)}createSocket();function log(e){if(r){write(e)}else{n("buffering log event because it cannot write at the moment");o.push(e)}}log.shutdown=function(e){n("shutdown called");if(o.length&&a){n("buffer has items, waiting 100ms to empty");a-=1;setTimeout((()=>{log.shutdown(e)}),100)}else{s.removeAllListeners("close");s.end(e)}};return log}function configure(e,t){n(`configure with config = ${e}`);let layout=function(e){return e.serialise()};if(e.layout){layout=t.layout(e.layout.type,e.layout)}return appender(e,layout)}e.exports.configure=configure},5798:(e,t,r)=>{const n=r(8237)("log4js:categories");const i=r(5813);const o=r(7117);const s=r(5709);const a=new Map;function inheritFromParent(e,t,r){if(t.inherit===false)return;const n=r.lastIndexOf(".");if(n<0)return;const i=r.slice(0,n);let o=e.categories[i];if(!o){o={inherit:true,appenders:[]}}inheritFromParent(e,o,i);if(!e.categories[i]&&o.appenders&&o.appenders.length&&o.level){e.categories[i]=o}t.appenders=t.appenders||[];t.level=t.level||o.level;o.appenders.forEach((e=>{if(!t.appenders.includes(e)){t.appenders.push(e)}}));t.parent=o}function addCategoryInheritance(e){if(!e.categories)return;const t=Object.keys(e.categories);t.forEach((t=>{const r=e.categories[t];inheritFromParent(e,r,t)}))}i.addPreProcessingListener((e=>addCategoryInheritance(e)));i.addListener((e=>{i.throwExceptionIf(e,i.not(i.anObject(e.categories)),'must have a property "categories" of type object.');const t=Object.keys(e.categories);i.throwExceptionIf(e,i.not(t.length),"must define at least one category.");t.forEach((t=>{const r=e.categories[t];i.throwExceptionIf(e,[i.not(r.appenders),i.not(r.level)],`category "${t}" is not valid (must be an object with properties "appenders" and "level")`);i.throwExceptionIf(e,i.not(Array.isArray(r.appenders)),`category "${t}" is not valid (appenders must be an array of appender names)`);i.throwExceptionIf(e,i.not(r.appenders.length),`category "${t}" is not valid (appenders must contain at least one appender name)`);if(Object.prototype.hasOwnProperty.call(r,"enableCallStack")){i.throwExceptionIf(e,typeof r.enableCallStack!=="boolean",`category "${t}" is not valid (enableCallStack must be boolean type)`)}r.appenders.forEach((r=>{i.throwExceptionIf(e,i.not(s.get(r)),`category "${t}" is not valid (appender "${r}" is not defined)`)}));i.throwExceptionIf(e,i.not(o.getLevel(r.level)),`category "${t}" is not valid (level "${r.level}" not recognised;`+` valid levels are ${o.levels.join(", ")})`)}));i.throwExceptionIf(e,i.not(e.categories.default),'must define a "default" category.')}));const setup=e=>{a.clear();if(!e){return}const t=Object.keys(e.categories);t.forEach((t=>{const r=e.categories[t];const i=[];r.appenders.forEach((e=>{i.push(s.get(e));n(`Creating category ${t}`);a.set(t,{appenders:i,level:o.getLevel(r.level),enableCallStack:r.enableCallStack||false})}))}))};const init=()=>{setup()};init();i.addListener(setup);const configForCategory=e=>{n(`configForCategory: searching for config for ${e}`);if(a.has(e)){n(`configForCategory: ${e} exists in config, returning it`);return a.get(e)}let t;if(e.indexOf(".")>0){n(`configForCategory: ${e} has hierarchy, cloning from parents`);t={...configForCategory(e.slice(0,e.lastIndexOf(".")))}}else{if(!a.has("default")){setup({categories:{default:{appenders:["out"],level:"OFF"}}})}n("configForCategory: cloning default category");t={...a.get("default")}}a.set(e,t);return t};const appendersForCategory=e=>configForCategory(e).appenders;const getLevelForCategory=e=>configForCategory(e).level;const setLevelForCategory=(e,t)=>{configForCategory(e).level=t};const getEnableCallStackForCategory=e=>configForCategory(e).enableCallStack===true;const setEnableCallStackForCategory=(e,t)=>{configForCategory(e).enableCallStack=t};e.exports=a;e.exports=Object.assign(e.exports,{appendersForCategory:appendersForCategory,getLevelForCategory:getLevelForCategory,setLevelForCategory:setLevelForCategory,getEnableCallStackForCategory:getEnableCallStackForCategory,setEnableCallStackForCategory:setEnableCallStackForCategory,init:init})},2560:(e,t,r)=>{const n=r(8237)("log4js:clustering");const i=r(9060);const o=r(5813);let s=false;let a=null;try{a=r(1531)}catch(e){n("cluster module not present");s=true}const c=[];let l=false;let u="NODE_APP_INSTANCE";const isPM2Master=()=>l&&process.env[u]==="0";const isMaster=()=>s||a&&a.isMaster||isPM2Master();const sendToListeners=e=>{c.forEach((t=>t(e)))};const receiver=(e,t)=>{n("cluster message received from worker ",e,": ",t);if(e.topic&&e.data){t=e;e=undefined}if(t&&t.topic&&t.topic==="log4js:message"){n("received message: ",t.data);const e=i.deserialise(t.data);sendToListeners(e)}};if(!s){o.addListener((e=>{c.length=0;({pm2:l,disableClustering:s,pm2InstanceVar:u="NODE_APP_INSTANCE"}=e);n(`clustering disabled ? ${s}`);n(`cluster.isMaster ? ${a&&a.isMaster}`);n(`pm2 enabled ? ${l}`);n(`pm2InstanceVar = ${u}`);n(`process.env[${u}] = ${process.env[u]}`);if(l){process.removeListener("message",receiver)}if(a&&a.removeListener){a.removeListener("message",receiver)}if(s||e.disableClustering){n("Not listening for cluster messages, because clustering disabled.")}else if(isPM2Master()){n("listening for PM2 broadcast messages");process.on("message",receiver)}else if(a&&a.isMaster){n("listening for cluster messages");a.on("message",receiver)}else{n("not listening for messages, because we are not a master process")}}))}e.exports={onlyOnMaster:(e,t)=>isMaster()?e():t,isMaster:isMaster,send:e=>{if(isMaster()){sendToListeners(e)}else{if(!l){e.cluster={workerId:a.worker.id,worker:process.pid}}process.send({topic:"log4js:message",data:e.serialise()})}},onMessage:e=>{c.push(e)}}},5813:(e,t,r)=>{const n=r(1669);const i=r(8237)("log4js:configuration");const o=[];const s=[];const not=e=>!e;const anObject=e=>e&&typeof e==="object"&&!Array.isArray(e);const validIdentifier=e=>/^[A-Za-z][A-Za-z0-9_]*$/g.test(e);const anInteger=e=>e&&typeof e==="number"&&Number.isInteger(e);const addListener=e=>{s.push(e);i(`Added listener, now ${s.length} listeners`)};const addPreProcessingListener=e=>{o.push(e);i(`Added pre-processing listener, now ${o.length} listeners`)};const throwExceptionIf=(e,t,r)=>{const i=Array.isArray(t)?t:[t];i.forEach((t=>{if(t){throw new Error(`Problem with log4js configuration: (${n.inspect(e,{depth:5})}) - ${r}`)}}))};const configure=e=>{i("New configuration to be validated: ",e);throwExceptionIf(e,not(anObject(e)),"must be an object.");i(`Calling pre-processing listeners (${o.length})`);o.forEach((t=>t(e)));i("Configuration pre-processing finished.");i(`Calling configuration listeners (${s.length})`);s.forEach((t=>t(e)));i("Configuration finished.")};e.exports={configure:configure,addListener:addListener,addPreProcessingListener:addPreProcessingListener,throwExceptionIf:throwExceptionIf,anObject:anObject,anInteger:anInteger,validIdentifier:validIdentifier,not:not}},1061:(e,t,r)=>{const n=r(7117);const i=":remote-addr - -"+' ":method :url HTTP/:http-version"'+' :status :content-length ":referrer"'+' ":user-agent"';function getUrl(e){return e.originalUrl||e.url}function assembleTokens(e,t,r){const arrayUniqueTokens=e=>{const t=e.concat();for(let e=0;e<t.length;++e){for(let r=e+1;r<t.length;++r){if(t[e].token==t[r].token){t.splice(r--,1)}}}return t};const n=[];n.push({token:":url",replacement:getUrl(e)});n.push({token:":protocol",replacement:e.protocol});n.push({token:":hostname",replacement:e.hostname});n.push({token:":method",replacement:e.method});n.push({token:":status",replacement:t.__statusCode||t.statusCode});n.push({token:":response-time",replacement:t.responseTime});n.push({token:":date",replacement:(new Date).toUTCString()});n.push({token:":referrer",replacement:e.headers.referer||e.headers.referrer||""});n.push({token:":http-version",replacement:`${e.httpVersionMajor}.${e.httpVersionMinor}`});n.push({token:":remote-addr",replacement:e.headers["x-forwarded-for"]||e.ip||e._remoteAddress||e.socket&&(e.socket.remoteAddress||e.socket.socket&&e.socket.socket.remoteAddress)});n.push({token:":user-agent",replacement:e.headers["user-agent"]});n.push({token:":content-length",replacement:t.getHeader("content-length")||t.__headers&&t.__headers["Content-Length"]||"-"});n.push({token:/:req\[([^\]]+)]/g,replacement(t,r){return e.headers[r.toLowerCase()]}});n.push({token:/:res\[([^\]]+)]/g,replacement(e,r){return t.getHeader(r.toLowerCase())||t.__headers&&t.__headers[r]}});return arrayUniqueTokens(r.concat(n))}function format(e,t){for(let r=0;r<t.length;r++){e=e.replace(t[r].token,t[r].replacement)}return e}function createNoLogCondition(e){let t=null;if(e instanceof RegExp){t=e}if(typeof e==="string"){t=new RegExp(e)}if(Array.isArray(e)){const r=e.map((e=>e.source?e.source:e));t=new RegExp(r.join("|"))}return t}function matchRules(e,t,r){let i=t;if(r){const t=r.find((t=>{let r=false;if(t.from&&t.to){r=e>=t.from&&e<=t.to}else{r=t.codes.indexOf(e)!==-1}return r}));if(t){i=n.getLevel(t.level,i)}}return i}e.exports=function getLogger(e,t){if(typeof t==="string"||typeof t==="function"){t={format:t}}else{t=t||{}}const r=e;let o=n.getLevel(t.level,n.INFO);const s=t.format||i;return(e,i,a)=>{if(typeof e._logging!=="undefined")return a();if(typeof t.nolog!=="function"){const r=createNoLogCondition(t.nolog);if(r&&r.test(e.originalUrl))return a()}if(r.isLevelEnabled(o)||t.level==="auto"){const a=new Date;const{writeHead:c}=i;e._logging=true;i.writeHead=(e,t)=>{i.writeHead=c;i.writeHead(e,t);i.__statusCode=e;i.__headers=t||{}};let l=false;const handler=()=>{if(l){return}l=true;if(typeof t.nolog==="function"){if(t.nolog(e,i)===true){e._logging=false;return}}i.responseTime=new Date-a;if(i.statusCode&&t.level==="auto"){o=n.INFO;if(i.statusCode>=300)o=n.WARN;if(i.statusCode>=400)o=n.ERROR}o=matchRules(i.statusCode,o,t.statusRules);const c=assembleTokens(e,i,t.tokens||[]);if(t.context)r.addContext("res",i);if(typeof s==="function"){const t=s(e,i,(e=>format(e,c)));if(t)r.log(o,t)}else{r.log(o,format(s,c))}if(t.context)r.removeContext("res")};i.on("end",handler);i.on("finish",handler);i.on("error",handler);i.on("close",handler)}return a()}}},2680:(e,t,r)=>{const n=r(6821);const i=r(2087);const o=r(1669);const s=r(5622);const a=r(8835);const c=r(8237)("log4js:layouts");const l={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[90,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[91,39],yellow:[33,39]};function colorizeStart(e){return e?`[${l[e][0]}m`:""}function colorizeEnd(e){return e?`[${l[e][1]}m`:""}function colorize(e,t){return colorizeStart(t)+e+colorizeEnd(t)}function timestampLevelAndCategory(e,t){return colorize(o.format("[%s] [%s] %s - ",n.asString(e.startTime),e.level.toString(),e.categoryName),t)}function basicLayout(e){return timestampLevelAndCategory(e)+o.format(...e.data)}function colouredLayout(e){return timestampLevelAndCategory(e,e.level.colour)+o.format(...e.data)}function messagePassThroughLayout(e){return o.format(...e.data)}function dummyLayout(e){return e.data[0]}function patternLayout(e,t){const r="%r %p %c - %m%n";const l=/%(-?[0-9]+)?(\.?-?[0-9]+)?([[\]cdhmnprzxXyflosCMAF%])(\{([^}]+)\})?|([^%]+)/;e=e||r;function categoryName(e,t){let r=e.categoryName;if(t){const e=parseInt(t,10);const n=r.split(".");if(e<n.length){r=n.slice(n.length-e).join(".")}}return r}function formatAsDate(e,t){let r=n.ISO8601_FORMAT;if(t){r=t;switch(r){case"ISO8601":case"ISO8601_FORMAT":r=n.ISO8601_FORMAT;break;case"ISO8601_WITH_TZ_OFFSET":case"ISO8601_WITH_TZ_OFFSET_FORMAT":r=n.ISO8601_WITH_TZ_OFFSET_FORMAT;break;case"ABSOLUTE":process.emitWarning("Pattern %d{ABSOLUTE} is deprecated in favor of %d{ABSOLUTETIME}. "+"Please use %d{ABSOLUTETIME} instead.","DeprecationWarning","log4js-node-DEP0003");c("[log4js-node-DEP0003]","DEPRECATION: Pattern %d{ABSOLUTE} is deprecated and replaced by %d{ABSOLUTETIME}.");case"ABSOLUTETIME":case"ABSOLUTETIME_FORMAT":r=n.ABSOLUTETIME_FORMAT;break;case"DATE":process.emitWarning("Pattern %d{DATE} is deprecated due to the confusion it causes when used. "+"Please use %d{DATETIME} instead.","DeprecationWarning","log4js-node-DEP0004");c("[log4js-node-DEP0004]","DEPRECATION: Pattern %d{DATE} is deprecated and replaced by %d{DATETIME}.");case"DATETIME":case"DATETIME_FORMAT":r=n.DATETIME_FORMAT;break}}return n.asString(r,e.startTime)}function hostname(){return i.hostname().toString()}function formatMessage(e){return o.format(...e.data)}function endOfLine(){return i.EOL}function logLevel(e){return e.level.toString()}function startTime(e){return n.asString("hh:mm:ss",e.startTime)}function startColour(e){return colorizeStart(e.level.colour)}function endColour(e){return colorizeEnd(e.level.colour)}function percent(){return"%"}function pid(e){return e&&e.pid?e.pid.toString():process.pid.toString()}function clusterInfo(){return pid()}function userDefined(e,r){if(typeof t[r]!=="undefined"){return typeof t[r]==="function"?t[r](e):t[r]}return null}function contextDefined(e,t){const r=e.context[t];if(typeof r!=="undefined"){return typeof r==="function"?r(e):r}return null}function fileName(e,t){let r=e.fileName||"";const convertFileURLToPath=function(e){const t="file://";if(e.startsWith(t)){if(typeof a.fileURLToPath==="function"){e=a.fileURLToPath(e)}else{e=s.normalize(e.replace(new RegExp(`^${t}`),""));if(process.platform==="win32"){if(e.startsWith("\\")){e=e.slice(1)}else{e=s.sep+s.sep+e}}}}return e};r=convertFileURLToPath(r);if(t){const e=parseInt(t,10);const n=r.split(s.sep);if(n.length>e){r=n.slice(-e).join(s.sep)}}return r}function lineNumber(e){return e.lineNumber?`${e.lineNumber}`:""}function columnNumber(e){return e.columnNumber?`${e.columnNumber}`:""}function callStack(e){return e.callStack||""}function className(e){return e.className||""}function functionName(e){return e.functionName||""}function functionAlias(e){return e.functionAlias||""}function callerName(e){return e.callerName||""}const u={c:categoryName,d:formatAsDate,h:hostname,m:formatMessage,n:endOfLine,p:logLevel,r:startTime,"[":startColour,"]":endColour,y:clusterInfo,z:pid,"%":percent,x:userDefined,X:contextDefined,f:fileName,l:lineNumber,o:columnNumber,s:callStack,C:className,M:functionName,A:functionAlias,F:callerName};function replaceToken(e,t,r){return u[e](t,r)}function truncate(e,t){let r;if(e){r=parseInt(e.slice(1),10);return r>0?t.slice(0,r):t.slice(r)}return t}function pad(e,t){let r;if(e){if(e.charAt(0)==="-"){r=parseInt(e.slice(1),10);while(t.length<r){t+=" "}}else{r=parseInt(e,10);while(t.length<r){t=` ${t}`}}}return t}function truncateAndPad(e,t,r){let n=e;n=truncate(t,n);n=pad(r,n);return n}return function(t){let r="";let n;let i=e;while((n=l.exec(i))!==null){const e=n[1];const o=n[2];const s=n[3];const a=n[5];const c=n[6];if(c){r+=c.toString()}else{const n=replaceToken(s,t,a);r+=truncateAndPad(n,o,e)}i=i.slice(n.index+n[0].length)}return r}}const u={messagePassThrough(){return messagePassThroughLayout},basic(){return basicLayout},colored(){return colouredLayout},coloured(){return colouredLayout},pattern(e){return patternLayout(e&&e.pattern,e&&e.tokens)},dummy(){return dummyLayout}};e.exports={basicLayout:basicLayout,messagePassThroughLayout:messagePassThroughLayout,patternLayout:patternLayout,colouredLayout:colouredLayout,coloredLayout:colouredLayout,dummyLayout:dummyLayout,addLayout(e,t){u[e]=t},layout(e,t){return u[e]&&u[e](t)}}},7117:(e,t,r)=>{const n=r(5813);const i=["white","grey","black","blue","cyan","green","magenta","red","yellow"];class Level{constructor(e,t,r){this.level=e;this.levelStr=t;this.colour=r}toString(){return this.levelStr}static getLevel(e,t){if(!e){return t}if(e instanceof Level){return e}if(e instanceof Object&&e.levelStr){e=e.levelStr}return Level[e.toString().toUpperCase()]||t}static addLevels(e){if(e){const t=Object.keys(e);t.forEach((t=>{const r=t.toUpperCase();Level[r]=new Level(e[t].value,r,e[t].colour);const n=Level.levels.findIndex((e=>e.levelStr===r));if(n>-1){Level.levels[n]=Level[r]}else{Level.levels.push(Level[r])}}));Level.levels.sort(((e,t)=>e.level-t.level))}}isLessThanOrEqualTo(e){if(typeof e==="string"){e=Level.getLevel(e)}return this.level<=e.level}isGreaterThanOrEqualTo(e){if(typeof e==="string"){e=Level.getLevel(e)}return this.level>=e.level}isEqualTo(e){if(typeof e==="string"){e=Level.getLevel(e)}return this.level===e.level}}Level.levels=[];Level.addLevels({ALL:{value:Number.MIN_VALUE,colour:"grey"},TRACE:{value:5e3,colour:"blue"},DEBUG:{value:1e4,colour:"cyan"},INFO:{value:2e4,colour:"green"},WARN:{value:3e4,colour:"yellow"},ERROR:{value:4e4,colour:"red"},FATAL:{value:5e4,colour:"magenta"},MARK:{value:9007199254740992,colour:"grey"},OFF:{value:Number.MAX_VALUE,colour:"grey"}});n.addListener((e=>{const t=e.levels;if(t){n.throwExceptionIf(e,n.not(n.anObject(t)),"levels must be an object");const r=Object.keys(t);r.forEach((r=>{n.throwExceptionIf(e,n.not(n.validIdentifier(r)),`level name "${r}" is not a valid identifier (must start with a letter, only contain A-Z,a-z,0-9,_)`);n.throwExceptionIf(e,n.not(n.anObject(t[r])),`level "${r}" must be an object`);n.throwExceptionIf(e,n.not(t[r].value),`level "${r}" must have a 'value' property`);n.throwExceptionIf(e,n.not(n.anInteger(t[r].value)),`level "${r}".value must have an integer value`);n.throwExceptionIf(e,n.not(t[r].colour),`level "${r}" must have a 'colour' property`);n.throwExceptionIf(e,n.not(i.indexOf(t[r].colour)>-1),`level "${r}".colour must be one of ${i.join(", ")}`)}))}}));n.addListener((e=>{Level.addLevels(e.levels)}));e.exports=Level},3048:(e,t,r)=>{const n=r(8237)("log4js:main");const i=r(5747);const o=r(1868)({proto:true});const s=r(5813);const a=r(2680);const c=r(7117);const l=r(5709);const u=r(5798);const d=r(8048);const p=r(2560);const f=r(1061);const h=r(578);let m=false;function sendLogEventToAppender(e){if(!m)return;n("Received log event ",e);const t=u.appendersForCategory(e.categoryName);t.forEach((t=>{t(e)}))}function loadConfigurationFile(e){n(`Loading configuration from ${e}`);try{return JSON.parse(i.readFileSync(e,"utf8"))}catch(t){throw new Error(`Problem reading config from file "${e}". Error was ${t.message}`,t)}}function configure(e){if(m){shutdown()}let t=e;if(typeof t==="string"){t=loadConfigurationFile(e)}n(`Configuration is ${t}`);s.configure(o(t));p.onMessage(sendLogEventToAppender);m=true;return y}function recording(){return h}function shutdown(e=(()=>{})){if(typeof e!=="function"){throw new TypeError("Invalid callback passed to shutdown")}n("Shutdown called. Disabling all log writing.");m=false;const t=Array.from(l.values());l.init();u.init();const r=t.reduce(((e,t)=>t.shutdown?e+1:e),0);if(r===0){n("No appenders with shutdown functions found.");e()}let i=0;let o;n(`Found ${r} appenders with shutdown functions.`);function complete(t){o=o||t;i+=1;n(`Appender shutdowns complete: ${i} / ${r}`);if(i>=r){n("All shutdown functions completed.");e(o)}}t.filter((e=>e.shutdown)).forEach((e=>e.shutdown(complete)))}function getLogger(e){if(!m){configure(process.env.LOG4JS_CONFIG||{appenders:{out:{type:"stdout"}},categories:{default:{appenders:["out"],level:"OFF"}}})}return new d(e||"default")}const y={getLogger:getLogger,configure:configure,shutdown:shutdown,connectLogger:f,levels:c,addLayout:a.addLayout,recording:recording};e.exports=y},8048:(e,t,r)=>{const n=r(8237)("log4js:logger");const i=r(9060);const o=r(7117);const s=r(2560);const a=r(5798);const c=r(5813);const l=/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/;const u=1;const d=3;function defaultParseCallStack(e,t=d+u){try{const r=e.stack.split("\n").slice(t);if(!r.length){return null}const n=l.exec(r[0]);if(n&&n.length===6){let e="";let t="";let i="";if(n[1]&&n[1]!==""){[t,i]=n[1].replace(/[[\]]/g,"").split(" as ");i=i||"";if(t.includes("."))[e,t]=t.split(".")}return{fileName:n[2],lineNumber:parseInt(n[3],10),columnNumber:parseInt(n[4],10),callStack:r.join("\n"),className:e,functionName:t,functionAlias:i,callerName:n[1]||""}}else{console.error("log4js.logger - defaultParseCallStack error")}}catch(e){console.error("log4js.logger - defaultParseCallStack error",e)}return null}class Logger{constructor(e){if(!e){throw new Error("No category provided.")}this.category=e;this.context={};this.callStackSkipIndex=0;this.parseCallStack=defaultParseCallStack;n(`Logger created (${this.category}, ${this.level})`)}get level(){return o.getLevel(a.getLevelForCategory(this.category),o.OFF)}set level(e){a.setLevelForCategory(this.category,o.getLevel(e,this.level))}get useCallStack(){return a.getEnableCallStackForCategory(this.category)}set useCallStack(e){a.setEnableCallStackForCategory(this.category,e===true)}get callStackLinesToSkip(){return this.callStackSkipIndex}set callStackLinesToSkip(e){if(typeof e!=="number"){throw new TypeError("Must be a number")}if(e<0){throw new RangeError("Must be >= 0")}this.callStackSkipIndex=e}log(e,...t){const r=o.getLevel(e);if(!r){if(c.validIdentifier(e)&&t.length>0){this.log(o.WARN,"log4js:logger.log: valid log-level not found as first parameter given:",e);this.log(o.INFO,`[${e}]`,...t)}else{this.log(o.INFO,e,...t)}}else if(this.isLevelEnabled(r)){this._log(r,t)}}isLevelEnabled(e){return this.level.isLessThanOrEqualTo(e)}_log(e,t){n(`sending log data (${e}) to appenders`);const r=t.find((e=>e instanceof Error));let o;if(this.useCallStack){try{if(r){o=this.parseCallStack(r,this.callStackSkipIndex+u)}}catch(e){}o=o||this.parseCallStack(new Error,this.callStackSkipIndex+d+u)}const a=new i(this.category,e,t,this.context,o,r);s.send(a)}addContext(e,t){this.context[e]=t}removeContext(e){delete this.context[e]}clearContext(){this.context={}}setParseCallStackFunction(e){if(typeof e==="function"){this.parseCallStack=e}else if(typeof e==="undefined"){this.parseCallStack=defaultParseCallStack}else{throw new TypeError("Invalid type passed to setParseCallStackFunction")}}}function addLevelMethods(e){const t=o.getLevel(e);const r=t.toString().toLowerCase();const n=r.replace(/_([a-z])/g,(e=>e[1].toUpperCase()));const i=n[0].toUpperCase()+n.slice(1);Logger.prototype[`is${i}Enabled`]=function(){return this.isLevelEnabled(t)};Logger.prototype[n]=function(...e){this.log(t,...e)}}o.levels.forEach(addLevelMethods);c.addListener((()=>{o.levels.forEach(addLevelMethods)}));e.exports=Logger},900:e=>{var t=1e3;var r=t*60;var n=r*60;var i=n*24;var o=i*7;var s=i*365.25;e.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0){return parse(e)}else if(r==="number"&&isFinite(e)){return t.long?fmtLong(e):fmtShort(e)}throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function parse(e){e=String(e);if(e.length>100){return}var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!a){return}var c=parseFloat(a[1]);var l=(a[2]||"ms").toLowerCase();switch(l){case"years":case"year":case"yrs":case"yr":case"y":return c*s;case"weeks":case"week":case"w":return c*o;case"days":case"day":case"d":return c*i;case"hours":case"hour":case"hrs":case"hr":case"h":return c*n;case"minutes":case"minute":case"mins":case"min":case"m":return c*r;case"seconds":case"second":case"secs":case"sec":case"s":return c*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return undefined}}function fmtShort(e){var o=Math.abs(e);if(o>=i){return Math.round(e/i)+"d"}if(o>=n){return Math.round(e/n)+"h"}if(o>=r){return Math.round(e/r)+"m"}if(o>=t){return Math.round(e/t)+"s"}return e+"ms"}function fmtLong(e){var o=Math.abs(e);if(o>=i){return plural(e,o,i,"day")}if(o>=n){return plural(e,o,n,"hour")}if(o>=r){return plural(e,o,r,"minute")}if(o>=t){return plural(e,o,t,"second")}return e+" ms"}function plural(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}},1868:e=>{"use strict";e.exports=rfdc;function copyBuffer(e){if(e instanceof Buffer){return Buffer.from(e)}return new e.constructor(e.buffer.slice(),e.byteOffset,e.length)}function rfdc(e){e=e||{};if(e.circles)return rfdcCircles(e);return e.proto?cloneProto:clone;function cloneArray(e,t){var r=Object.keys(e);var n=new Array(r.length);for(var i=0;i<r.length;i++){var o=r[i];var s=e[o];if(typeof s!=="object"||s===null){n[o]=s}else if(s instanceof Date){n[o]=new Date(s)}else if(ArrayBuffer.isView(s)){n[o]=copyBuffer(s)}else{n[o]=t(s)}}return n}function clone(e){if(typeof e!=="object"||e===null)return e;if(e instanceof Date)return new Date(e);if(Array.isArray(e))return cloneArray(e,clone);if(e instanceof Map)return new Map(cloneArray(Array.from(e),clone));if(e instanceof Set)return new Set(cloneArray(Array.from(e),clone));var t={};for(var r in e){if(Object.hasOwnProperty.call(e,r)===false)continue;var n=e[r];if(typeof n!=="object"||n===null){t[r]=n}else if(n instanceof Date){t[r]=new Date(n)}else if(n instanceof Map){t[r]=new Map(cloneArray(Array.from(n),clone))}else if(n instanceof Set){t[r]=new Set(cloneArray(Array.from(n),clone))}else if(ArrayBuffer.isView(n)){t[r]=copyBuffer(n)}else{t[r]=clone(n)}}return t}function cloneProto(e){if(typeof e!=="object"||e===null)return e;if(e instanceof Date)return new Date(e);if(Array.isArray(e))return cloneArray(e,cloneProto);if(e instanceof Map)return new Map(cloneArray(Array.from(e),cloneProto));if(e instanceof Set)return new Set(cloneArray(Array.from(e),cloneProto));var t={};for(var r in e){var n=e[r];if(typeof n!=="object"||n===null){t[r]=n}else if(n instanceof Date){t[r]=new Date(n)}else if(n instanceof Map){t[r]=new Map(cloneArray(Array.from(n),cloneProto))}else if(n instanceof Set){t[r]=new Set(cloneArray(Array.from(n),cloneProto))}else if(ArrayBuffer.isView(n)){t[r]=copyBuffer(n)}else{t[r]=cloneProto(n)}}return t}}function rfdcCircles(e){var t=[];var r=[];return e.proto?cloneProto:clone;function cloneArray(e,n){var i=Object.keys(e);var o=new Array(i.length);for(var s=0;s<i.length;s++){var a=i[s];var c=e[a];if(typeof c!=="object"||c===null){o[a]=c}else if(c instanceof Date){o[a]=new Date(c)}else if(ArrayBuffer.isView(c)){o[a]=copyBuffer(c)}else{var l=t.indexOf(c);if(l!==-1){o[a]=r[l]}else{o[a]=n(c)}}}return o}function clone(e){if(typeof e!=="object"||e===null)return e;if(e instanceof Date)return new Date(e);if(Array.isArray(e))return cloneArray(e,clone);if(e instanceof Map)return new Map(cloneArray(Array.from(e),clone));if(e instanceof Set)return new Set(cloneArray(Array.from(e),clone));var n={};t.push(e);r.push(n);for(var i in e){if(Object.hasOwnProperty.call(e,i)===false)continue;var o=e[i];if(typeof o!=="object"||o===null){n[i]=o}else if(o instanceof Date){n[i]=new Date(o)}else if(o instanceof Map){n[i]=new Map(cloneArray(Array.from(o),clone))}else if(o instanceof Set){n[i]=new Set(cloneArray(Array.from(o),clone))}else if(ArrayBuffer.isView(o)){n[i]=copyBuffer(o)}else{var s=t.indexOf(o);if(s!==-1){n[i]=r[s]}else{n[i]=clone(o)}}}t.pop();r.pop();return n}function cloneProto(e){if(typeof e!=="object"||e===null)return e;if(e instanceof Date)return new Date(e);if(Array.isArray(e))return cloneArray(e,cloneProto);if(e instanceof Map)return new Map(cloneArray(Array.from(e),cloneProto));if(e instanceof Set)return new Set(cloneArray(Array.from(e),cloneProto));var n={};t.push(e);r.push(n);for(var i in e){var o=e[i];if(typeof o!=="object"||o===null){n[i]=o}else if(o instanceof Date){n[i]=new Date(o)}else if(o instanceof Map){n[i]=new Map(cloneArray(Array.from(o),cloneProto))}else if(o instanceof Set){n[i]=new Set(cloneArray(Array.from(o),cloneProto))}else if(ArrayBuffer.isView(o)){n[i]=copyBuffer(o)}else{var s=t.indexOf(o);if(s!==-1){n[i]=r[s]}else{n[i]=cloneProto(o)}}}t.pop();r.pop();return n}}},2043:(e,t,r)=>{(function(e){e.parser=function(e,t){return new SAXParser(e,t)};e.SAXParser=SAXParser;e.SAXStream=SAXStream;e.createStream=createStream;e.MAX_BUFFER_LENGTH=64*1024;var t=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function SAXParser(t,r){if(!(this instanceof SAXParser)){return new SAXParser(t,r)}var n=this;clearBuffers(n);n.q=n.c="";n.bufferCheckPosition=e.MAX_BUFFER_LENGTH;n.opt=r||{};n.opt.lowercase=n.opt.lowercase||n.opt.lowercasetags;n.looseCase=n.opt.lowercase?"toLowerCase":"toUpperCase";n.tags=[];n.closed=n.closedRoot=n.sawRoot=false;n.tag=n.error=null;n.strict=!!t;n.noscript=!!(t||n.opt.noscript);n.state=h.BEGIN;n.strictEntities=n.opt.strictEntities;n.ENTITIES=n.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES);n.attribList=[];if(n.opt.xmlns){n.ns=Object.create(l)}n.trackPosition=n.opt.position!==false;if(n.trackPosition){n.position=n.line=n.column=0}emit(n,"onready")}if(!Object.create){Object.create=function(e){function F(){}F.prototype=e;var t=new F;return t}}if(!Object.keys){Object.keys=function(e){var t=[];for(var r in e)if(e.hasOwnProperty(r))t.push(r);return t}}function checkBufferLength(r){var n=Math.max(e.MAX_BUFFER_LENGTH,10);var i=0;for(var o=0,s=t.length;o<s;o++){var a=r[t[o]].length;if(a>n){switch(t[o]){case"textNode":closeText(r);break;case"cdata":emitNode(r,"oncdata",r.cdata);r.cdata="";break;case"script":emitNode(r,"onscript",r.script);r.script="";break;default:error(r,"Max buffer length exceeded: "+t[o])}}i=Math.max(i,a)}var c=e.MAX_BUFFER_LENGTH-i;r.bufferCheckPosition=c+r.position}function clearBuffers(e){for(var r=0,n=t.length;r<n;r++){e[t[r]]=""}}function flushBuffers(e){closeText(e);if(e.cdata!==""){emitNode(e,"oncdata",e.cdata);e.cdata=""}if(e.script!==""){emitNode(e,"onscript",e.script);e.script=""}}SAXParser.prototype={end:function(){end(this)},write:write,resume:function(){this.error=null;return this},close:function(){return this.write(null)},flush:function(){flushBuffers(this)}};var n;try{n=r(2413).Stream}catch(e){n=function(){}}var i=e.EVENTS.filter((function(e){return e!=="error"&&e!=="end"}));function createStream(e,t){return new SAXStream(e,t)}function SAXStream(e,t){if(!(this instanceof SAXStream)){return new SAXStream(e,t)}n.apply(this);this._parser=new SAXParser(e,t);this.writable=true;this.readable=true;var r=this;this._parser.onend=function(){r.emit("end")};this._parser.onerror=function(e){r.emit("error",e);r._parser.error=null};this._decoder=null;i.forEach((function(e){Object.defineProperty(r,"on"+e,{get:function(){return r._parser["on"+e]},set:function(t){if(!t){r.removeAllListeners(e);r._parser["on"+e]=t;return t}r.on(e,t)},enumerable:true,configurable:false})}))}SAXStream.prototype=Object.create(n.prototype,{constructor:{value:SAXStream}});SAXStream.prototype.write=function(e){if(typeof Buffer==="function"&&typeof Buffer.isBuffer==="function"&&Buffer.isBuffer(e)){if(!this._decoder){var t=r(4304).StringDecoder;this._decoder=new t("utf8")}e=this._decoder.write(e)}this._parser.write(e.toString());this.emit("data",e);return true};SAXStream.prototype.end=function(e){if(e&&e.length){this.write(e)}this._parser.end();return true};SAXStream.prototype.on=function(e,t){var r=this;if(!r._parser["on"+e]&&i.indexOf(e)!==-1){r._parser["on"+e]=function(){var t=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e);r.emit.apply(r,t)}}return n.prototype.on.call(r,e,t)};var o="[CDATA[";var s="DOCTYPE";var a="http://www.w3.org/XML/1998/namespace";var c="http://www.w3.org/2000/xmlns/";var l={xml:a,xmlns:c};var u=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;var d=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;var p=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;var f=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function isWhitespace(e){return e===" "||e==="\n"||e==="\r"||e==="\t"}function isQuote(e){return e==='"'||e==="'"}function isAttribEnd(e){return e===">"||isWhitespace(e)}function isMatch(e,t){return e.test(t)}function notMatch(e,t){return!isMatch(e,t)}var h=0;e.STATE={BEGIN:h++,BEGIN_WHITESPACE:h++,TEXT:h++,TEXT_ENTITY:h++,OPEN_WAKA:h++,SGML_DECL:h++,SGML_DECL_QUOTED:h++,DOCTYPE:h++,DOCTYPE_QUOTED:h++,DOCTYPE_DTD:h++,DOCTYPE_DTD_QUOTED:h++,COMMENT_STARTING:h++,COMMENT:h++,COMMENT_ENDING:h++,COMMENT_ENDED:h++,CDATA:h++,CDATA_ENDING:h++,CDATA_ENDING_2:h++,PROC_INST:h++,PROC_INST_BODY:h++,PROC_INST_ENDING:h++,OPEN_TAG:h++,OPEN_TAG_SLASH:h++,ATTRIB:h++,ATTRIB_NAME:h++,ATTRIB_NAME_SAW_WHITE:h++,ATTRIB_VALUE:h++,ATTRIB_VALUE_QUOTED:h++,ATTRIB_VALUE_CLOSED:h++,ATTRIB_VALUE_UNQUOTED:h++,ATTRIB_VALUE_ENTITY_Q:h++,ATTRIB_VALUE_ENTITY_U:h++,CLOSE_TAG:h++,CLOSE_TAG_SAW_WHITE:h++,SCRIPT:h++,SCRIPT_ENDING:h++};e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"};e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(e.ENTITIES).forEach((function(t){var r=e.ENTITIES[t];var n=typeof r==="number"?String.fromCharCode(r):r;e.ENTITIES[t]=n}));for(var m in e.STATE){e.STATE[e.STATE[m]]=m}h=e.STATE;function emit(e,t,r){e[t]&&e[t](r)}function emitNode(e,t,r){if(e.textNode)closeText(e);emit(e,t,r)}function closeText(e){e.textNode=textopts(e.opt,e.textNode);if(e.textNode)emit(e,"ontext",e.textNode);e.textNode=""}function textopts(e,t){if(e.trim)t=t.trim();if(e.normalize)t=t.replace(/\s+/g," ");return t}function error(e,t){closeText(e);if(e.trackPosition){t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c}t=new Error(t);e.error=t;emit(e,"onerror",t);return e}function end(e){if(e.sawRoot&&!e.closedRoot)strictFail(e,"Unclosed root tag");if(e.state!==h.BEGIN&&e.state!==h.BEGIN_WHITESPACE&&e.state!==h.TEXT){error(e,"Unexpected end")}closeText(e);e.c="";e.closed=true;emit(e,"onend");SAXParser.call(e,e.strict,e.opt);return e}function strictFail(e,t){if(typeof e!=="object"||!(e instanceof SAXParser)){throw new Error("bad call to strictFail")}if(e.strict){error(e,t)}}function newTag(e){if(!e.strict)e.tagName=e.tagName[e.looseCase]();var t=e.tags[e.tags.length-1]||e;var r=e.tag={name:e.tagName,attributes:{}};if(e.opt.xmlns){r.ns=t.ns}e.attribList.length=0;emitNode(e,"onopentagstart",r)}function qname(e,t){var r=e.indexOf(":");var n=r<0?["",e]:e.split(":");var i=n[0];var o=n[1];if(t&&e==="xmlns"){i="xmlns";o=""}return{prefix:i,local:o}}function attrib(e){if(!e.strict){e.attribName=e.attribName[e.looseCase]()}if(e.attribList.indexOf(e.attribName)!==-1||e.tag.attributes.hasOwnProperty(e.attribName)){e.attribName=e.attribValue="";return}if(e.opt.xmlns){var t=qname(e.attribName,true);var r=t.prefix;var n=t.local;if(r==="xmlns"){if(n==="xml"&&e.attribValue!==a){strictFail(e,"xml: prefix must be bound to "+a+"\n"+"Actual: "+e.attribValue)}else if(n==="xmlns"&&e.attribValue!==c){strictFail(e,"xmlns: prefix must be bound to "+c+"\n"+"Actual: "+e.attribValue)}else{var i=e.tag;var o=e.tags[e.tags.length-1]||e;if(i.ns===o.ns){i.ns=Object.create(o.ns)}i.ns[n]=e.attribValue}}e.attribList.push([e.attribName,e.attribValue])}else{e.tag.attributes[e.attribName]=e.attribValue;emitNode(e,"onattribute",{name:e.attribName,value:e.attribValue})}e.attribName=e.attribValue=""}function openTag(e,t){if(e.opt.xmlns){var r=e.tag;var n=qname(e.tagName);r.prefix=n.prefix;r.local=n.local;r.uri=r.ns[n.prefix]||"";if(r.prefix&&!r.uri){strictFail(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName));r.uri=n.prefix}var i=e.tags[e.tags.length-1]||e;if(r.ns&&i.ns!==r.ns){Object.keys(r.ns).forEach((function(t){emitNode(e,"onopennamespace",{prefix:t,uri:r.ns[t]})}))}for(var o=0,s=e.attribList.length;o<s;o++){var a=e.attribList[o];var c=a[0];var l=a[1];var u=qname(c,true);var d=u.prefix;var p=u.local;var f=d===""?"":r.ns[d]||"";var m={name:c,value:l,prefix:d,local:p,uri:f};if(d&&d!=="xmlns"&&!f){strictFail(e,"Unbound namespace prefix: "+JSON.stringify(d));m.uri=d}e.tag.attributes[c]=m;emitNode(e,"onattribute",m)}e.attribList.length=0}e.tag.isSelfClosing=!!t;e.sawRoot=true;e.tags.push(e.tag);emitNode(e,"onopentag",e.tag);if(!t){if(!e.noscript&&e.tagName.toLowerCase()==="script"){e.state=h.SCRIPT}else{e.state=h.TEXT}e.tag=null;e.tagName=""}e.attribName=e.attribValue="";e.attribList.length=0}function closeTag(e){if(!e.tagName){strictFail(e,"Weird empty close tag.");e.textNode+="</>";e.state=h.TEXT;return}if(e.script){if(e.tagName!=="script"){e.script+="</"+e.tagName+">";e.tagName="";e.state=h.SCRIPT;return}emitNode(e,"onscript",e.script);e.script=""}var t=e.tags.length;var r=e.tagName;if(!e.strict){r=r[e.looseCase]()}var n=r;while(t--){var i=e.tags[t];if(i.name!==n){strictFail(e,"Unexpected close tag")}else{break}}if(t<0){strictFail(e,"Unmatched closing tag: "+e.tagName);e.textNode+="</"+e.tagName+">";e.state=h.TEXT;return}e.tagName=r;var o=e.tags.length;while(o-- >t){var s=e.tag=e.tags.pop();e.tagName=e.tag.name;emitNode(e,"onclosetag",e.tagName);var a={};for(var c in s.ns){a[c]=s.ns[c]}var l=e.tags[e.tags.length-1]||e;if(e.opt.xmlns&&s.ns!==l.ns){Object.keys(s.ns).forEach((function(t){var r=s.ns[t];emitNode(e,"onclosenamespace",{prefix:t,uri:r})}))}}if(t===0)e.closedRoot=true;e.tagName=e.attribValue=e.attribName="";e.attribList.length=0;e.state=h.TEXT}function parseEntity(e){var t=e.entity;var r=t.toLowerCase();var n;var i="";if(e.ENTITIES[t]){return e.ENTITIES[t]}if(e.ENTITIES[r]){return e.ENTITIES[r]}t=r;if(t.charAt(0)==="#"){if(t.charAt(1)==="x"){t=t.slice(2);n=parseInt(t,16);i=n.toString(16)}else{t=t.slice(1);n=parseInt(t,10);i=n.toString(10)}}t=t.replace(/^0+/,"");if(isNaN(n)||i.toLowerCase()!==t){strictFail(e,"Invalid character entity");return"&"+e.entity+";"}return String.fromCodePoint(n)}function beginWhiteSpace(e,t){if(t==="<"){e.state=h.OPEN_WAKA;e.startTagPosition=e.position}else if(!isWhitespace(t)){strictFail(e,"Non-whitespace before first tag.");e.textNode=t;e.state=h.TEXT}}function charAt(e,t){var r="";if(t<e.length){r=e.charAt(t)}return r}function write(e){var t=this;if(this.error){throw this.error}if(t.closed){return error(t,"Cannot write after close. Assign an onready handler.")}if(e===null){return end(t)}if(typeof e==="object"){e=e.toString()}var r=0;var n="";while(true){n=charAt(e,r++);t.c=n;if(!n){break}if(t.trackPosition){t.position++;if(n==="\n"){t.line++;t.column=0}else{t.column++}}switch(t.state){case h.BEGIN:t.state=h.BEGIN_WHITESPACE;if(n==="\ufeff"){continue}beginWhiteSpace(t,n);continue;case h.BEGIN_WHITESPACE:beginWhiteSpace(t,n);continue;case h.TEXT:if(t.sawRoot&&!t.closedRoot){var i=r-1;while(n&&n!=="<"&&n!=="&"){n=charAt(e,r++);if(n&&t.trackPosition){t.position++;if(n==="\n"){t.line++;t.column=0}else{t.column++}}}t.textNode+=e.substring(i,r-1)}if(n==="<"&&!(t.sawRoot&&t.closedRoot&&!t.strict)){t.state=h.OPEN_WAKA;t.startTagPosition=t.position}else{if(!isWhitespace(n)&&(!t.sawRoot||t.closedRoot)){strictFail(t,"Text data outside of root node.")}if(n==="&"){t.state=h.TEXT_ENTITY}else{t.textNode+=n}}continue;case h.SCRIPT:if(n==="<"){t.state=h.SCRIPT_ENDING}else{t.script+=n}continue;case h.SCRIPT_ENDING:if(n==="/"){t.state=h.CLOSE_TAG}else{t.script+="<"+n;t.state=h.SCRIPT}continue;case h.OPEN_WAKA:if(n==="!"){t.state=h.SGML_DECL;t.sgmlDecl=""}else if(isWhitespace(n)){}else if(isMatch(u,n)){t.state=h.OPEN_TAG;t.tagName=n}else if(n==="/"){t.state=h.CLOSE_TAG;t.tagName=""}else if(n==="?"){t.state=h.PROC_INST;t.procInstName=t.procInstBody=""}else{strictFail(t,"Unencoded <");if(t.startTagPosition+1<t.position){var a=t.position-t.startTagPosition;n=new Array(a).join(" ")+n}t.textNode+="<"+n;t.state=h.TEXT}continue;case h.SGML_DECL:if((t.sgmlDecl+n).toUpperCase()===o){emitNode(t,"onopencdata");t.state=h.CDATA;t.sgmlDecl="";t.cdata=""}else if(t.sgmlDecl+n==="--"){t.state=h.COMMENT;t.comment="";t.sgmlDecl=""}else if((t.sgmlDecl+n).toUpperCase()===s){t.state=h.DOCTYPE;if(t.doctype||t.sawRoot){strictFail(t,"Inappropriately located doctype declaration")}t.doctype="";t.sgmlDecl=""}else if(n===">"){emitNode(t,"onsgmldeclaration",t.sgmlDecl);t.sgmlDecl="";t.state=h.TEXT}else if(isQuote(n)){t.state=h.SGML_DECL_QUOTED;t.sgmlDecl+=n}else{t.sgmlDecl+=n}continue;case h.SGML_DECL_QUOTED:if(n===t.q){t.state=h.SGML_DECL;t.q=""}t.sgmlDecl+=n;continue;case h.DOCTYPE:if(n===">"){t.state=h.TEXT;emitNode(t,"ondoctype",t.doctype);t.doctype=true}else{t.doctype+=n;if(n==="["){t.state=h.DOCTYPE_DTD}else if(isQuote(n)){t.state=h.DOCTYPE_QUOTED;t.q=n}}continue;case h.DOCTYPE_QUOTED:t.doctype+=n;if(n===t.q){t.q="";t.state=h.DOCTYPE}continue;case h.DOCTYPE_DTD:t.doctype+=n;if(n==="]"){t.state=h.DOCTYPE}else if(isQuote(n)){t.state=h.DOCTYPE_DTD_QUOTED;t.q=n}continue;case h.DOCTYPE_DTD_QUOTED:t.doctype+=n;if(n===t.q){t.state=h.DOCTYPE_DTD;t.q=""}continue;case h.COMMENT:if(n==="-"){t.state=h.COMMENT_ENDING}else{t.comment+=n}continue;case h.COMMENT_ENDING:if(n==="-"){t.state=h.COMMENT_ENDED;t.comment=textopts(t.opt,t.comment);if(t.comment){emitNode(t,"oncomment",t.comment)}t.comment=""}else{t.comment+="-"+n;t.state=h.COMMENT}continue;case h.COMMENT_ENDED:if(n!==">"){strictFail(t,"Malformed comment");t.comment+="--"+n;t.state=h.COMMENT}else{t.state=h.TEXT}continue;case h.CDATA:if(n==="]"){t.state=h.CDATA_ENDING}else{t.cdata+=n}continue;case h.CDATA_ENDING:if(n==="]"){t.state=h.CDATA_ENDING_2}else{t.cdata+="]"+n;t.state=h.CDATA}continue;case h.CDATA_ENDING_2:if(n===">"){if(t.cdata){emitNode(t,"oncdata",t.cdata)}emitNode(t,"onclosecdata");t.cdata="";t.state=h.TEXT}else if(n==="]"){t.cdata+="]"}else{t.cdata+="]]"+n;t.state=h.CDATA}continue;case h.PROC_INST:if(n==="?"){t.state=h.PROC_INST_ENDING}else if(isWhitespace(n)){t.state=h.PROC_INST_BODY}else{t.procInstName+=n}continue;case h.PROC_INST_BODY:if(!t.procInstBody&&isWhitespace(n)){continue}else if(n==="?"){t.state=h.PROC_INST_ENDING}else{t.procInstBody+=n}continue;case h.PROC_INST_ENDING:if(n===">"){emitNode(t,"onprocessinginstruction",{name:t.procInstName,body:t.procInstBody});t.procInstName=t.procInstBody="";t.state=h.TEXT}else{t.procInstBody+="?"+n;t.state=h.PROC_INST_BODY}continue;case h.OPEN_TAG:if(isMatch(d,n)){t.tagName+=n}else{newTag(t);if(n===">"){openTag(t)}else if(n==="/"){t.state=h.OPEN_TAG_SLASH}else{if(!isWhitespace(n)){strictFail(t,"Invalid character in tag name")}t.state=h.ATTRIB}}continue;case h.OPEN_TAG_SLASH:if(n===">"){openTag(t,true);closeTag(t)}else{strictFail(t,"Forward-slash in opening tag not followed by >");t.state=h.ATTRIB}continue;case h.ATTRIB:if(isWhitespace(n)){continue}else if(n===">"){openTag(t)}else if(n==="/"){t.state=h.OPEN_TAG_SLASH}else if(isMatch(u,n)){t.attribName=n;t.attribValue="";t.state=h.ATTRIB_NAME}else{strictFail(t,"Invalid attribute name")}continue;case h.ATTRIB_NAME:if(n==="="){t.state=h.ATTRIB_VALUE}else if(n===">"){strictFail(t,"Attribute without value");t.attribValue=t.attribName;attrib(t);openTag(t)}else if(isWhitespace(n)){t.state=h.ATTRIB_NAME_SAW_WHITE}else if(isMatch(d,n)){t.attribName+=n}else{strictFail(t,"Invalid attribute name")}continue;case h.ATTRIB_NAME_SAW_WHITE:if(n==="="){t.state=h.ATTRIB_VALUE}else if(isWhitespace(n)){continue}else{strictFail(t,"Attribute without value");t.tag.attributes[t.attribName]="";t.attribValue="";emitNode(t,"onattribute",{name:t.attribName,value:""});t.attribName="";if(n===">"){openTag(t)}else if(isMatch(u,n)){t.attribName=n;t.state=h.ATTRIB_NAME}else{strictFail(t,"Invalid attribute name");t.state=h.ATTRIB}}continue;case h.ATTRIB_VALUE:if(isWhitespace(n)){continue}else if(isQuote(n)){t.q=n;t.state=h.ATTRIB_VALUE_QUOTED}else{strictFail(t,"Unquoted attribute value");t.state=h.ATTRIB_VALUE_UNQUOTED;t.attribValue=n}continue;case h.ATTRIB_VALUE_QUOTED:if(n!==t.q){if(n==="&"){t.state=h.ATTRIB_VALUE_ENTITY_Q}else{t.attribValue+=n}continue}attrib(t);t.q="";t.state=h.ATTRIB_VALUE_CLOSED;continue;case h.ATTRIB_VALUE_CLOSED:if(isWhitespace(n)){t.state=h.ATTRIB}else if(n===">"){openTag(t)}else if(n==="/"){t.state=h.OPEN_TAG_SLASH}else if(isMatch(u,n)){strictFail(t,"No whitespace between attributes");t.attribName=n;t.attribValue="";t.state=h.ATTRIB_NAME}else{strictFail(t,"Invalid attribute name")}continue;case h.ATTRIB_VALUE_UNQUOTED:if(!isAttribEnd(n)){if(n==="&"){t.state=h.ATTRIB_VALUE_ENTITY_U}else{t.attribValue+=n}continue}attrib(t);if(n===">"){openTag(t)}else{t.state=h.ATTRIB}continue;case h.CLOSE_TAG:if(!t.tagName){if(isWhitespace(n)){continue}else if(notMatch(u,n)){if(t.script){t.script+="</"+n;t.state=h.SCRIPT}else{strictFail(t,"Invalid tagname in closing tag.")}}else{t.tagName=n}}else if(n===">"){closeTag(t)}else if(isMatch(d,n)){t.tagName+=n}else if(t.script){t.script+="</"+t.tagName;t.tagName="";t.state=h.SCRIPT}else{if(!isWhitespace(n)){strictFail(t,"Invalid tagname in closing tag")}t.state=h.CLOSE_TAG_SAW_WHITE}continue;case h.CLOSE_TAG_SAW_WHITE:if(isWhitespace(n)){continue}if(n===">"){closeTag(t)}else{strictFail(t,"Invalid characters in closing tag")}continue;case h.TEXT_ENTITY:case h.ATTRIB_VALUE_ENTITY_Q:case h.ATTRIB_VALUE_ENTITY_U:var c;var l;switch(t.state){case h.TEXT_ENTITY:c=h.TEXT;l="textNode";break;case h.ATTRIB_VALUE_ENTITY_Q:c=h.ATTRIB_VALUE_QUOTED;l="attribValue";break;case h.ATTRIB_VALUE_ENTITY_U:c=h.ATTRIB_VALUE_UNQUOTED;l="attribValue";break}if(n===";"){t[l]+=parseEntity(t);t.entity="";t.state=c}else if(isMatch(t.entity.length?f:p,n)){t.entity+=n}else{strictFail(t,"Invalid character in entity name");t[l]+="&"+t.entity+n;t.entity="";t.state=c}continue;default:throw new Error(t,"Unknown state: "+t.state)}}if(t.position>=t.bufferCheckPosition){checkBufferLength(t)}return t}
/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */if(!String.fromCodePoint){(function(){var e=String.fromCharCode;var t=Math.floor;var fromCodePoint=function(){var r=16384;var n=[];var i;var o;var s=-1;var a=arguments.length;if(!a){return""}var c="";while(++s<a){var l=Number(arguments[s]);if(!isFinite(l)||l<0||l>1114111||t(l)!==l){throw RangeError("Invalid code point: "+l)}if(l<=65535){n.push(l)}else{l-=65536;i=(l>>10)+55296;o=l%1024+56320;n.push(i,o)}if(s+1===a||n.length>r){c+=e.apply(null,n);n.length=0}}return c};if(Object.defineProperty){Object.defineProperty(String,"fromCodePoint",{value:fromCodePoint,configurable:true,writable:true})}else{String.fromCodePoint=fromCodePoint}})()}})(false?0:t)},3917:(e,t,r)=>{const n=r(8796);class DateRollingFileStream extends n{constructor(e,t,r){if(t&&typeof t==="object"){r=t;t=null}if(!r){r={}}if(!t){t="yyyy-MM-dd"}r.pattern=t;if(!r.numBackups&&r.numBackups!==0){if(!r.daysToKeep&&r.daysToKeep!==0){r.daysToKeep=1}else{process.emitWarning("options.daysToKeep is deprecated due to the confusion it causes when used "+"together with file size rolling. Please use options.numBackups instead.","DeprecationWarning","streamroller-DEP0001")}r.numBackups=r.daysToKeep}else{r.daysToKeep=r.numBackups}super(e,r);this.mode=this.options.mode}get theStream(){return this.currentFileStream}}e.exports=DateRollingFileStream},5476:(e,t,r)=>{const n=r(8796);class RollingFileStream extends n{constructor(e,t,r,n){if(!n){n={}}if(t){n.maxSize=t}if(!n.numBackups&&n.numBackups!==0){if(!r&&r!==0){r=1}n.numBackups=r}super(e,n);this.backups=n.numBackups;this.size=this.options.maxSize}get theStream(){return this.currentFileStream}}e.exports=RollingFileStream},8796:(e,t,r)=>{const n=r(8237)("streamroller:RollingFileWriteStream");const i=r(5630);const o=r(5622);const s=r(2087);const a=r(9652);const c=r(6821);const{Writable:l}=r(2413);const u=r(360);const d=r(2592);const p=r(66);const deleteFiles=e=>{n(`deleteFiles: files to delete: ${e}`);return Promise.all(e.map((e=>i.unlink(e).catch((t=>{n(`deleteFiles: error when unlinking ${e}, ignoring. Error was ${t}`)})))))};class RollingFileWriteStream extends l{constructor(e,t){n(`constructor: creating RollingFileWriteStream. path=${e}`);if(typeof e!=="string"||e.length===0){throw new Error(`Invalid filename: ${e}`)}else if(e.endsWith(o.sep)){throw new Error(`Filename is a directory: ${e}`)}else{e=e.replace(new RegExp(`^~(?=${o.sep}.+)`),s.homedir())}super(t);this.options=this._parseOption(t);this.fileObject=o.parse(e);if(this.fileObject.dir===""){this.fileObject=o.parse(o.join(process.cwd(),e))}this.fileFormatter=u({file:this.fileObject,alwaysIncludeDate:this.options.alwaysIncludePattern,needsIndex:this.options.maxSize<Number.MAX_SAFE_INTEGER,compress:this.options.compress,keepFileExt:this.options.keepFileExt,fileNameSep:this.options.fileNameSep});this.fileNameParser=d({file:this.fileObject,keepFileExt:this.options.keepFileExt,pattern:this.options.pattern,fileNameSep:this.options.fileNameSep});this.state={currentSize:0};if(this.options.pattern){this.state.currentDate=c(this.options.pattern,a())}this.filename=this.fileFormatter({index:0,date:this.state.currentDate});if(["a","a+","as","as+"].includes(this.options.flags)){this._setExistingSizeAndDate()}n(`constructor: create new file ${this.filename}, state=${JSON.stringify(this.state)}`);this._renewWriteStream()}_setExistingSizeAndDate(){try{const e=i.statSync(this.filename);this.state.currentSize=e.size;if(this.options.pattern){this.state.currentDate=c(this.options.pattern,e.mtime)}}catch(e){return}}_parseOption(e){const t={maxSize:0,numToKeep:Number.MAX_SAFE_INTEGER,encoding:"utf8",mode:parseInt("0600",8),flags:"a",compress:false,keepFileExt:false,alwaysIncludePattern:false};const r=Object.assign({},t,e);if(!r.maxSize){delete r.maxSize}else if(r.maxSize<=0){throw new Error(`options.maxSize (${r.maxSize}) should be > 0`)}if(r.numBackups||r.numBackups===0){if(r.numBackups<0){throw new Error(`options.numBackups (${r.numBackups}) should be >= 0`)}else if(r.numBackups>=Number.MAX_SAFE_INTEGER){throw new Error(`options.numBackups (${r.numBackups}) should be < Number.MAX_SAFE_INTEGER`)}else{r.numToKeep=r.numBackups+1}}else if(r.numToKeep<=0){throw new Error(`options.numToKeep (${r.numToKeep}) should be > 0`)}n(`_parseOption: creating stream with option=${JSON.stringify(r)}`);return r}_final(e){this.currentFileStream.end("",this.options.encoding,e)}_write(e,t,r){this._shouldRoll().then((()=>{n(`_write: writing chunk. `+`file=${this.currentFileStream.path} `+`state=${JSON.stringify(this.state)} `+`chunk=${e}`);this.currentFileStream.write(e,t,(t=>{this.state.currentSize+=e.length;r(t)}))}))}async _shouldRoll(){if(this._dateChanged()||this._tooBig()){n(`_shouldRoll: rolling because dateChanged? ${this._dateChanged()} or tooBig? ${this._tooBig()}`);await this._roll()}}_dateChanged(){return this.state.currentDate&&this.state.currentDate!==c(this.options.pattern,a())}_tooBig(){return this.state.currentSize>=this.options.maxSize}_roll(){n(`_roll: closing the current stream`);return new Promise(((e,t)=>{this.currentFileStream.end("",this.options.encoding,(()=>{this._moveOldFiles().then(e).catch(t)}))}))}async _moveOldFiles(){const e=await this._getExistingFiles();const t=this.state.currentDate?e.filter((e=>e.date===this.state.currentDate)):e;for(let e=t.length;e>=0;e--){n(`_moveOldFiles: i = ${e}`);const t=this.fileFormatter({date:this.state.currentDate,index:e});const r=this.fileFormatter({date:this.state.currentDate,index:e+1});const i={compress:this.options.compress&&e===0,mode:this.options.mode};await p(t,r,i)}this.state.currentSize=0;this.state.currentDate=this.state.currentDate?c(this.options.pattern,a()):null;n(`_moveOldFiles: finished rolling files. state=${JSON.stringify(this.state)}`);this._renewWriteStream();await new Promise(((e,t)=>{this.currentFileStream.write("","utf8",(()=>{this._clean().then(e).catch(t)}))}))}async _getExistingFiles(){const e=await i.readdir(this.fileObject.dir).catch((()=>[]));n(`_getExistingFiles: files=${e}`);const t=e.map((e=>this.fileNameParser(e))).filter((e=>e));const getKey=e=>(e.timestamp?e.timestamp:a().getTime())-e.index;t.sort(((e,t)=>getKey(e)-getKey(t)));return t}_renewWriteStream(){const e=this.fileFormatter({date:this.state.currentDate,index:0});const mkdir=e=>{try{return i.mkdirSync(e,{recursive:true})}catch(t){if(t.code==="ENOENT"){mkdir(o.dirname(e));return mkdir(e)}if(t.code!=="EEXIST"&&t.code!=="EROFS"){throw t}else{try{if(i.statSync(e).isDirectory()){return e}throw t}catch(e){throw t}}}};mkdir(this.fileObject.dir);const t={flags:this.options.flags,encoding:this.options.encoding,mode:this.options.mode};const renameKey=function(e,t,r){e[r]=e[t];delete e[t];return e};i.appendFileSync(e,"",renameKey({...t},"flags","flag"));this.currentFileStream=i.createWriteStream(e,t);this.currentFileStream.on("error",(e=>{this.emit("error",e)}))}async _clean(){const e=await this._getExistingFiles();n(`_clean: numToKeep = ${this.options.numToKeep}, existingFiles = ${e.length}`);n("_clean: existing files are: ",e);if(this._tooManyFiles(e.length)){const t=e.slice(0,e.length-this.options.numToKeep).map((e=>o.format({dir:this.fileObject.dir,base:e.filename})));await deleteFiles(t)}}_tooManyFiles(e){return this.options.numToKeep>0&&e>this.options.numToKeep}}e.exports=RollingFileWriteStream},360:(e,t,r)=>{const n=r(8237)("streamroller:fileNameFormatter");const i=r(5622);const o=".gz";const s=".";e.exports=({file:e,keepFileExt:t,needsIndex:r,alwaysIncludeDate:a,compress:c,fileNameSep:l})=>{let u=l||s;const d=i.join(e.dir,e.name);const ext=t=>t+e.ext;const index=(e,t,n)=>(r||!n)&&t?e+u+t:e;const date=(e,t,r)=>(t>0||a)&&r?e+u+r:e;const gzip=(e,t)=>t&&c?e+o:e;const p=t?[date,index,ext,gzip]:[ext,date,index,gzip];return({date:e,index:t})=>{n(`_formatFileName: date=${e}, index=${t}`);return p.reduce(((r,n)=>n(r,t,e)),d)}}},2592:(e,t,r)=>{const n=r(8237)("streamroller:fileNameParser");const i=".gz";const o=r(6821);const s=".";e.exports=({file:e,keepFileExt:t,pattern:r,fileNameSep:a})=>{let c=a||s;const zip=(e,t)=>{if(e.endsWith(i)){n("it is gzipped");t.isCompressed=true;return e.slice(0,-1*i.length)}return e};const l="__NOT_MATCHING__";const extAtEnd=t=>{if(t.startsWith(e.name)&&t.endsWith(e.ext)){n("it starts and ends with the right things");return t.slice(e.name.length+1,-1*e.ext.length)}return l};const extInMiddle=t=>{if(t.startsWith(e.base)){n("it starts with the right things");return t.slice(e.base.length+1)}return l};const dateAndIndex=(e,t)=>{const i=e.split(c);let s=i[i.length-1];n("items: ",i,", indexStr: ",s);let a=e;if(s!==undefined&&s.match(/^\d+$/)){a=e.slice(0,-1*(s.length+1));n(`dateStr is ${a}`);if(r&&!a){a=s;s="0"}}else{s="0"}try{const n=o.parse(r,a,new Date(0,0));if(o.asString(r,n)!==a)return e;t.index=parseInt(s,10);t.date=a;t.timestamp=n.getTime();return""}catch(t){n(`Problem parsing ${a} as ${r}, error was: `,t);return e}};const index=(e,t)=>{if(e.match(/^\d+$/)){n("it has an index");t.index=parseInt(e,10);return""}return e};let u=[zip,t?extAtEnd:extInMiddle,r?dateAndIndex:index];return e=>{let t={filename:e,index:0,isCompressed:false};let r=u.reduce(((e,r)=>r(e,t)),e);return r?null:t}}},5735:(e,t,r)=>{e.exports={RollingFileWriteStream:r(8796),RollingFileStream:r(5476),DateRollingFileStream:r(3917)}},66:(e,t,r)=>{const n=r(8237)("streamroller:moveAndMaybeCompressFile");const i=r(5630);const o=r(1903);const _parseOption=function(e){const t={mode:parseInt("0600",8),compress:false};const r=Object.assign({},t,e);n(`_parseOption: moveAndMaybeCompressFile called with option=${JSON.stringify(r)}`);return r};const moveAndMaybeCompressFile=async(e,t,r)=>{r=_parseOption(r);if(e===t){n(`moveAndMaybeCompressFile: source and target are the same, not doing anything`);return}if(await i.pathExists(e)){n(`moveAndMaybeCompressFile: moving file from ${e} to ${t} ${r.compress?"with":"without"} compress`);if(r.compress){await new Promise(((s,a)=>{let c=false;const l=i.createWriteStream(t,{mode:r.mode,flags:"wx"}).on("open",(()=>{c=true;const t=i.createReadStream(e).on("open",(()=>{t.pipe(o.createGzip()).pipe(l)})).on("error",(t=>{n(`moveAndMaybeCompressFile: error reading ${e}`,t);l.destroy(t)}))})).on("finish",(()=>{n(`moveAndMaybeCompressFile: finished compressing ${t}, deleting ${e}`);i.unlink(e).then(s).catch((t=>{n(`moveAndMaybeCompressFile: error deleting ${e}, truncating instead`,t);i.truncate(e).then(s).catch((t=>{n(`moveAndMaybeCompressFile: error truncating ${e}`,t);a(t)}))}))})).on("error",(e=>{if(!c){n(`moveAndMaybeCompressFile: error creating ${t}`,e);a(e)}else{n(`moveAndMaybeCompressFile: error writing ${t}, deleting`,e);i.unlink(t).then((()=>{a(e)})).catch((e=>{n(`moveAndMaybeCompressFile: error deleting ${t}`,e);a(e)}))}}))})).catch((()=>{}))}else{n(`moveAndMaybeCompressFile: renaming ${e} to ${t}`);try{await i.move(e,t,{overwrite:true})}catch(r){n(`moveAndMaybeCompressFile: error renaming ${e} to ${t}`,r);if(r.code!=="ENOENT"){n(`moveAndMaybeCompressFile: trying copy+truncate instead`);try{await i.copy(e,t,{overwrite:true});await i.truncate(e)}catch(e){n(`moveAndMaybeCompressFile: error copy+truncate`,e)}}}}}};e.exports=moveAndMaybeCompressFile},9652:e=>{e.exports=()=>new Date},9318:(e,t,r)=>{"use strict";const n=r(2087);const i=r(3867);const o=r(1621);const{env:s}=process;let a;if(o("no-color")||o("no-colors")||o("color=false")||o("color=never")){a=0}else if(o("color")||o("colors")||o("color=true")||o("color=always")){a=1}if("FORCE_COLOR"in s){if(s.FORCE_COLOR==="true"){a=1}else if(s.FORCE_COLOR==="false"){a=0}else{a=s.FORCE_COLOR.length===0?1:Math.min(parseInt(s.FORCE_COLOR,10),3)}}function translateLevel(e){if(e===0){return false}return{level:e,hasBasic:true,has256:e>=2,has16m:e>=3}}function supportsColor(e,t){if(a===0){return 0}if(o("color=16m")||o("color=full")||o("color=truecolor")){return 3}if(o("color=256")){return 2}if(e&&!t&&a===undefined){return 0}const r=a||0;if(s.TERM==="dumb"){return r}if(process.platform==="win32"){const e=n.release().split(".");if(Number(e[0])>=10&&Number(e[2])>=10586){return Number(e[2])>=14931?3:2}return 1}if("CI"in s){if(["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some((e=>e in s))||s.CI_NAME==="codeship"){return 1}return r}if("TEAMCITY_VERSION"in s){return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(s.TEAMCITY_VERSION)?1:0}if(s.COLORTERM==="truecolor"){return 3}if("TERM_PROGRAM"in s){const e=parseInt((s.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(s.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}if(/-256(color)?$/i.test(s.TERM)){return 2}if(/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(s.TERM)){return 1}if("COLORTERM"in s){return 1}return r}function getSupportLevel(e){const t=supportsColor(e,e&&e.isTTY);return translateLevel(t)}e.exports={supportsColor:getSupportLevel,stdout:translateLevel(supportsColor(true,i.isatty(1))),stderr:translateLevel(supportsColor(true,i.isatty(2)))}},4294:(e,t,r)=>{e.exports=r(4219)},4219:(e,t,r)=>{"use strict";var n=r(1631);var i=r(4016);var o=r(8605);var s=r(7211);var a=r(8614);var c=r(2357);var l=r(1669);t.httpOverHttp=httpOverHttp;t.httpsOverHttp=httpsOverHttp;t.httpOverHttps=httpOverHttps;t.httpsOverHttps=httpsOverHttps;function httpOverHttp(e){var t=new TunnelingAgent(e);t.request=o.request;return t}function httpsOverHttp(e){var t=new TunnelingAgent(e);t.request=o.request;t.createSocket=createSecureSocket;t.defaultPort=443;return t}function httpOverHttps(e){var t=new TunnelingAgent(e);t.request=s.request;return t}function httpsOverHttps(e){var t=new TunnelingAgent(e);t.request=s.request;t.createSocket=createSecureSocket;t.defaultPort=443;return t}function TunnelingAgent(e){var t=this;t.options=e||{};t.proxyOptions=t.options.proxy||{};t.maxSockets=t.options.maxSockets||o.Agent.defaultMaxSockets;t.requests=[];t.sockets=[];t.on("free",(function onFree(e,r,n,i){var o=toOptions(r,n,i);for(var s=0,a=t.requests.length;s<a;++s){var c=t.requests[s];if(c.host===o.host&&c.port===o.port){t.requests.splice(s,1);c.request.onSocket(e);return}}e.destroy();t.removeSocket(e)}))}l.inherits(TunnelingAgent,a.EventEmitter);TunnelingAgent.prototype.addRequest=function addRequest(e,t,r,n){var i=this;var o=mergeOptions({request:e},i.options,toOptions(t,r,n));if(i.sockets.length>=this.maxSockets){i.requests.push(o);return}i.createSocket(o,(function(t){t.on("free",onFree);t.on("close",onCloseOrRemove);t.on("agentRemove",onCloseOrRemove);e.onSocket(t);function onFree(){i.emit("free",t,o)}function onCloseOrRemove(e){i.removeSocket(t);t.removeListener("free",onFree);t.removeListener("close",onCloseOrRemove);t.removeListener("agentRemove",onCloseOrRemove)}}))};TunnelingAgent.prototype.createSocket=function createSocket(e,t){var r=this;var n={};r.sockets.push(n);var i=mergeOptions({},r.proxyOptions,{method:"CONNECT",path:e.host+":"+e.port,agent:false,headers:{host:e.host+":"+e.port}});if(e.localAddress){i.localAddress=e.localAddress}if(i.proxyAuth){i.headers=i.headers||{};i.headers["Proxy-Authorization"]="Basic "+new Buffer(i.proxyAuth).toString("base64")}u("making CONNECT request");var o=r.request(i);o.useChunkedEncodingByDefault=false;o.once("response",onResponse);o.once("upgrade",onUpgrade);o.once("connect",onConnect);o.once("error",onError);o.end();function onResponse(e){e.upgrade=true}function onUpgrade(e,t,r){process.nextTick((function(){onConnect(e,t,r)}))}function onConnect(i,s,a){o.removeAllListeners();s.removeAllListeners();if(i.statusCode!==200){u("tunneling socket could not be established, statusCode=%d",i.statusCode);s.destroy();var c=new Error("tunneling socket could not be established, "+"statusCode="+i.statusCode);c.code="ECONNRESET";e.request.emit("error",c);r.removeSocket(n);return}if(a.length>0){u("got illegal response body from proxy");s.destroy();var c=new Error("got illegal response body from proxy");c.code="ECONNRESET";e.request.emit("error",c);r.removeSocket(n);return}u("tunneling connection has established");r.sockets[r.sockets.indexOf(n)]=s;return t(s)}function onError(t){o.removeAllListeners();u("tunneling socket could not be established, cause=%s\n",t.message,t.stack);var i=new Error("tunneling socket could not be established, "+"cause="+t.message);i.code="ECONNRESET";e.request.emit("error",i);r.removeSocket(n)}};TunnelingAgent.prototype.removeSocket=function removeSocket(e){var t=this.sockets.indexOf(e);if(t===-1){return}this.sockets.splice(t,1);var r=this.requests.shift();if(r){this.createSocket(r,(function(e){r.request.onSocket(e)}))}};function createSecureSocket(e,t){var r=this;TunnelingAgent.prototype.createSocket.call(r,e,(function(n){var o=e.request.getHeader("host");var s=mergeOptions({},r.options,{socket:n,servername:o?o.replace(/:.*$/,""):e.host});var a=i.connect(0,s);r.sockets[r.sockets.indexOf(n)]=a;t(a)}))}function toOptions(e,t,r){if(typeof e==="string"){return{host:e,port:t,localAddress:r}}return e}function mergeOptions(e){for(var t=1,r=arguments.length;t<r;++t){var n=arguments[t];if(typeof n==="object"){var i=Object.keys(n);for(var o=0,s=i.length;o<s;++o){var a=i[o];if(n[a]!==undefined){e[a]=n[a]}}}}return e}var u;if(process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)){u=function(){var e=Array.prototype.slice.call(arguments);if(typeof e[0]==="string"){e[0]="TUNNEL: "+e[0]}else{e.unshift("TUNNEL:")}console.error.apply(console,e)}}else{u=function(){}}t.debug=u},9046:(e,t)=>{"use strict";t.E=function(e){return Object.defineProperty((function(){if(typeof arguments[arguments.length-1]==="function")e.apply(this,arguments);else{return new Promise(((t,r)=>{arguments[arguments.length]=(e,n)=>{if(e)return r(e);t(n)};arguments.length++;e.apply(this,arguments)}))}}),"name",{value:e.name})};t.p=function(e){return Object.defineProperty((function(){const t=arguments[arguments.length-1];if(typeof t!=="function")return e.apply(this,arguments);else e.apply(this,arguments).then((e=>t(null,e)),t)}),"name",{value:e.name})}},5840:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"v1",{enumerable:true,get:function(){return n.default}});Object.defineProperty(t,"v3",{enumerable:true,get:function(){return i.default}});Object.defineProperty(t,"v4",{enumerable:true,get:function(){return o.default}});Object.defineProperty(t,"v5",{enumerable:true,get:function(){return s.default}});Object.defineProperty(t,"NIL",{enumerable:true,get:function(){return a.default}});Object.defineProperty(t,"version",{enumerable:true,get:function(){return c.default}});Object.defineProperty(t,"validate",{enumerable:true,get:function(){return l.default}});Object.defineProperty(t,"stringify",{enumerable:true,get:function(){return u.default}});Object.defineProperty(t,"parse",{enumerable:true,get:function(){return d.default}});var n=_interopRequireDefault(r(8628));var i=_interopRequireDefault(r(6409));var o=_interopRequireDefault(r(5122));var s=_interopRequireDefault(r(9120));var a=_interopRequireDefault(r(5332));var c=_interopRequireDefault(r(1595));var l=_interopRequireDefault(r(6900));var u=_interopRequireDefault(r(8950));var d=_interopRequireDefault(r(2746));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}},4569:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=_interopRequireDefault(r(6417));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function md5(e){if(Array.isArray(e)){e=Buffer.from(e)}else if(typeof e==="string"){e=Buffer.from(e,"utf8")}return n.default.createHash("md5").update(e).digest()}var i=md5;t.default=i},5332:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r="00000000-0000-0000-0000-000000000000";t.default=r},2746:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=_interopRequireDefault(r(6900));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function parse(e){if(!(0,n.default)(e)){throw TypeError("Invalid UUID")}let t;const r=new Uint8Array(16);r[0]=(t=parseInt(e.slice(0,8),16))>>>24;r[1]=t>>>16&255;r[2]=t>>>8&255;r[3]=t&255;r[4]=(t=parseInt(e.slice(9,13),16))>>>8;r[5]=t&255;r[6]=(t=parseInt(e.slice(14,18),16))>>>8;r[7]=t&255;r[8]=(t=parseInt(e.slice(19,23),16))>>>8;r[9]=t&255;r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255;r[11]=t/4294967296&255;r[12]=t>>>24&255;r[13]=t>>>16&255;r[14]=t>>>8&255;r[15]=t&255;return r}var i=parse;t.default=i},814:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var r=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;t.default=r},807:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=rng;var n=_interopRequireDefault(r(6417));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const i=new Uint8Array(256);let o=i.length;function rng(){if(o>i.length-16){n.default.randomFillSync(i);o=0}return i.slice(o,o+=16)}},5274:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=_interopRequireDefault(r(6417));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function sha1(e){if(Array.isArray(e)){e=Buffer.from(e)}else if(typeof e==="string"){e=Buffer.from(e,"utf8")}return n.default.createHash("sha1").update(e).digest()}var i=sha1;t.default=i},8950:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=_interopRequireDefault(r(6900));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const i=[];for(let e=0;e<256;++e){i.push((e+256).toString(16).substr(1))}function stringify(e,t=0){const r=(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase();if(!(0,n.default)(r)){throw TypeError("Stringified UUID is invalid")}return r}var o=stringify;t.default=o},8628:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=_interopRequireDefault(r(807));var i=_interopRequireDefault(r(8950));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}let o;let s;let a=0;let c=0;function v1(e,t,r){let l=t&&r||0;const u=t||new Array(16);e=e||{};let d=e.node||o;let p=e.clockseq!==undefined?e.clockseq:s;if(d==null||p==null){const t=e.random||(e.rng||n.default)();if(d==null){d=o=[t[0]|1,t[1],t[2],t[3],t[4],t[5]]}if(p==null){p=s=(t[6]<<8|t[7])&16383}}let f=e.msecs!==undefined?e.msecs:Date.now();let h=e.nsecs!==undefined?e.nsecs:c+1;const m=f-a+(h-c)/1e4;if(m<0&&e.clockseq===undefined){p=p+1&16383}if((m<0||f>a)&&e.nsecs===undefined){h=0}if(h>=1e4){throw new Error("uuid.v1(): Can't create more than 10M uuids/sec")}a=f;c=h;s=p;f+=122192928e5;const y=((f&268435455)*1e4+h)%4294967296;u[l++]=y>>>24&255;u[l++]=y>>>16&255;u[l++]=y>>>8&255;u[l++]=y&255;const g=f/4294967296*1e4&268435455;u[l++]=g>>>8&255;u[l++]=g&255;u[l++]=g>>>24&15|16;u[l++]=g>>>16&255;u[l++]=p>>>8|128;u[l++]=p&255;for(let e=0;e<6;++e){u[l+e]=d[e]}return t||(0,i.default)(u)}var l=v1;t.default=l},6409:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=_interopRequireDefault(r(5998));var i=_interopRequireDefault(r(4569));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const o=(0,n.default)("v3",48,i.default);var s=o;t.default=s},5998:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=_default;t.URL=t.DNS=void 0;var n=_interopRequireDefault(r(8950));var i=_interopRequireDefault(r(2746));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function stringToBytes(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r){t.push(e.charCodeAt(r))}return t}const o="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=o;const s="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=s;function _default(e,t,r){function generateUUID(e,o,s,a){if(typeof e==="string"){e=stringToBytes(e)}if(typeof o==="string"){o=(0,i.default)(o)}if(o.length!==16){throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)")}let c=new Uint8Array(16+e.length);c.set(o);c.set(e,o.length);c=r(c);c[6]=c[6]&15|t;c[8]=c[8]&63|128;if(s){a=a||0;for(let e=0;e<16;++e){s[a+e]=c[e]}return s}return(0,n.default)(c)}try{generateUUID.name=e}catch(e){}generateUUID.DNS=o;generateUUID.URL=s;return generateUUID}},5122:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=_interopRequireDefault(r(807));var i=_interopRequireDefault(r(8950));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function v4(e,t,r){e=e||{};const o=e.random||(e.rng||n.default)();o[6]=o[6]&15|64;o[8]=o[8]&63|128;if(t){r=r||0;for(let e=0;e<16;++e){t[r+e]=o[e]}return t}return(0,i.default)(o)}var o=v4;t.default=o},9120:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=_interopRequireDefault(r(5998));var i=_interopRequireDefault(r(5274));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const o=(0,n.default)("v5",80,i.default);var s=o;t.default=s},6900:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=_interopRequireDefault(r(814));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function validate(e){return typeof e==="string"&&n.default.test(e)}var i=validate;t.default=i},1595:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=void 0;var n=_interopRequireDefault(r(6900));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function version(e){if(!(0,n.default)(e)){throw TypeError("Invalid UUID")}return parseInt(e.substr(14,1),16)}var i=version;t.default=i},2624:function(e,t){(function(){"use strict";t.stripBOM=function(e){if(e[0]==="\ufeff"){return e.substring(1)}else{return e}}}).call(this)},3337:function(e,t,r){(function(){"use strict";var e,n,i,o,s,a={}.hasOwnProperty;e=r(2958);n=r(7251).defaults;o=function(e){return typeof e==="string"&&(e.indexOf("&")>=0||e.indexOf(">")>=0||e.indexOf("<")>=0)};s=function(e){return"<![CDATA["+i(e)+"]]>"};i=function(e){return e.replace("]]>","]]]]><![CDATA[>")};t.Builder=function(){function Builder(e){var t,r,i;this.options={};r=n["0.2"];for(t in r){if(!a.call(r,t))continue;i=r[t];this.options[t]=i}for(t in e){if(!a.call(e,t))continue;i=e[t];this.options[t]=i}}Builder.prototype.buildObject=function(t){var r,i,c,l,u;r=this.options.attrkey;i=this.options.charkey;if(Object.keys(t).length===1&&this.options.rootName===n["0.2"].rootName){u=Object.keys(t)[0];t=t[u]}else{u=this.options.rootName}c=function(e){return function(t,n){var l,u,d,p,f,h;if(typeof n!=="object"){if(e.options.cdata&&o(n)){t.raw(s(n))}else{t.txt(n)}}else if(Array.isArray(n)){for(p in n){if(!a.call(n,p))continue;u=n[p];for(f in u){d=u[f];t=c(t.ele(f),d).up()}}}else{for(f in n){if(!a.call(n,f))continue;u=n[f];if(f===r){if(typeof u==="object"){for(l in u){h=u[l];t=t.att(l,h)}}}else if(f===i){if(e.options.cdata&&o(u)){t=t.raw(s(u))}else{t=t.txt(u)}}else if(Array.isArray(u)){for(p in u){if(!a.call(u,p))continue;d=u[p];if(typeof d==="string"){if(e.options.cdata&&o(d)){t=t.ele(f).raw(s(d)).up()}else{t=t.ele(f,d).up()}}else{t=c(t.ele(f),d).up()}}}else if(typeof u==="object"){t=c(t.ele(f),u).up()}else{if(typeof u==="string"&&e.options.cdata&&o(u)){t=t.ele(f).raw(s(u)).up()}else{if(u==null){u=""}t=t.ele(f,u.toString()).up()}}}}return t}}(this);l=e.create(u,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars});return c(l,t).end(this.options.renderOpts)};return Builder}()}).call(this)},7251:function(e,t){(function(){t.defaults={.1:{explicitCharkey:false,trim:true,normalize:true,normalizeTags:false,attrkey:"@",charkey:"#",explicitArray:false,ignoreAttrs:false,mergeAttrs:false,explicitRoot:false,validator:null,xmlns:false,explicitChildren:false,childkey:"@@",charsAsChildren:false,includeWhiteChars:false,async:false,strict:true,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},.2:{explicitCharkey:false,trim:false,normalize:false,normalizeTags:false,attrkey:"$",charkey:"_",explicitArray:true,ignoreAttrs:false,mergeAttrs:false,explicitRoot:true,validator:null,xmlns:false,explicitChildren:false,preserveChildrenOrder:false,childkey:"$$",charsAsChildren:false,includeWhiteChars:false,async:false,strict:true,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:true},doctype:null,renderOpts:{pretty:true,indent:"  ",newline:"\n"},headless:false,chunkSize:1e4,emptyTag:"",cdata:false}}}).call(this)},3314:function(e,t,r){(function(){"use strict";var e,n,i,o,s,a,c,l,bind=function(e,t){return function(){return e.apply(t,arguments)}},extend=function(e,t){for(var r in t){if(u.call(t,r))e[r]=t[r]}function ctor(){this.constructor=e}ctor.prototype=t.prototype;e.prototype=new ctor;e.__super__=t.prototype;return e},u={}.hasOwnProperty;c=r(2043);i=r(8614);e=r(2624);a=r(9236);l=r(8213).setImmediate;n=r(7251).defaults;o=function(e){return typeof e==="object"&&e!=null&&Object.keys(e).length===0};s=function(e,t,r){var n,i,o;for(n=0,i=e.length;n<i;n++){o=e[n];t=o(t,r)}return t};t.Parser=function(r){extend(Parser,r);function Parser(e){this.parseStringPromise=bind(this.parseStringPromise,this);this.parseString=bind(this.parseString,this);this.reset=bind(this.reset,this);this.assignOrPush=bind(this.assignOrPush,this);this.processAsync=bind(this.processAsync,this);var r,i,o;if(!(this instanceof t.Parser)){return new t.Parser(e)}this.options={};i=n["0.2"];for(r in i){if(!u.call(i,r))continue;o=i[r];this.options[r]=o}for(r in e){if(!u.call(e,r))continue;o=e[r];this.options[r]=o}if(this.options.xmlns){this.options.xmlnskey=this.options.attrkey+"ns"}if(this.options.normalizeTags){if(!this.options.tagNameProcessors){this.options.tagNameProcessors=[]}this.options.tagNameProcessors.unshift(a.normalize)}this.reset()}Parser.prototype.processAsync=function(){var e,t;try{if(this.remaining.length<=this.options.chunkSize){e=this.remaining;this.remaining="";this.saxParser=this.saxParser.write(e);return this.saxParser.close()}else{e=this.remaining.substr(0,this.options.chunkSize);this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length);this.saxParser=this.saxParser.write(e);return l(this.processAsync)}}catch(e){t=e;if(!this.saxParser.errThrown){this.saxParser.errThrown=true;return this.emit(t)}}};Parser.prototype.assignOrPush=function(e,t,r){if(!(t in e)){if(!this.options.explicitArray){return e[t]=r}else{return e[t]=[r]}}else{if(!(e[t]instanceof Array)){e[t]=[e[t]]}return e[t].push(r)}};Parser.prototype.reset=function(){var e,t,r,n;this.removeAllListeners();this.saxParser=c.parser(this.options.strict,{trim:false,normalize:false,xmlns:this.options.xmlns});this.saxParser.errThrown=false;this.saxParser.onerror=function(e){return function(t){e.saxParser.resume();if(!e.saxParser.errThrown){e.saxParser.errThrown=true;return e.emit("error",t)}}}(this);this.saxParser.onend=function(e){return function(){if(!e.saxParser.ended){e.saxParser.ended=true;return e.emit("end",e.resultObject)}}}(this);this.saxParser.ended=false;this.EXPLICIT_CHARKEY=this.options.explicitCharkey;this.resultObject=null;n=[];e=this.options.attrkey;t=this.options.charkey;this.saxParser.onopentag=function(r){return function(i){var o,a,c,l,d;c={};c[t]="";if(!r.options.ignoreAttrs){d=i.attributes;for(o in d){if(!u.call(d,o))continue;if(!(e in c)&&!r.options.mergeAttrs){c[e]={}}a=r.options.attrValueProcessors?s(r.options.attrValueProcessors,i.attributes[o],o):i.attributes[o];l=r.options.attrNameProcessors?s(r.options.attrNameProcessors,o):o;if(r.options.mergeAttrs){r.assignOrPush(c,l,a)}else{c[e][l]=a}}}c["#name"]=r.options.tagNameProcessors?s(r.options.tagNameProcessors,i.name):i.name;if(r.options.xmlns){c[r.options.xmlnskey]={uri:i.uri,local:i.local}}return n.push(c)}}(this);this.saxParser.onclosetag=function(e){return function(){var r,i,a,c,l,d,p,f,h,m;d=n.pop();l=d["#name"];if(!e.options.explicitChildren||!e.options.preserveChildrenOrder){delete d["#name"]}if(d.cdata===true){r=d.cdata;delete d.cdata}h=n[n.length-1];if(d[t].match(/^\s*$/)&&!r){i=d[t];delete d[t]}else{if(e.options.trim){d[t]=d[t].trim()}if(e.options.normalize){d[t]=d[t].replace(/\s{2,}/g," ").trim()}d[t]=e.options.valueProcessors?s(e.options.valueProcessors,d[t],l):d[t];if(Object.keys(d).length===1&&t in d&&!e.EXPLICIT_CHARKEY){d=d[t]}}if(o(d)){d=e.options.emptyTag!==""?e.options.emptyTag:i}if(e.options.validator!=null){m="/"+function(){var e,t,r;r=[];for(e=0,t=n.length;e<t;e++){c=n[e];r.push(c["#name"])}return r}().concat(l).join("/");(function(){var t;try{return d=e.options.validator(m,h&&h[l],d)}catch(r){t=r;return e.emit("error",t)}})()}if(e.options.explicitChildren&&!e.options.mergeAttrs&&typeof d==="object"){if(!e.options.preserveChildrenOrder){c={};if(e.options.attrkey in d){c[e.options.attrkey]=d[e.options.attrkey];delete d[e.options.attrkey]}if(!e.options.charsAsChildren&&e.options.charkey in d){c[e.options.charkey]=d[e.options.charkey];delete d[e.options.charkey]}if(Object.getOwnPropertyNames(d).length>0){c[e.options.childkey]=d}d=c}else if(h){h[e.options.childkey]=h[e.options.childkey]||[];p={};for(a in d){if(!u.call(d,a))continue;p[a]=d[a]}h[e.options.childkey].push(p);delete d["#name"];if(Object.keys(d).length===1&&t in d&&!e.EXPLICIT_CHARKEY){d=d[t]}}}if(n.length>0){return e.assignOrPush(h,l,d)}else{if(e.options.explicitRoot){f=d;d={};d[l]=f}e.resultObject=d;e.saxParser.ended=true;return e.emit("end",e.resultObject)}}}(this);r=function(e){return function(r){var i,o;o=n[n.length-1];if(o){o[t]+=r;if(e.options.explicitChildren&&e.options.preserveChildrenOrder&&e.options.charsAsChildren&&(e.options.includeWhiteChars||r.replace(/\\n/g,"").trim()!=="")){o[e.options.childkey]=o[e.options.childkey]||[];i={"#name":"__text__"};i[t]=r;if(e.options.normalize){i[t]=i[t].replace(/\s{2,}/g," ").trim()}o[e.options.childkey].push(i)}return o}}}(this);this.saxParser.ontext=r;return this.saxParser.oncdata=function(e){return function(e){var t;t=r(e);if(t){return t.cdata=true}}}(this)};Parser.prototype.parseString=function(t,r){var n;if(r!=null&&typeof r==="function"){this.on("end",(function(e){this.reset();return r(null,e)}));this.on("error",(function(e){this.reset();return r(e)}))}try{t=t.toString();if(t.trim()===""){this.emit("end",null);return true}t=e.stripBOM(t);if(this.options.async){this.remaining=t;l(this.processAsync);return this.saxParser}return this.saxParser.write(t).close()}catch(e){n=e;if(!(this.saxParser.errThrown||this.saxParser.ended)){this.emit("error",n);return this.saxParser.errThrown=true}else if(this.saxParser.ended){throw n}}};Parser.prototype.parseStringPromise=function(e){return new Promise(function(t){return function(r,n){return t.parseString(e,(function(e,t){if(e){return n(e)}else{return r(t)}}))}}(this))};return Parser}(i);t.parseString=function(e,r,n){var i,o,s;if(n!=null){if(typeof n==="function"){i=n}if(typeof r==="object"){o=r}}else{if(typeof r==="function"){i=r}o={}}s=new t.Parser(o);return s.parseString(e,i)};t.parseStringPromise=function(e,r){var n,i;if(typeof r==="object"){n=r}i=new t.Parser(n);return i.parseStringPromise(e)}}).call(this)},9236:function(e,t){(function(){"use strict";var e;e=new RegExp(/(?!xmlns)^.*:/);t.normalize=function(e){return e.toLowerCase()};t.firstCharLowerCase=function(e){return e.charAt(0).toLowerCase()+e.slice(1)};t.stripPrefix=function(t){return t.replace(e,"")};t.parseNumbers=function(e){if(!isNaN(e)){e=e%1===0?parseInt(e,10):parseFloat(e)}return e};t.parseBooleans=function(e){if(/^(?:true|false)$/i.test(e)){e=e.toLowerCase()==="true"}return e}}).call(this)},6189:function(e,t,r){(function(){"use strict";var e,n,i,o,extend=function(e,t){for(var r in t){if(s.call(t,r))e[r]=t[r]}function ctor(){this.constructor=e}ctor.prototype=t.prototype;e.prototype=new ctor;e.__super__=t.prototype;return e},s={}.hasOwnProperty;n=r(7251);e=r(3337);i=r(3314);o=r(9236);t.defaults=n.defaults;t.processors=o;t.ValidationError=function(e){extend(ValidationError,e);function ValidationError(e){this.message=e}return ValidationError}(Error);t.Builder=e.Builder;t.Parser=i.Parser;t.parseString=i.parseString;t.parseStringPromise=i.parseStringPromise}).call(this)},2839:function(e){(function(){e.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(this)},9267:function(e){(function(){e.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(this)},8229:function(e){(function(){var t,r,n,i,o,s,a,c=[].slice,l={}.hasOwnProperty;t=function(){var e,t,r,n,i,s;s=arguments[0],i=2<=arguments.length?c.call(arguments,1):[];if(o(Object.assign)){Object.assign.apply(null,arguments)}else{for(e=0,r=i.length;e<r;e++){n=i[e];if(n!=null){for(t in n){if(!l.call(n,t))continue;s[t]=n[t]}}}}return s};o=function(e){return!!e&&Object.prototype.toString.call(e)==="[object Function]"};s=function(e){var t;return!!e&&((t=typeof e)==="function"||t==="object")};n=function(e){if(o(Array.isArray)){return Array.isArray(e)}else{return Object.prototype.toString.call(e)==="[object Array]"}};i=function(e){var t;if(n(e)){return!e.length}else{for(t in e){if(!l.call(e,t))continue;return false}return true}};a=function(e){var t,r;return s(e)&&(r=Object.getPrototypeOf(e))&&(t=r.constructor)&&typeof t==="function"&&t instanceof t&&Function.prototype.toString.call(t)===Function.prototype.toString.call(Object)};r=function(e){if(o(e.valueOf)){return e.valueOf()}else{return e}};e.exports.assign=t;e.exports.isFunction=o;e.exports.isObject=s;e.exports.isArray=n;e.exports.isEmpty=i;e.exports.isPlainObject=a;e.exports.getValue=r}).call(this)},9766:function(e){(function(){e.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(this)},8376:function(e,t,r){(function(){var t,n,i;t=r(9267);i=r(7608);e.exports=n=function(){function XMLAttribute(e,r,n){this.parent=e;if(this.parent){this.options=this.parent.options;this.stringify=this.parent.stringify}if(r==null){throw new Error("Missing attribute name. "+this.debugInfo(r))}this.name=this.stringify.name(r);this.value=this.stringify.attValue(n);this.type=t.Attribute;this.isId=false;this.schemaTypeInfo=null}Object.defineProperty(XMLAttribute.prototype,"nodeType",{get:function(){return this.type}});Object.defineProperty(XMLAttribute.prototype,"ownerElement",{get:function(){return this.parent}});Object.defineProperty(XMLAttribute.prototype,"textContent",{get:function(){return this.value},set:function(e){return this.value=e||""}});Object.defineProperty(XMLAttribute.prototype,"namespaceURI",{get:function(){return""}});Object.defineProperty(XMLAttribute.prototype,"prefix",{get:function(){return""}});Object.defineProperty(XMLAttribute.prototype,"localName",{get:function(){return this.name}});Object.defineProperty(XMLAttribute.prototype,"specified",{get:function(){return true}});XMLAttribute.prototype.clone=function(){return Object.create(this)};XMLAttribute.prototype.toString=function(e){return this.options.writer.attribute(this,this.options.writer.filterOptions(e))};XMLAttribute.prototype.debugInfo=function(e){e=e||this.name;if(e==null){return"parent: <"+this.parent.name+">"}else{return"attribute: {"+e+"}, parent: <"+this.parent.name+">"}};XMLAttribute.prototype.isEqualNode=function(e){if(e.namespaceURI!==this.namespaceURI){return false}if(e.prefix!==this.prefix){return false}if(e.localName!==this.localName){return false}if(e.value!==this.value){return false}return true};return XMLAttribute}()}).call(this)},333:function(e,t,r){(function(){var t,n,i,extend=function(e,t){for(var r in t){if(o.call(t,r))e[r]=t[r]}function ctor(){this.constructor=e}ctor.prototype=t.prototype;e.prototype=new ctor;e.__super__=t.prototype;return e},o={}.hasOwnProperty;t=r(9267);i=r(7709);e.exports=n=function(e){extend(XMLCData,e);function XMLCData(e,r){XMLCData.__super__.constructor.call(this,e);if(r==null){throw new Error("Missing CDATA text. "+this.debugInfo())}this.name="#cdata-section";this.type=t.CData;this.value=this.stringify.cdata(r)}XMLCData.prototype.clone=function(){return Object.create(this)};XMLCData.prototype.toString=function(e){return this.options.writer.cdata(this,this.options.writer.filterOptions(e))};return XMLCData}(i)}).call(this)},7709:function(e,t,r){(function(){var t,n,extend=function(e,t){for(var r in t){if(i.call(t,r))e[r]=t[r]}function ctor(){this.constructor=e}ctor.prototype=t.prototype;e.prototype=new ctor;e.__super__=t.prototype;return e},i={}.hasOwnProperty;n=r(7608);e.exports=t=function(e){extend(XMLCharacterData,e);function XMLCharacterData(e){XMLCharacterData.__super__.constructor.call(this,e);this.value=""}Object.defineProperty(XMLCharacterData.prototype,"data",{get:function(){return this.value},set:function(e){return this.value=e||""}});Object.defineProperty(XMLCharacterData.prototype,"length",{get:function(){return this.value.length}});Object.defineProperty(XMLCharacterData.prototype,"textContent",{get:function(){return this.value},set:function(e){return this.value=e||""}});XMLCharacterData.prototype.clone=function(){return Object.create(this)};XMLCharacterData.prototype.substringData=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLCharacterData.prototype.appendData=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLCharacterData.prototype.insertData=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLCharacterData.prototype.deleteData=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLCharacterData.prototype.replaceData=function(e,t,r){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLCharacterData.prototype.isEqualNode=function(e){if(!XMLCharacterData.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)){return false}if(e.data!==this.data){return false}return true};return XMLCharacterData}(n)}).call(this)},4407:function(e,t,r){(function(){var t,n,i,extend=function(e,t){for(var r in t){if(o.call(t,r))e[r]=t[r]}function ctor(){this.constructor=e}ctor.prototype=t.prototype;e.prototype=new ctor;e.__super__=t.prototype;return e},o={}.hasOwnProperty;t=r(9267);n=r(7709);e.exports=i=function(e){extend(XMLComment,e);function XMLComment(e,r){XMLComment.__super__.constructor.call(this,e);if(r==null){throw new Error("Missing comment text. "+this.debugInfo())}this.name="#comment";this.type=t.Comment;this.value=this.stringify.comment(r)}XMLComment.prototype.clone=function(){return Object.create(this)};XMLComment.prototype.toString=function(e){return this.options.writer.comment(this,this.options.writer.filterOptions(e))};return XMLComment}(n)}).call(this)},7465:function(e,t,r){(function(){var t,n,i;n=r(6744);i=r(7028);e.exports=t=function(){function XMLDOMConfiguration(){var e;this.defaultParams={"canonical-form":false,"cdata-sections":false,comments:false,"datatype-normalization":false,"element-content-whitespace":true,entities:true,"error-handler":new n,infoset:true,"validate-if-schema":false,namespaces:true,"namespace-declarations":true,"normalize-characters":false,"schema-location":"","schema-type":"","split-cdata-sections":true,validate:false,"well-formed":true};this.params=e=Object.create(this.defaultParams)}Object.defineProperty(XMLDOMConfiguration.prototype,"parameterNames",{get:function(){return new i(Object.keys(this.defaultParams))}});XMLDOMConfiguration.prototype.getParameter=function(e){if(this.params.hasOwnProperty(e)){return this.params[e]}else{return null}};XMLDOMConfiguration.prototype.canSetParameter=function(e,t){return true};XMLDOMConfiguration.prototype.setParameter=function(e,t){if(t!=null){return this.params[e]=t}else{return delete this.params[e]}};return XMLDOMConfiguration}()}).call(this)},6744:function(e){(function(){var t;e.exports=t=function(){function XMLDOMErrorHandler(){}XMLDOMErrorHandler.prototype.handleError=function(e){throw new Error(e)};return XMLDOMErrorHandler}()}).call(this)},8310:function(e){(function(){var t;e.exports=t=function(){function XMLDOMImplementation(){}XMLDOMImplementation.prototype.hasFeature=function(e,t){return true};XMLDOMImplementation.prototype.createDocumentType=function(e,t,r){throw new Error("This DOM method is not implemented.")};XMLDOMImplementation.prototype.createDocument=function(e,t,r){throw new Error("This DOM method is not implemented.")};XMLDOMImplementation.prototype.createHTMLDocument=function(e){throw new Error("This DOM method is not implemented.")};XMLDOMImplementation.prototype.getFeature=function(e,t){throw new Error("This DOM method is not implemented.")};return XMLDOMImplementation}()}).call(this)},7028:function(e){(function(){var t;e.exports=t=function(){function XMLDOMStringList(e){this.arr=e||[]}Object.defineProperty(XMLDOMStringList.prototype,"length",{get:function(){return this.arr.length}});XMLDOMStringList.prototype.item=function(e){return this.arr[e]||null};XMLDOMStringList.prototype.contains=function(e){return this.arr.indexOf(e)!==-1};return XMLDOMStringList}()}).call(this)},1015:function(e,t,r){(function(){var t,n,i,extend=function(e,t){for(var r in t){if(o.call(t,r))e[r]=t[r]}function ctor(){this.constructor=e}ctor.prototype=t.prototype;e.prototype=new ctor;e.__super__=t.prototype;return e},o={}.hasOwnProperty;i=r(7608);t=r(9267);e.exports=n=function(e){extend(XMLDTDAttList,e);function XMLDTDAttList(e,r,n,i,o,s){XMLDTDAttList.__super__.constructor.call(this,e);if(r==null){throw new Error("Missing DTD element name. "+this.debugInfo())}if(n==null){throw new Error("Missing DTD attribute name. "+this.debugInfo(r))}if(!i){throw new Error("Missing DTD attribute type. "+this.debugInfo(r))}if(!o){throw new Error("Missing DTD attribute default. "+this.debugInfo(r))}if(o.indexOf("#")!==0){o="#"+o}if(!o.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/)){throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(r))}if(s&&!o.match(/^(#FIXED|#DEFAULT)$/)){throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(r))}this.elementName=this.stringify.name(r);this.type=t.AttributeDeclaration;this.attributeName=this.stringify.name(n);this.attributeType=this.stringify.dtdAttType(i);if(s){this.defaultValue=this.stringify.dtdAttDefault(s)}this.defaultValueType=o}XMLDTDAttList.prototype.toString=function(e){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(e))};return XMLDTDAttList}(i)}).call(this)},2421:function(e,t,r){(function(){var t,n,i,extend=function(e,t){for(var r in t){if(o.call(t,r))e[r]=t[r]}function ctor(){this.constructor=e}ctor.prototype=t.prototype;e.prototype=new ctor;e.__super__=t.prototype;return e},o={}.hasOwnProperty;i=r(7608);t=r(9267);e.exports=n=function(e){extend(XMLDTDElement,e);function XMLDTDElement(e,r,n){XMLDTDElement.__super__.constructor.call(this,e);if(r==null){throw new Error("Missing DTD element name. "+this.debugInfo())}if(!n){n="(#PCDATA)"}if(Array.isArray(n)){n="("+n.join(",")+")"}this.name=this.stringify.name(r);this.type=t.ElementDeclaration;this.value=this.stringify.dtdElementValue(n)}XMLDTDElement.prototype.toString=function(e){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(e))};return XMLDTDElement}(i)}).call(this)},53:function(e,t,r){(function(){var t,n,i,o,extend=function(e,t){for(var r in t){if(s.call(t,r))e[r]=t[r]}function ctor(){this.constructor=e}ctor.prototype=t.prototype;e.prototype=new ctor;e.__super__=t.prototype;return e},s={}.hasOwnProperty;o=r(8229).isObject;i=r(7608);t=r(9267);e.exports=n=function(e){extend(XMLDTDEntity,e);function XMLDTDEntity(e,r,n,i){XMLDTDEntity.__super__.constructor.call(this,e);if(n==null){throw new Error("Missing DTD entity name. "+this.debugInfo(n))}if(i==null){throw new Error("Missing DTD entity value. "+this.debugInfo(n))}this.pe=!!r;this.name=this.stringify.name(n);this.type=t.EntityDeclaration;if(!o(i)){this.value=this.stringify.dtdEntityValue(i);this.internal=true}else{if(!i.pubID&&!i.sysID){throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(n))}if(i.pubID&&!i.sysID){throw new Error("System identifier is required for a public external entity. "+this.debugInfo(n))}this.internal=false;if(i.pubID!=null){this.pubID=this.stringify.dtdPubID(i.pubID)}if(i.sysID!=null){this.sysID=this.stringify.dtdSysID(i.sysID)}if(i.nData!=null){this.nData=this.stringify.dtdNData(i.nData)}if(this.pe&&this.nData){throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(n))}}}Object.defineProperty(XMLDTDEntity.prototype,"publicId",{get:function(){return this.pubID}});Object.defineProperty(XMLDTDEntity.prototype,"systemId",{get:function(){return this.sysID}});Object.defineProperty(XMLDTDEntity.prototype,"notationName",{get:function(){return this.nData||null}});Object.defineProperty(XMLDTDEntity.prototype,"inputEncoding",{get:function(){return null}});Object.defineProperty(XMLDTDEntity.prototype,"xmlEncoding",{get:function(){return null}});Object.defineProperty(XMLDTDEntity.prototype,"xmlVersion",{get:function(){return null}});XMLDTDEntity.prototype.toString=function(e){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(e))};return XMLDTDEntity}(i)}).call(this)},2837:function(e,t,r){(function(){var t,n,i,extend=function(e,t){for(var r in t){if(o.call(t,r))e[r]=t[r]}function ctor(){this.constructor=e}ctor.prototype=t.prototype;e.prototype=new ctor;e.__super__=t.prototype;return e},o={}.hasOwnProperty;i=r(7608);t=r(9267);e.exports=n=function(e){extend(XMLDTDNotation,e);function XMLDTDNotation(e,r,n){XMLDTDNotation.__super__.constructor.call(this,e);if(r==null){throw new Error("Missing DTD notation name. "+this.debugInfo(r))}if(!n.pubID&&!n.sysID){throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(r))}this.name=this.stringify.name(r);this.type=t.NotationDeclaration;if(n.pubID!=null){this.pubID=this.stringify.dtdPubID(n.pubID)}if(n.sysID!=null){this.sysID=this.stringify.dtdSysID(n.sysID)}}Object.defineProperty(XMLDTDNotation.prototype,"publicId",{get:function(){return this.pubID}});Object.defineProperty(XMLDTDNotation.prototype,"systemId",{get:function(){return this.sysID}});XMLDTDNotation.prototype.toString=function(e){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(e))};return XMLDTDNotation}(i)}).call(this)},6364:function(e,t,r){(function(){var t,n,i,o,extend=function(e,t){for(var r in t){if(s.call(t,r))e[r]=t[r]}function ctor(){this.constructor=e}ctor.prototype=t.prototype;e.prototype=new ctor;e.__super__=t.prototype;return e},s={}.hasOwnProperty;o=r(8229).isObject;i=r(7608);t=r(9267);e.exports=n=function(e){extend(XMLDeclaration,e);function XMLDeclaration(e,r,n,i){var s;XMLDeclaration.__super__.constructor.call(this,e);if(o(r)){s=r,r=s.version,n=s.encoding,i=s.standalone}if(!r){r="1.0"}this.type=t.Declaration;this.version=this.stringify.xmlVersion(r);if(n!=null){this.encoding=this.stringify.xmlEncoding(n)}if(i!=null){this.standalone=this.stringify.xmlStandalone(i)}}XMLDeclaration.prototype.toString=function(e){return this.options.writer.declaration(this,this.options.writer.filterOptions(e))};return XMLDeclaration}(i)}).call(this)},1801:function(e,t,r){(function(){var t,n,i,o,s,a,c,l,u,extend=function(e,t){for(var r in t){if(d.call(t,r))e[r]=t[r]}function ctor(){this.constructor=e}ctor.prototype=t.prototype;e.prototype=new ctor;e.__super__=t.prototype;return e},d={}.hasOwnProperty;u=r(8229).isObject;l=r(7608);t=r(9267);n=r(1015);o=r(53);i=r(2421);s=r(2837);c=r(4361);e.exports=a=function(e){extend(XMLDocType,e);function XMLDocType(e,r,n){var i,o,s,a,c,l;XMLDocType.__super__.constructor.call(this,e);this.type=t.DocType;if(e.children){a=e.children;for(o=0,s=a.length;o<s;o++){i=a[o];if(i.type===t.Element){this.name=i.name;break}}}this.documentObject=e;if(u(r)){c=r,r=c.pubID,n=c.sysID}if(n==null){l=[r,n],n=l[0],r=l[1]}if(r!=null){this.pubID=this.stringify.dtdPubID(r)}if(n!=null){this.sysID=this.stringify.dtdSysID(n)}}Object.defineProperty(XMLDocType.prototype,"entities",{get:function(){var e,r,n,i,o;i={};o=this.children;for(r=0,n=o.length;r<n;r++){e=o[r];if(e.type===t.EntityDeclaration&&!e.pe){i[e.name]=e}}return new c(i)}});Object.defineProperty(XMLDocType.prototype,"notations",{get:function(){var e,r,n,i,o;i={};o=this.children;for(r=0,n=o.length;r<n;r++){e=o[r];if(e.type===t.NotationDeclaration){i[e.name]=e}}return new c(i)}});Object.defineProperty(XMLDocType.prototype,"publicId",{get:function(){return this.pubID}});Object.defineProperty(XMLDocType.prototype,"systemId",{get:function(){return this.sysID}});Object.defineProperty(XMLDocType.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}});XMLDocType.prototype.element=function(e,t){var r;r=new i(this,e,t);this.children.push(r);return this};XMLDocType.prototype.attList=function(e,t,r,i,o){var s;s=new n(this,e,t,r,i,o);this.children.push(s);return this};XMLDocType.prototype.entity=function(e,t){var r;r=new o(this,false,e,t);this.children.push(r);return this};XMLDocType.prototype.pEntity=function(e,t){var r;r=new o(this,true,e,t);this.children.push(r);return this};XMLDocType.prototype.notation=function(e,t){var r;r=new s(this,e,t);this.children.push(r);return this};XMLDocType.prototype.toString=function(e){return this.options.writer.docType(this,this.options.writer.filterOptions(e))};XMLDocType.prototype.ele=function(e,t){return this.element(e,t)};XMLDocType.prototype.att=function(e,t,r,n,i){return this.attList(e,t,r,n,i)};XMLDocType.prototype.ent=function(e,t){return this.entity(e,t)};XMLDocType.prototype.pent=function(e,t){return this.pEntity(e,t)};XMLDocType.prototype.not=function(e,t){return this.notation(e,t)};XMLDocType.prototype.up=function(){return this.root()||this.documentObject};XMLDocType.prototype.isEqualNode=function(e){if(!XMLDocType.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)){return false}if(e.name!==this.name){return false}if(e.publicId!==this.publicId){return false}if(e.systemId!==this.systemId){return false}return true};return XMLDocType}(l)}).call(this)},3730:function(e,t,r){(function(){var t,n,i,o,s,a,c,l,extend=function(e,t){for(var r in t){if(u.call(t,r))e[r]=t[r]}function ctor(){this.constructor=e}ctor.prototype=t.prototype;e.prototype=new ctor;e.__super__=t.prototype;return e},u={}.hasOwnProperty;l=r(8229).isPlainObject;i=r(8310);n=r(7465);s=r(7608);t=r(9267);c=r(8594);a=r(5913);e.exports=o=function(e){extend(XMLDocument,e);function XMLDocument(e){XMLDocument.__super__.constructor.call(this,null);this.name="#document";this.type=t.Document;this.documentURI=null;this.domConfig=new n;e||(e={});if(!e.writer){e.writer=new a}this.options=e;this.stringify=new c(e)}Object.defineProperty(XMLDocument.prototype,"implementation",{value:new i});Object.defineProperty(XMLDocument.prototype,"doctype",{get:function(){var e,r,n,i;i=this.children;for(r=0,n=i.length;r<n;r++){e=i[r];if(e.type===t.DocType){return e}}return null}});Object.defineProperty(XMLDocument.prototype,"documentElement",{get:function(){return this.rootObject||null}});Object.defineProperty(XMLDocument.prototype,"inputEncoding",{get:function(){return null}});Object.defineProperty(XMLDocument.prototype,"strictErrorChecking",{get:function(){return false}});Object.defineProperty(XMLDocument.prototype,"xmlEncoding",{get:function(){if(this.children.length!==0&&this.children[0].type===t.Declaration){return this.children[0].encoding}else{return null}}});Object.defineProperty(XMLDocument.prototype,"xmlStandalone",{get:function(){if(this.children.length!==0&&this.children[0].type===t.Declaration){return this.children[0].standalone==="yes"}else{return false}}});Object.defineProperty(XMLDocument.prototype,"xmlVersion",{get:function(){if(this.children.length!==0&&this.children[0].type===t.Declaration){return this.children[0].version}else{return"1.0"}}});Object.defineProperty(XMLDocument.prototype,"URL",{get:function(){return this.documentURI}});Object.defineProperty(XMLDocument.prototype,"origin",{get:function(){return null}});Object.defineProperty(XMLDocument.prototype,"compatMode",{get:function(){return null}});Object.defineProperty(XMLDocument.prototype,"characterSet",{get:function(){return null}});Object.defineProperty(XMLDocument.prototype,"contentType",{get:function(){return null}});XMLDocument.prototype.end=function(e){var t;t={};if(!e){e=this.options.writer}else if(l(e)){t=e;e=this.options.writer}return e.document(this,e.filterOptions(t))};XMLDocument.prototype.toString=function(e){return this.options.writer.document(this,this.options.writer.filterOptions(e))};XMLDocument.prototype.createElement=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.createTextNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.createComment=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.createCDATASection=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.createProcessingInstruction=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.createAttribute=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.createEntityReference=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.getElementsByTagName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.importNode=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.createElementNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.createAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.getElementsByTagNameNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.getElementById=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.adoptNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.renameNode=function(e,t,r){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.getElementsByClassName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.createEvent=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.createNodeIterator=function(e,t,r){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLDocument.prototype.createTreeWalker=function(e,t,r){throw new Error("This DOM method is not implemented."+this.debugInfo())};return XMLDocument}(s)}).call(this)},7356:function(e,t,r){(function(){var t,n,i,o,s,a,c,l,u,d,p,f,h,m,y,g,A,b,x,w,S,C,v,P,M={}.hasOwnProperty;P=r(8229),C=P.isObject,S=P.isFunction,v=P.isPlainObject,w=P.getValue;t=r(9267);f=r(3730);m=r(9437);o=r(333);s=r(4407);g=r(6329);x=r(1318);y=r(6939);d=r(6364);p=r(1801);a=r(1015);l=r(53);c=r(2421);u=r(2837);i=r(8376);b=r(8594);A=r(5913);n=r(9766);e.exports=h=function(){function XMLDocumentCB(e,r,n){var i;this.name="?xml";this.type=t.Document;e||(e={});i={};if(!e.writer){e.writer=new A}else if(v(e.writer)){i=e.writer;e.writer=new A}this.options=e;this.writer=e.writer;this.writerOptions=this.writer.filterOptions(i);this.stringify=new b(e);this.onDataCallback=r||function(){};this.onEndCallback=n||function(){};this.currentNode=null;this.currentLevel=-1;this.openTags={};this.documentStarted=false;this.documentCompleted=false;this.root=null}XMLDocumentCB.prototype.createChildNode=function(e){var r,n,i,o,s,a,c,l;switch(e.type){case t.CData:this.cdata(e.value);break;case t.Comment:this.comment(e.value);break;case t.Element:i={};c=e.attribs;for(n in c){if(!M.call(c,n))continue;r=c[n];i[n]=r.value}this.node(e.name,i);break;case t.Dummy:this.dummy();break;case t.Raw:this.raw(e.value);break;case t.Text:this.text(e.value);break;case t.ProcessingInstruction:this.instruction(e.target,e.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+e.constructor.name)}l=e.children;for(s=0,a=l.length;s<a;s++){o=l[s];this.createChildNode(o);if(o.type===t.Element){this.up()}}return this};XMLDocumentCB.prototype.dummy=function(){return this};XMLDocumentCB.prototype.node=function(e,t,r){var n;if(e==null){throw new Error("Missing node name.")}if(this.root&&this.currentLevel===-1){throw new Error("Document can only have one root node. "+this.debugInfo(e))}this.openCurrent();e=w(e);if(t==null){t={}}t=w(t);if(!C(t)){n=[t,r],r=n[0],t=n[1]}this.currentNode=new m(this,e,t);this.currentNode.children=false;this.currentLevel++;this.openTags[this.currentLevel]=this.currentNode;if(r!=null){this.text(r)}return this};XMLDocumentCB.prototype.element=function(e,r,n){var i,o,s,a,c,l;if(this.currentNode&&this.currentNode.type===t.DocType){this.dtdElement.apply(this,arguments)}else{if(Array.isArray(e)||C(e)||S(e)){a=this.options.noValidation;this.options.noValidation=true;l=new f(this.options).element("TEMP_ROOT");l.element(e);this.options.noValidation=a;c=l.children;for(o=0,s=c.length;o<s;o++){i=c[o];this.createChildNode(i);if(i.type===t.Element){this.up()}}}else{this.node(e,r,n)}}return this};XMLDocumentCB.prototype.attribute=function(e,t){var r,n;if(!this.currentNode||this.currentNode.children){throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(e))}if(e!=null){e=w(e)}if(C(e)){for(r in e){if(!M.call(e,r))continue;n=e[r];this.attribute(r,n)}}else{if(S(t)){t=t.apply()}if(this.options.keepNullAttributes&&t==null){this.currentNode.attribs[e]=new i(this,e,"")}else if(t!=null){this.currentNode.attribs[e]=new i(this,e,t)}}return this};XMLDocumentCB.prototype.text=function(e){var t;this.openCurrent();t=new x(this,e);this.onData(this.writer.text(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this};XMLDocumentCB.prototype.cdata=function(e){var t;this.openCurrent();t=new o(this,e);this.onData(this.writer.cdata(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this};XMLDocumentCB.prototype.comment=function(e){var t;this.openCurrent();t=new s(this,e);this.onData(this.writer.comment(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this};XMLDocumentCB.prototype.raw=function(e){var t;this.openCurrent();t=new g(this,e);this.onData(this.writer.raw(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this};XMLDocumentCB.prototype.instruction=function(e,t){var r,n,i,o,s;this.openCurrent();if(e!=null){e=w(e)}if(t!=null){t=w(t)}if(Array.isArray(e)){for(r=0,o=e.length;r<o;r++){n=e[r];this.instruction(n)}}else if(C(e)){for(n in e){if(!M.call(e,n))continue;i=e[n];this.instruction(n,i)}}else{if(S(t)){t=t.apply()}s=new y(this,e,t);this.onData(this.writer.processingInstruction(s,this.writerOptions,this.currentLevel+1),this.currentLevel+1)}return this};XMLDocumentCB.prototype.declaration=function(e,t,r){var n;this.openCurrent();if(this.documentStarted){throw new Error("declaration() must be the first node.")}n=new d(this,e,t,r);this.onData(this.writer.declaration(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this};XMLDocumentCB.prototype.doctype=function(e,t,r){this.openCurrent();if(e==null){throw new Error("Missing root node name.")}if(this.root){throw new Error("dtd() must come before the root node.")}this.currentNode=new p(this,t,r);this.currentNode.rootNodeName=e;this.currentNode.children=false;this.currentLevel++;this.openTags[this.currentLevel]=this.currentNode;return this};XMLDocumentCB.prototype.dtdElement=function(e,t){var r;this.openCurrent();r=new c(this,e,t);this.onData(this.writer.dtdElement(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this};XMLDocumentCB.prototype.attList=function(e,t,r,n,i){var o;this.openCurrent();o=new a(this,e,t,r,n,i);this.onData(this.writer.dtdAttList(o,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this};XMLDocumentCB.prototype.entity=function(e,t){var r;this.openCurrent();r=new l(this,false,e,t);this.onData(this.writer.dtdEntity(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this};XMLDocumentCB.prototype.pEntity=function(e,t){var r;this.openCurrent();r=new l(this,true,e,t);this.onData(this.writer.dtdEntity(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this};XMLDocumentCB.prototype.notation=function(e,t){var r;this.openCurrent();r=new u(this,e,t);this.onData(this.writer.dtdNotation(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this};XMLDocumentCB.prototype.up=function(){if(this.currentLevel<0){throw new Error("The document node has no parent.")}if(this.currentNode){if(this.currentNode.children){this.closeNode(this.currentNode)}else{this.openNode(this.currentNode)}this.currentNode=null}else{this.closeNode(this.openTags[this.currentLevel])}delete this.openTags[this.currentLevel];this.currentLevel--;return this};XMLDocumentCB.prototype.end=function(){while(this.currentLevel>=0){this.up()}return this.onEnd()};XMLDocumentCB.prototype.openCurrent=function(){if(this.currentNode){this.currentNode.children=true;return this.openNode(this.currentNode)}};XMLDocumentCB.prototype.openNode=function(e){var r,i,o,s;if(!e.isOpen){if(!this.root&&this.currentLevel===0&&e.type===t.Element){this.root=e}i="";if(e.type===t.Element){this.writerOptions.state=n.OpenTag;i=this.writer.indent(e,this.writerOptions,this.currentLevel)+"<"+e.name;s=e.attribs;for(o in s){if(!M.call(s,o))continue;r=s[o];i+=this.writer.attribute(r,this.writerOptions,this.currentLevel)}i+=(e.children?">":"/>")+this.writer.endline(e,this.writerOptions,this.currentLevel);this.writerOptions.state=n.InsideTag}else{this.writerOptions.state=n.OpenTag;i=this.writer.indent(e,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+e.rootNodeName;if(e.pubID&&e.sysID){i+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"'}else if(e.sysID){i+=' SYSTEM "'+e.sysID+'"'}if(e.children){i+=" [";this.writerOptions.state=n.InsideTag}else{this.writerOptions.state=n.CloseTag;i+=">"}i+=this.writer.endline(e,this.writerOptions,this.currentLevel)}this.onData(i,this.currentLevel);return e.isOpen=true}};XMLDocumentCB.prototype.closeNode=function(e){var r;if(!e.isClosed){r="";this.writerOptions.state=n.CloseTag;if(e.type===t.Element){r=this.writer.indent(e,this.writerOptions,this.currentLevel)+"</"+e.name+">"+this.writer.endline(e,this.writerOptions,this.currentLevel)}else{r=this.writer.indent(e,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(e,this.writerOptions,this.currentLevel)}this.writerOptions.state=n.None;this.onData(r,this.currentLevel);return e.isClosed=true}};XMLDocumentCB.prototype.onData=function(e,t){this.documentStarted=true;return this.onDataCallback(e,t+1)};XMLDocumentCB.prototype.onEnd=function(){this.documentCompleted=true;return this.onEndCallback()};XMLDocumentCB.prototype.debugInfo=function(e){if(e==null){return""}else{return"node: <"+e+">"}};XMLDocumentCB.prototype.ele=function(){return this.element.apply(this,arguments)};XMLDocumentCB.prototype.nod=function(e,t,r){return this.node(e,t,r)};XMLDocumentCB.prototype.txt=function(e){return this.text(e)};XMLDocumentCB.prototype.dat=function(e){return this.cdata(e)};XMLDocumentCB.prototype.com=function(e){return this.comment(e)};XMLDocumentCB.prototype.ins=function(e,t){return this.instruction(e,t)};XMLDocumentCB.prototype.dec=function(e,t,r){return this.declaration(e,t,r)};XMLDocumentCB.prototype.dtd=function(e,t,r){return this.doctype(e,t,r)};XMLDocumentCB.prototype.e=function(e,t,r){return this.element(e,t,r)};XMLDocumentCB.prototype.n=function(e,t,r){return this.node(e,t,r)};XMLDocumentCB.prototype.t=function(e){return this.text(e)};XMLDocumentCB.prototype.d=function(e){return this.cdata(e)};XMLDocumentCB.prototype.c=function(e){return this.comment(e)};XMLDocumentCB.prototype.r=function(e){return this.raw(e)};XMLDocumentCB.prototype.i=function(e,t){return this.instruction(e,t)};XMLDocumentCB.prototype.att=function(){if(this.currentNode&&this.currentNode.type===t.DocType){return this.attList.apply(this,arguments)}else{return this.attribute.apply(this,arguments)}};XMLDocumentCB.prototype.a=function(){if(this.currentNode&&this.currentNode.type===t.DocType){return this.attList.apply(this,arguments)}else{return this.attribute.apply(this,arguments)}};XMLDocumentCB.prototype.ent=function(e,t){return this.entity(e,t)};XMLDocumentCB.prototype.pent=function(e,t){return this.pEntity(e,t)};XMLDocumentCB.prototype.not=function(e,t){return this.notation(e,t)};return XMLDocumentCB}()}).call(this)},3590:function(e,t,r){(function(){var t,n,i,extend=function(e,t){for(var r in t){if(o.call(t,r))e[r]=t[r]}function ctor(){this.constructor=e}ctor.prototype=t.prototype;e.prototype=new ctor;e.__super__=t.prototype;return e},o={}.hasOwnProperty;i=r(7608);t=r(9267);e.exports=n=function(e){extend(XMLDummy,e);function XMLDummy(e){XMLDummy.__super__.constructor.call(this,e);this.type=t.Dummy}XMLDummy.prototype.clone=function(){return Object.create(this)};XMLDummy.prototype.toString=function(e){return""};return XMLDummy}(i)}).call(this)},9437:function(e,t,r){(function(){var t,n,i,o,s,a,c,l,u,extend=function(e,t){for(var r in t){if(d.call(t,r))e[r]=t[r]}function ctor(){this.constructor=e}ctor.prototype=t.prototype;e.prototype=new ctor;e.__super__=t.prototype;return e},d={}.hasOwnProperty;u=r(8229),l=u.isObject,c=u.isFunction,a=u.getValue;s=r(7608);t=r(9267);n=r(8376);o=r(4361);e.exports=i=function(e){extend(XMLElement,e);function XMLElement(e,r,n){var i,o,s,a;XMLElement.__super__.constructor.call(this,e);if(r==null){throw new Error("Missing element name. "+this.debugInfo())}this.name=this.stringify.name(r);this.type=t.Element;this.attribs={};this.schemaTypeInfo=null;if(n!=null){this.attribute(n)}if(e.type===t.Document){this.isRoot=true;this.documentObject=e;e.rootObject=this;if(e.children){a=e.children;for(o=0,s=a.length;o<s;o++){i=a[o];if(i.type===t.DocType){i.name=this.name;break}}}}}Object.defineProperty(XMLElement.prototype,"tagName",{get:function(){return this.name}});Object.defineProperty(XMLElement.prototype,"namespaceURI",{get:function(){return""}});Object.defineProperty(XMLElement.prototype,"prefix",{get:function(){return""}});Object.defineProperty(XMLElement.prototype,"localName",{get:function(){return this.name}});Object.defineProperty(XMLElement.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}});Object.defineProperty(XMLElement.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}});Object.defineProperty(XMLElement.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}});Object.defineProperty(XMLElement.prototype,"attributes",{get:function(){if(!this.attributeMap||!this.attributeMap.nodes){this.attributeMap=new o(this.attribs)}return this.attributeMap}});XMLElement.prototype.clone=function(){var e,t,r,n;r=Object.create(this);if(r.isRoot){r.documentObject=null}r.attribs={};n=this.attribs;for(t in n){if(!d.call(n,t))continue;e=n[t];r.attribs[t]=e.clone()}r.children=[];this.children.forEach((function(e){var t;t=e.clone();t.parent=r;return r.children.push(t)}));return r};XMLElement.prototype.attribute=function(e,t){var r,i;if(e!=null){e=a(e)}if(l(e)){for(r in e){if(!d.call(e,r))continue;i=e[r];this.attribute(r,i)}}else{if(c(t)){t=t.apply()}if(this.options.keepNullAttributes&&t==null){this.attribs[e]=new n(this,e,"")}else if(t!=null){this.attribs[e]=new n(this,e,t)}}return this};XMLElement.prototype.removeAttribute=function(e){var t,r,n;if(e==null){throw new Error("Missing attribute name. "+this.debugInfo())}e=a(e);if(Array.isArray(e)){for(r=0,n=e.length;r<n;r++){t=e[r];delete this.attribs[t]}}else{delete this.attribs[e]}return this};XMLElement.prototype.toString=function(e){return this.options.writer.element(this,this.options.writer.filterOptions(e))};XMLElement.prototype.att=function(e,t){return this.attribute(e,t)};XMLElement.prototype.a=function(e,t){return this.attribute(e,t)};XMLElement.prototype.getAttribute=function(e){if(this.attribs.hasOwnProperty(e)){return this.attribs[e].value}else{return null}};XMLElement.prototype.setAttribute=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLElement.prototype.getAttributeNode=function(e){if(this.attribs.hasOwnProperty(e)){return this.attribs[e]}else{return null}};XMLElement.prototype.setAttributeNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLElement.prototype.removeAttributeNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLElement.prototype.getElementsByTagName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLElement.prototype.getAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLElement.prototype.setAttributeNS=function(e,t,r){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLElement.prototype.removeAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLElement.prototype.getAttributeNodeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLElement.prototype.setAttributeNodeNS=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLElement.prototype.getElementsByTagNameNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLElement.prototype.hasAttribute=function(e){return this.attribs.hasOwnProperty(e)};XMLElement.prototype.hasAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLElement.prototype.setIdAttribute=function(e,t){if(this.attribs.hasOwnProperty(e)){return this.attribs[e].isId}else{return t}};XMLElement.prototype.setIdAttributeNS=function(e,t,r){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLElement.prototype.setIdAttributeNode=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLElement.prototype.getElementsByTagName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLElement.prototype.getElementsByTagNameNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLElement.prototype.getElementsByClassName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLElement.prototype.isEqualNode=function(e){var t,r,n;if(!XMLElement.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)){return false}if(e.namespaceURI!==this.namespaceURI){return false}if(e.prefix!==this.prefix){return false}if(e.localName!==this.localName){return false}if(e.attribs.length!==this.attribs.length){return false}for(t=r=0,n=this.attribs.length-1;0<=n?r<=n:r>=n;t=0<=n?++r:--r){if(!this.attribs[t].isEqualNode(e.attribs[t])){return false}}return true};return XMLElement}(s)}).call(this)},4361:function(e){(function(){var t;e.exports=t=function(){function XMLNamedNodeMap(e){this.nodes=e}Object.defineProperty(XMLNamedNodeMap.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}});XMLNamedNodeMap.prototype.clone=function(){return this.nodes=null};XMLNamedNodeMap.prototype.getNamedItem=function(e){return this.nodes[e]};XMLNamedNodeMap.prototype.setNamedItem=function(e){var t;t=this.nodes[e.nodeName];this.nodes[e.nodeName]=e;return t||null};XMLNamedNodeMap.prototype.removeNamedItem=function(e){var t;t=this.nodes[e];delete this.nodes[e];return t||null};XMLNamedNodeMap.prototype.item=function(e){return this.nodes[Object.keys(this.nodes)[e]]||null};XMLNamedNodeMap.prototype.getNamedItemNS=function(e,t){throw new Error("This DOM method is not implemented.")};XMLNamedNodeMap.prototype.setNamedItemNS=function(e){throw new Error("This DOM method is not implemented.")};XMLNamedNodeMap.prototype.removeNamedItemNS=function(e,t){throw new Error("This DOM method is not implemented.")};return XMLNamedNodeMap}()}).call(this)},7608:function(e,t,r){(function(){var t,n,i,o,s,a,c,l,u,d,p,f,h,m,y,g,A,b,x,w={}.hasOwnProperty;x=r(8229),b=x.isObject,A=x.isFunction,g=x.isEmpty,y=x.getValue;l=null;i=null;o=null;s=null;a=null;h=null;m=null;f=null;c=null;n=null;p=null;u=null;t=null;e.exports=d=function(){function XMLNode(e){this.parent=e;if(this.parent){this.options=this.parent.options;this.stringify=this.parent.stringify}this.value=null;this.children=[];this.baseURI=null;if(!l){l=r(9437);i=r(333);o=r(4407);s=r(6364);a=r(1801);h=r(6329);m=r(1318);f=r(6939);c=r(3590);n=r(9267);p=r(6768);u=r(4361);t=r(2839)}}Object.defineProperty(XMLNode.prototype,"nodeName",{get:function(){return this.name}});Object.defineProperty(XMLNode.prototype,"nodeType",{get:function(){return this.type}});Object.defineProperty(XMLNode.prototype,"nodeValue",{get:function(){return this.value}});Object.defineProperty(XMLNode.prototype,"parentNode",{get:function(){return this.parent}});Object.defineProperty(XMLNode.prototype,"childNodes",{get:function(){if(!this.childNodeList||!this.childNodeList.nodes){this.childNodeList=new p(this.children)}return this.childNodeList}});Object.defineProperty(XMLNode.prototype,"firstChild",{get:function(){return this.children[0]||null}});Object.defineProperty(XMLNode.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}});Object.defineProperty(XMLNode.prototype,"previousSibling",{get:function(){var e;e=this.parent.children.indexOf(this);return this.parent.children[e-1]||null}});Object.defineProperty(XMLNode.prototype,"nextSibling",{get:function(){var e;e=this.parent.children.indexOf(this);return this.parent.children[e+1]||null}});Object.defineProperty(XMLNode.prototype,"ownerDocument",{get:function(){return this.document()||null}});Object.defineProperty(XMLNode.prototype,"textContent",{get:function(){var e,t,r,i,o;if(this.nodeType===n.Element||this.nodeType===n.DocumentFragment){o="";i=this.children;for(t=0,r=i.length;t<r;t++){e=i[t];if(e.textContent){o+=e.textContent}}return o}else{return null}},set:function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}});XMLNode.prototype.setParent=function(e){var t,r,n,i,o;this.parent=e;if(e){this.options=e.options;this.stringify=e.stringify}i=this.children;o=[];for(r=0,n=i.length;r<n;r++){t=i[r];o.push(t.setParent(this))}return o};XMLNode.prototype.element=function(e,t,r){var n,i,o,s,a,c,l,u,d,p,f;c=null;if(t===null&&r==null){d=[{},null],t=d[0],r=d[1]}if(t==null){t={}}t=y(t);if(!b(t)){p=[t,r],r=p[0],t=p[1]}if(e!=null){e=y(e)}if(Array.isArray(e)){for(o=0,l=e.length;o<l;o++){i=e[o];c=this.element(i)}}else if(A(e)){c=this.element(e.apply())}else if(b(e)){for(a in e){if(!w.call(e,a))continue;f=e[a];if(A(f)){f=f.apply()}if(!this.options.ignoreDecorators&&this.stringify.convertAttKey&&a.indexOf(this.stringify.convertAttKey)===0){c=this.attribute(a.substr(this.stringify.convertAttKey.length),f)}else if(!this.options.separateArrayItems&&Array.isArray(f)&&g(f)){c=this.dummy()}else if(b(f)&&g(f)){c=this.element(a)}else if(!this.options.keepNullNodes&&f==null){c=this.dummy()}else if(!this.options.separateArrayItems&&Array.isArray(f)){for(s=0,u=f.length;s<u;s++){i=f[s];n={};n[a]=i;c=this.element(n)}}else if(b(f)){if(!this.options.ignoreDecorators&&this.stringify.convertTextKey&&a.indexOf(this.stringify.convertTextKey)===0){c=this.element(f)}else{c=this.element(a);c.element(f)}}else{c=this.element(a,f)}}}else if(!this.options.keepNullNodes&&r===null){c=this.dummy()}else{if(!this.options.ignoreDecorators&&this.stringify.convertTextKey&&e.indexOf(this.stringify.convertTextKey)===0){c=this.text(r)}else if(!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&e.indexOf(this.stringify.convertCDataKey)===0){c=this.cdata(r)}else if(!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&e.indexOf(this.stringify.convertCommentKey)===0){c=this.comment(r)}else if(!this.options.ignoreDecorators&&this.stringify.convertRawKey&&e.indexOf(this.stringify.convertRawKey)===0){c=this.raw(r)}else if(!this.options.ignoreDecorators&&this.stringify.convertPIKey&&e.indexOf(this.stringify.convertPIKey)===0){c=this.instruction(e.substr(this.stringify.convertPIKey.length),r)}else{c=this.node(e,t,r)}}if(c==null){throw new Error("Could not create any elements with: "+e+". "+this.debugInfo())}return c};XMLNode.prototype.insertBefore=function(e,t,r){var n,i,o,s,a;if(e!=null?e.type:void 0){o=e;s=t;o.setParent(this);if(s){i=children.indexOf(s);a=children.splice(i);children.push(o);Array.prototype.push.apply(children,a)}else{children.push(o)}return o}else{if(this.isRoot){throw new Error("Cannot insert elements at root level. "+this.debugInfo(e))}i=this.parent.children.indexOf(this);a=this.parent.children.splice(i);n=this.parent.element(e,t,r);Array.prototype.push.apply(this.parent.children,a);return n}};XMLNode.prototype.insertAfter=function(e,t,r){var n,i,o;if(this.isRoot){throw new Error("Cannot insert elements at root level. "+this.debugInfo(e))}i=this.parent.children.indexOf(this);o=this.parent.children.splice(i+1);n=this.parent.element(e,t,r);Array.prototype.push.apply(this.parent.children,o);return n};XMLNode.prototype.remove=function(){var e,t;if(this.isRoot){throw new Error("Cannot remove the root element. "+this.debugInfo())}e=this.parent.children.indexOf(this);[].splice.apply(this.parent.children,[e,e-e+1].concat(t=[])),t;return this.parent};XMLNode.prototype.node=function(e,t,r){var n,i;if(e!=null){e=y(e)}t||(t={});t=y(t);if(!b(t)){i=[t,r],r=i[0],t=i[1]}n=new l(this,e,t);if(r!=null){n.text(r)}this.children.push(n);return n};XMLNode.prototype.text=function(e){var t;if(b(e)){this.element(e)}t=new m(this,e);this.children.push(t);return this};XMLNode.prototype.cdata=function(e){var t;t=new i(this,e);this.children.push(t);return this};XMLNode.prototype.comment=function(e){var t;t=new o(this,e);this.children.push(t);return this};XMLNode.prototype.commentBefore=function(e){var t,r,n;r=this.parent.children.indexOf(this);n=this.parent.children.splice(r);t=this.parent.comment(e);Array.prototype.push.apply(this.parent.children,n);return this};XMLNode.prototype.commentAfter=function(e){var t,r,n;r=this.parent.children.indexOf(this);n=this.parent.children.splice(r+1);t=this.parent.comment(e);Array.prototype.push.apply(this.parent.children,n);return this};XMLNode.prototype.raw=function(e){var t;t=new h(this,e);this.children.push(t);return this};XMLNode.prototype.dummy=function(){var e;e=new c(this);return e};XMLNode.prototype.instruction=function(e,t){var r,n,i,o,s;if(e!=null){e=y(e)}if(t!=null){t=y(t)}if(Array.isArray(e)){for(o=0,s=e.length;o<s;o++){r=e[o];this.instruction(r)}}else if(b(e)){for(r in e){if(!w.call(e,r))continue;n=e[r];this.instruction(r,n)}}else{if(A(t)){t=t.apply()}i=new f(this,e,t);this.children.push(i)}return this};XMLNode.prototype.instructionBefore=function(e,t){var r,n,i;n=this.parent.children.indexOf(this);i=this.parent.children.splice(n);r=this.parent.instruction(e,t);Array.prototype.push.apply(this.parent.children,i);return this};XMLNode.prototype.instructionAfter=function(e,t){var r,n,i;n=this.parent.children.indexOf(this);i=this.parent.children.splice(n+1);r=this.parent.instruction(e,t);Array.prototype.push.apply(this.parent.children,i);return this};XMLNode.prototype.declaration=function(e,t,r){var i,o;i=this.document();o=new s(i,e,t,r);if(i.children.length===0){i.children.unshift(o)}else if(i.children[0].type===n.Declaration){i.children[0]=o}else{i.children.unshift(o)}return i.root()||i};XMLNode.prototype.dtd=function(e,t){var r,i,o,s,c,l,u,d,p,f;i=this.document();o=new a(i,e,t);p=i.children;for(s=c=0,u=p.length;c<u;s=++c){r=p[s];if(r.type===n.DocType){i.children[s]=o;return o}}f=i.children;for(s=l=0,d=f.length;l<d;s=++l){r=f[s];if(r.isRoot){i.children.splice(s,0,o);return o}}i.children.push(o);return o};XMLNode.prototype.up=function(){if(this.isRoot){throw new Error("The root node has no parent. Use doc() if you need to get the document object.")}return this.parent};XMLNode.prototype.root=function(){var e;e=this;while(e){if(e.type===n.Document){return e.rootObject}else if(e.isRoot){return e}else{e=e.parent}}};XMLNode.prototype.document=function(){var e;e=this;while(e){if(e.type===n.Document){return e}else{e=e.parent}}};XMLNode.prototype.end=function(e){return this.document().end(e)};XMLNode.prototype.prev=function(){var e;e=this.parent.children.indexOf(this);if(e<1){throw new Error("Already at the first node. "+this.debugInfo())}return this.parent.children[e-1]};XMLNode.prototype.next=function(){var e;e=this.parent.children.indexOf(this);if(e===-1||e===this.parent.children.length-1){throw new Error("Already at the last node. "+this.debugInfo())}return this.parent.children[e+1]};XMLNode.prototype.importDocument=function(e){var t;t=e.root().clone();t.parent=this;t.isRoot=false;this.children.push(t);return this};XMLNode.prototype.debugInfo=function(e){var t,r;e=e||this.name;if(e==null&&!((t=this.parent)!=null?t.name:void 0)){return""}else if(e==null){return"parent: <"+this.parent.name+">"}else if(!((r=this.parent)!=null?r.name:void 0)){return"node: <"+e+">"}else{return"node: <"+e+">, parent: <"+this.parent.name+">"}};XMLNode.prototype.ele=function(e,t,r){return this.element(e,t,r)};XMLNode.prototype.nod=function(e,t,r){return this.node(e,t,r)};XMLNode.prototype.txt=function(e){return this.text(e)};XMLNode.prototype.dat=function(e){return this.cdata(e)};XMLNode.prototype.com=function(e){return this.comment(e)};XMLNode.prototype.ins=function(e,t){return this.instruction(e,t)};XMLNode.prototype.doc=function(){return this.document()};XMLNode.prototype.dec=function(e,t,r){return this.declaration(e,t,r)};XMLNode.prototype.e=function(e,t,r){return this.element(e,t,r)};XMLNode.prototype.n=function(e,t,r){return this.node(e,t,r)};XMLNode.prototype.t=function(e){return this.text(e)};XMLNode.prototype.d=function(e){return this.cdata(e)};XMLNode.prototype.c=function(e){return this.comment(e)};XMLNode.prototype.r=function(e){return this.raw(e)};XMLNode.prototype.i=function(e,t){return this.instruction(e,t)};XMLNode.prototype.u=function(){return this.up()};XMLNode.prototype.importXMLBuilder=function(e){return this.importDocument(e)};XMLNode.prototype.replaceChild=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLNode.prototype.removeChild=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLNode.prototype.appendChild=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLNode.prototype.hasChildNodes=function(){return this.children.length!==0};XMLNode.prototype.cloneNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLNode.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLNode.prototype.isSupported=function(e,t){return true};XMLNode.prototype.hasAttributes=function(){return this.attribs.length!==0};XMLNode.prototype.compareDocumentPosition=function(e){var r,n;r=this;if(r===e){return 0}else if(this.document()!==e.document()){n=t.Disconnected|t.ImplementationSpecific;if(Math.random()<.5){n|=t.Preceding}else{n|=t.Following}return n}else if(r.isAncestor(e)){return t.Contains|t.Preceding}else if(r.isDescendant(e)){return t.Contains|t.Following}else if(r.isPreceding(e)){return t.Preceding}else{return t.Following}};XMLNode.prototype.isSameNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLNode.prototype.lookupPrefix=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLNode.prototype.isDefaultNamespace=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLNode.prototype.lookupNamespaceURI=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLNode.prototype.isEqualNode=function(e){var t,r,n;if(e.nodeType!==this.nodeType){return false}if(e.children.length!==this.children.length){return false}for(t=r=0,n=this.children.length-1;0<=n?r<=n:r>=n;t=0<=n?++r:--r){if(!this.children[t].isEqualNode(e.children[t])){return false}}return true};XMLNode.prototype.getFeature=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLNode.prototype.setUserData=function(e,t,r){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLNode.prototype.getUserData=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLNode.prototype.contains=function(e){if(!e){return false}return e===this||this.isDescendant(e)};XMLNode.prototype.isDescendant=function(e){var t,r,n,i,o;o=this.children;for(n=0,i=o.length;n<i;n++){t=o[n];if(e===t){return true}r=t.isDescendant(e);if(r){return true}}return false};XMLNode.prototype.isAncestor=function(e){return e.isDescendant(this)};XMLNode.prototype.isPreceding=function(e){var t,r;t=this.treePosition(e);r=this.treePosition(this);if(t===-1||r===-1){return false}else{return t<r}};XMLNode.prototype.isFollowing=function(e){var t,r;t=this.treePosition(e);r=this.treePosition(this);if(t===-1||r===-1){return false}else{return t>r}};XMLNode.prototype.treePosition=function(e){var t,r;r=0;t=false;this.foreachTreeNode(this.document(),(function(n){r++;if(!t&&n===e){return t=true}}));if(t){return r}else{return-1}};XMLNode.prototype.foreachTreeNode=function(e,t){var r,n,i,o,s;e||(e=this.document());o=e.children;for(n=0,i=o.length;n<i;n++){r=o[n];if(s=t(r)){return s}else{s=this.foreachTreeNode(r,t);if(s){return s}}}};return XMLNode}()}).call(this)},6768:function(e){(function(){var t;e.exports=t=function(){function XMLNodeList(e){this.nodes=e}Object.defineProperty(XMLNodeList.prototype,"length",{get:function(){return this.nodes.length||0}});XMLNodeList.prototype.clone=function(){return this.nodes=null};XMLNodeList.prototype.item=function(e){return this.nodes[e]||null};return XMLNodeList}()}).call(this)},6939:function(e,t,r){(function(){var t,n,i,extend=function(e,t){for(var r in t){if(o.call(t,r))e[r]=t[r]}function ctor(){this.constructor=e}ctor.prototype=t.prototype;e.prototype=new ctor;e.__super__=t.prototype;return e},o={}.hasOwnProperty;t=r(9267);n=r(7709);e.exports=i=function(e){extend(XMLProcessingInstruction,e);function XMLProcessingInstruction(e,r,n){XMLProcessingInstruction.__super__.constructor.call(this,e);if(r==null){throw new Error("Missing instruction target. "+this.debugInfo())}this.type=t.ProcessingInstruction;this.target=this.stringify.insTarget(r);this.name=this.target;if(n){this.value=this.stringify.insValue(n)}}XMLProcessingInstruction.prototype.clone=function(){return Object.create(this)};XMLProcessingInstruction.prototype.toString=function(e){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(e))};XMLProcessingInstruction.prototype.isEqualNode=function(e){if(!XMLProcessingInstruction.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)){return false}if(e.target!==this.target){return false}return true};return XMLProcessingInstruction}(n)}).call(this)},6329:function(e,t,r){(function(){var t,n,i,extend=function(e,t){for(var r in t){if(o.call(t,r))e[r]=t[r]}function ctor(){this.constructor=e}ctor.prototype=t.prototype;e.prototype=new ctor;e.__super__=t.prototype;return e},o={}.hasOwnProperty;t=r(9267);n=r(7608);e.exports=i=function(e){extend(XMLRaw,e);function XMLRaw(e,r){XMLRaw.__super__.constructor.call(this,e);if(r==null){throw new Error("Missing raw text. "+this.debugInfo())}this.type=t.Raw;this.value=this.stringify.raw(r)}XMLRaw.prototype.clone=function(){return Object.create(this)};XMLRaw.prototype.toString=function(e){return this.options.writer.raw(this,this.options.writer.filterOptions(e))};return XMLRaw}(n)}).call(this)},8601:function(e,t,r){(function(){var t,n,i,o,extend=function(e,t){for(var r in t){if(s.call(t,r))e[r]=t[r]}function ctor(){this.constructor=e}ctor.prototype=t.prototype;e.prototype=new ctor;e.__super__=t.prototype;return e},s={}.hasOwnProperty;t=r(9267);o=r(6752);n=r(9766);e.exports=i=function(e){extend(XMLStreamWriter,e);function XMLStreamWriter(e,t){this.stream=e;XMLStreamWriter.__super__.constructor.call(this,t)}XMLStreamWriter.prototype.endline=function(e,t,r){if(e.isLastRootNode&&t.state===n.CloseTag){return""}else{return XMLStreamWriter.__super__.endline.call(this,e,t,r)}};XMLStreamWriter.prototype.document=function(e,t){var r,n,i,o,s,a,c,l,u;c=e.children;for(n=i=0,s=c.length;i<s;n=++i){r=c[n];r.isLastRootNode=n===e.children.length-1}t=this.filterOptions(t);l=e.children;u=[];for(o=0,a=l.length;o<a;o++){r=l[o];u.push(this.writeChildNode(r,t,0))}return u};XMLStreamWriter.prototype.attribute=function(e,t,r){return this.stream.write(XMLStreamWriter.__super__.attribute.call(this,e,t,r))};XMLStreamWriter.prototype.cdata=function(e,t,r){return this.stream.write(XMLStreamWriter.__super__.cdata.call(this,e,t,r))};XMLStreamWriter.prototype.comment=function(e,t,r){return this.stream.write(XMLStreamWriter.__super__.comment.call(this,e,t,r))};XMLStreamWriter.prototype.declaration=function(e,t,r){return this.stream.write(XMLStreamWriter.__super__.declaration.call(this,e,t,r))};XMLStreamWriter.prototype.docType=function(e,t,r){var i,o,s,a;r||(r=0);this.openNode(e,t,r);t.state=n.OpenTag;this.stream.write(this.indent(e,t,r));this.stream.write("<!DOCTYPE "+e.root().name);if(e.pubID&&e.sysID){this.stream.write(' PUBLIC "'+e.pubID+'" "'+e.sysID+'"')}else if(e.sysID){this.stream.write(' SYSTEM "'+e.sysID+'"')}if(e.children.length>0){this.stream.write(" [");this.stream.write(this.endline(e,t,r));t.state=n.InsideTag;a=e.children;for(o=0,s=a.length;o<s;o++){i=a[o];this.writeChildNode(i,t,r+1)}t.state=n.CloseTag;this.stream.write("]")}t.state=n.CloseTag;this.stream.write(t.spaceBeforeSlash+">");this.stream.write(this.endline(e,t,r));t.state=n.None;return this.closeNode(e,t,r)};XMLStreamWriter.prototype.element=function(e,r,i){var o,a,c,l,u,d,p,f,h,m;i||(i=0);this.openNode(e,r,i);r.state=n.OpenTag;this.stream.write(this.indent(e,r,i)+"<"+e.name);h=e.attribs;for(p in h){if(!s.call(h,p))continue;o=h[p];this.attribute(o,r,i)}c=e.children.length;l=c===0?null:e.children[0];if(c===0||e.children.every((function(e){return(e.type===t.Text||e.type===t.Raw)&&e.value===""}))){if(r.allowEmpty){this.stream.write(">");r.state=n.CloseTag;this.stream.write("</"+e.name+">")}else{r.state=n.CloseTag;this.stream.write(r.spaceBeforeSlash+"/>")}}else if(r.pretty&&c===1&&(l.type===t.Text||l.type===t.Raw)&&l.value!=null){this.stream.write(">");r.state=n.InsideTag;r.suppressPrettyCount++;f=true;this.writeChildNode(l,r,i+1);r.suppressPrettyCount--;f=false;r.state=n.CloseTag;this.stream.write("</"+e.name+">")}else{this.stream.write(">"+this.endline(e,r,i));r.state=n.InsideTag;m=e.children;for(u=0,d=m.length;u<d;u++){a=m[u];this.writeChildNode(a,r,i+1)}r.state=n.CloseTag;this.stream.write(this.indent(e,r,i)+"</"+e.name+">")}this.stream.write(this.endline(e,r,i));r.state=n.None;return this.closeNode(e,r,i)};XMLStreamWriter.prototype.processingInstruction=function(e,t,r){return this.stream.write(XMLStreamWriter.__super__.processingInstruction.call(this,e,t,r))};XMLStreamWriter.prototype.raw=function(e,t,r){return this.stream.write(XMLStreamWriter.__super__.raw.call(this,e,t,r))};XMLStreamWriter.prototype.text=function(e,t,r){return this.stream.write(XMLStreamWriter.__super__.text.call(this,e,t,r))};XMLStreamWriter.prototype.dtdAttList=function(e,t,r){return this.stream.write(XMLStreamWriter.__super__.dtdAttList.call(this,e,t,r))};XMLStreamWriter.prototype.dtdElement=function(e,t,r){return this.stream.write(XMLStreamWriter.__super__.dtdElement.call(this,e,t,r))};XMLStreamWriter.prototype.dtdEntity=function(e,t,r){return this.stream.write(XMLStreamWriter.__super__.dtdEntity.call(this,e,t,r))};XMLStreamWriter.prototype.dtdNotation=function(e,t,r){return this.stream.write(XMLStreamWriter.__super__.dtdNotation.call(this,e,t,r))};return XMLStreamWriter}(o)}).call(this)},5913:function(e,t,r){(function(){var t,n,extend=function(e,t){for(var r in t){if(i.call(t,r))e[r]=t[r]}function ctor(){this.constructor=e}ctor.prototype=t.prototype;e.prototype=new ctor;e.__super__=t.prototype;return e},i={}.hasOwnProperty;n=r(6752);e.exports=t=function(e){extend(XMLStringWriter,e);function XMLStringWriter(e){XMLStringWriter.__super__.constructor.call(this,e)}XMLStringWriter.prototype.document=function(e,t){var r,n,i,o,s;t=this.filterOptions(t);o="";s=e.children;for(n=0,i=s.length;n<i;n++){r=s[n];o+=this.writeChildNode(r,t,0)}if(t.pretty&&o.slice(-t.newline.length)===t.newline){o=o.slice(0,-t.newline.length)}return o};return XMLStringWriter}(n)}).call(this)},8594:function(e){(function(){var t,bind=function(e,t){return function(){return e.apply(t,arguments)}},r={}.hasOwnProperty;e.exports=t=function(){function XMLStringifier(e){this.assertLegalName=bind(this.assertLegalName,this);this.assertLegalChar=bind(this.assertLegalChar,this);var t,n,i;e||(e={});this.options=e;if(!this.options.version){this.options.version="1.0"}n=e.stringify||{};for(t in n){if(!r.call(n,t))continue;i=n[t];this[t]=i}}XMLStringifier.prototype.name=function(e){if(this.options.noValidation){return e}return this.assertLegalName(""+e||"")};XMLStringifier.prototype.text=function(e){if(this.options.noValidation){return e}return this.assertLegalChar(this.textEscape(""+e||""))};XMLStringifier.prototype.cdata=function(e){if(this.options.noValidation){return e}e=""+e||"";e=e.replace("]]>","]]]]><![CDATA[>");return this.assertLegalChar(e)};XMLStringifier.prototype.comment=function(e){if(this.options.noValidation){return e}e=""+e||"";if(e.match(/--/)){throw new Error("Comment text cannot contain double-hypen: "+e)}return this.assertLegalChar(e)};XMLStringifier.prototype.raw=function(e){if(this.options.noValidation){return e}return""+e||""};XMLStringifier.prototype.attValue=function(e){if(this.options.noValidation){return e}return this.assertLegalChar(this.attEscape(e=""+e||""))};XMLStringifier.prototype.insTarget=function(e){if(this.options.noValidation){return e}return this.assertLegalChar(""+e||"")};XMLStringifier.prototype.insValue=function(e){if(this.options.noValidation){return e}e=""+e||"";if(e.match(/\?>/)){throw new Error("Invalid processing instruction value: "+e)}return this.assertLegalChar(e)};XMLStringifier.prototype.xmlVersion=function(e){if(this.options.noValidation){return e}e=""+e||"";if(!e.match(/1\.[0-9]+/)){throw new Error("Invalid version number: "+e)}return e};XMLStringifier.prototype.xmlEncoding=function(e){if(this.options.noValidation){return e}e=""+e||"";if(!e.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/)){throw new Error("Invalid encoding: "+e)}return this.assertLegalChar(e)};XMLStringifier.prototype.xmlStandalone=function(e){if(this.options.noValidation){return e}if(e){return"yes"}else{return"no"}};XMLStringifier.prototype.dtdPubID=function(e){if(this.options.noValidation){return e}return this.assertLegalChar(""+e||"")};XMLStringifier.prototype.dtdSysID=function(e){if(this.options.noValidation){return e}return this.assertLegalChar(""+e||"")};XMLStringifier.prototype.dtdElementValue=function(e){if(this.options.noValidation){return e}return this.assertLegalChar(""+e||"")};XMLStringifier.prototype.dtdAttType=function(e){if(this.options.noValidation){return e}return this.assertLegalChar(""+e||"")};XMLStringifier.prototype.dtdAttDefault=function(e){if(this.options.noValidation){return e}return this.assertLegalChar(""+e||"")};XMLStringifier.prototype.dtdEntityValue=function(e){if(this.options.noValidation){return e}return this.assertLegalChar(""+e||"")};XMLStringifier.prototype.dtdNData=function(e){if(this.options.noValidation){return e}return this.assertLegalChar(""+e||"")};XMLStringifier.prototype.convertAttKey="@";XMLStringifier.prototype.convertPIKey="?";XMLStringifier.prototype.convertTextKey="#text";XMLStringifier.prototype.convertCDataKey="#cdata";XMLStringifier.prototype.convertCommentKey="#comment";XMLStringifier.prototype.convertRawKey="#raw";XMLStringifier.prototype.assertLegalChar=function(e){var t,r;if(this.options.noValidation){return e}t="";if(this.options.version==="1.0"){t=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/;if(r=e.match(t)){throw new Error("Invalid character in string: "+e+" at index "+r.index)}}else if(this.options.version==="1.1"){t=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/;if(r=e.match(t)){throw new Error("Invalid character in string: "+e+" at index "+r.index)}}return e};XMLStringifier.prototype.assertLegalName=function(e){var t;if(this.options.noValidation){return e}this.assertLegalChar(e);t=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/;if(!e.match(t)){throw new Error("Invalid character in name")}return e};XMLStringifier.prototype.textEscape=function(e){var t;if(this.options.noValidation){return e}t=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g;return e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")};XMLStringifier.prototype.attEscape=function(e){var t;if(this.options.noValidation){return e}t=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g;return e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")};return XMLStringifier}()}).call(this)},1318:function(e,t,r){(function(){var t,n,i,extend=function(e,t){for(var r in t){if(o.call(t,r))e[r]=t[r]}function ctor(){this.constructor=e}ctor.prototype=t.prototype;e.prototype=new ctor;e.__super__=t.prototype;return e},o={}.hasOwnProperty;t=r(9267);n=r(7709);e.exports=i=function(e){extend(XMLText,e);function XMLText(e,r){XMLText.__super__.constructor.call(this,e);if(r==null){throw new Error("Missing element text. "+this.debugInfo())}this.name="#text";this.type=t.Text;this.value=this.stringify.text(r)}Object.defineProperty(XMLText.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}});Object.defineProperty(XMLText.prototype,"wholeText",{get:function(){var e,t,r;r="";t=this.previousSibling;while(t){r=t.data+r;t=t.previousSibling}r+=this.data;e=this.nextSibling;while(e){r=r+e.data;e=e.nextSibling}return r}});XMLText.prototype.clone=function(){return Object.create(this)};XMLText.prototype.toString=function(e){return this.options.writer.text(this,this.options.writer.filterOptions(e))};XMLText.prototype.splitText=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};XMLText.prototype.replaceWholeText=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())};return XMLText}(n)}).call(this)},6752:function(e,t,r){(function(){var t,n,i,o,s,a,c,l,u,d,p,f,h,m,y,g,A,b={}.hasOwnProperty;A=r(8229).assign;t=r(9267);u=r(6364);d=r(1801);i=r(333);o=r(4407);f=r(9437);m=r(6329);y=r(1318);h=r(6939);p=r(3590);s=r(1015);a=r(2421);c=r(53);l=r(2837);n=r(9766);e.exports=g=function(){function XMLWriterBase(e){var t,r,n;e||(e={});this.options=e;r=e.writer||{};for(t in r){if(!b.call(r,t))continue;n=r[t];this["_"+t]=this[t];this[t]=n}}XMLWriterBase.prototype.filterOptions=function(e){var t,r,i,o,s,a,c,l;e||(e={});e=A({},this.options,e);t={writer:this};t.pretty=e.pretty||false;t.allowEmpty=e.allowEmpty||false;t.indent=(r=e.indent)!=null?r:"  ";t.newline=(i=e.newline)!=null?i:"\n";t.offset=(o=e.offset)!=null?o:0;t.dontPrettyTextNodes=(s=(a=e.dontPrettyTextNodes)!=null?a:e.dontprettytextnodes)!=null?s:0;t.spaceBeforeSlash=(c=(l=e.spaceBeforeSlash)!=null?l:e.spacebeforeslash)!=null?c:"";if(t.spaceBeforeSlash===true){t.spaceBeforeSlash=" "}t.suppressPrettyCount=0;t.user={};t.state=n.None;return t};XMLWriterBase.prototype.indent=function(e,t,r){var n;if(!t.pretty||t.suppressPrettyCount){return""}else if(t.pretty){n=(r||0)+t.offset+1;if(n>0){return new Array(n).join(t.indent)}}return""};XMLWriterBase.prototype.endline=function(e,t,r){if(!t.pretty||t.suppressPrettyCount){return""}else{return t.newline}};XMLWriterBase.prototype.attribute=function(e,t,r){var n;this.openAttribute(e,t,r);n=" "+e.name+'="'+e.value+'"';this.closeAttribute(e,t,r);return n};XMLWriterBase.prototype.cdata=function(e,t,r){var i;this.openNode(e,t,r);t.state=n.OpenTag;i=this.indent(e,t,r)+"<![CDATA[";t.state=n.InsideTag;i+=e.value;t.state=n.CloseTag;i+="]]>"+this.endline(e,t,r);t.state=n.None;this.closeNode(e,t,r);return i};XMLWriterBase.prototype.comment=function(e,t,r){var i;this.openNode(e,t,r);t.state=n.OpenTag;i=this.indent(e,t,r)+"\x3c!-- ";t.state=n.InsideTag;i+=e.value;t.state=n.CloseTag;i+=" --\x3e"+this.endline(e,t,r);t.state=n.None;this.closeNode(e,t,r);return i};XMLWriterBase.prototype.declaration=function(e,t,r){var i;this.openNode(e,t,r);t.state=n.OpenTag;i=this.indent(e,t,r)+"<?xml";t.state=n.InsideTag;i+=' version="'+e.version+'"';if(e.encoding!=null){i+=' encoding="'+e.encoding+'"'}if(e.standalone!=null){i+=' standalone="'+e.standalone+'"'}t.state=n.CloseTag;i+=t.spaceBeforeSlash+"?>";i+=this.endline(e,t,r);t.state=n.None;this.closeNode(e,t,r);return i};XMLWriterBase.prototype.docType=function(e,t,r){var i,o,s,a,c;r||(r=0);this.openNode(e,t,r);t.state=n.OpenTag;a=this.indent(e,t,r);a+="<!DOCTYPE "+e.root().name;if(e.pubID&&e.sysID){a+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"'}else if(e.sysID){a+=' SYSTEM "'+e.sysID+'"'}if(e.children.length>0){a+=" [";a+=this.endline(e,t,r);t.state=n.InsideTag;c=e.children;for(o=0,s=c.length;o<s;o++){i=c[o];a+=this.writeChildNode(i,t,r+1)}t.state=n.CloseTag;a+="]"}t.state=n.CloseTag;a+=t.spaceBeforeSlash+">";a+=this.endline(e,t,r);t.state=n.None;this.closeNode(e,t,r);return a};XMLWriterBase.prototype.element=function(e,r,i){var o,s,a,c,l,u,d,p,f,h,m,y,g,A;i||(i=0);h=false;m="";this.openNode(e,r,i);r.state=n.OpenTag;m+=this.indent(e,r,i)+"<"+e.name;y=e.attribs;for(f in y){if(!b.call(y,f))continue;o=y[f];m+=this.attribute(o,r,i)}a=e.children.length;c=a===0?null:e.children[0];if(a===0||e.children.every((function(e){return(e.type===t.Text||e.type===t.Raw)&&e.value===""}))){if(r.allowEmpty){m+=">";r.state=n.CloseTag;m+="</"+e.name+">"+this.endline(e,r,i)}else{r.state=n.CloseTag;m+=r.spaceBeforeSlash+"/>"+this.endline(e,r,i)}}else if(r.pretty&&a===1&&(c.type===t.Text||c.type===t.Raw)&&c.value!=null){m+=">";r.state=n.InsideTag;r.suppressPrettyCount++;h=true;m+=this.writeChildNode(c,r,i+1);r.suppressPrettyCount--;h=false;r.state=n.CloseTag;m+="</"+e.name+">"+this.endline(e,r,i)}else{if(r.dontPrettyTextNodes){g=e.children;for(l=0,d=g.length;l<d;l++){s=g[l];if((s.type===t.Text||s.type===t.Raw)&&s.value!=null){r.suppressPrettyCount++;h=true;break}}}m+=">"+this.endline(e,r,i);r.state=n.InsideTag;A=e.children;for(u=0,p=A.length;u<p;u++){s=A[u];m+=this.writeChildNode(s,r,i+1)}r.state=n.CloseTag;m+=this.indent(e,r,i)+"</"+e.name+">";if(h){r.suppressPrettyCount--}m+=this.endline(e,r,i);r.state=n.None}this.closeNode(e,r,i);return m};XMLWriterBase.prototype.writeChildNode=function(e,r,n){switch(e.type){case t.CData:return this.cdata(e,r,n);case t.Comment:return this.comment(e,r,n);case t.Element:return this.element(e,r,n);case t.Raw:return this.raw(e,r,n);case t.Text:return this.text(e,r,n);case t.ProcessingInstruction:return this.processingInstruction(e,r,n);case t.Dummy:return"";case t.Declaration:return this.declaration(e,r,n);case t.DocType:return this.docType(e,r,n);case t.AttributeDeclaration:return this.dtdAttList(e,r,n);case t.ElementDeclaration:return this.dtdElement(e,r,n);case t.EntityDeclaration:return this.dtdEntity(e,r,n);case t.NotationDeclaration:return this.dtdNotation(e,r,n);default:throw new Error("Unknown XML node type: "+e.constructor.name)}};XMLWriterBase.prototype.processingInstruction=function(e,t,r){var i;this.openNode(e,t,r);t.state=n.OpenTag;i=this.indent(e,t,r)+"<?";t.state=n.InsideTag;i+=e.target;if(e.value){i+=" "+e.value}t.state=n.CloseTag;i+=t.spaceBeforeSlash+"?>";i+=this.endline(e,t,r);t.state=n.None;this.closeNode(e,t,r);return i};XMLWriterBase.prototype.raw=function(e,t,r){var i;this.openNode(e,t,r);t.state=n.OpenTag;i=this.indent(e,t,r);t.state=n.InsideTag;i+=e.value;t.state=n.CloseTag;i+=this.endline(e,t,r);t.state=n.None;this.closeNode(e,t,r);return i};XMLWriterBase.prototype.text=function(e,t,r){var i;this.openNode(e,t,r);t.state=n.OpenTag;i=this.indent(e,t,r);t.state=n.InsideTag;i+=e.value;t.state=n.CloseTag;i+=this.endline(e,t,r);t.state=n.None;this.closeNode(e,t,r);return i};XMLWriterBase.prototype.dtdAttList=function(e,t,r){var i;this.openNode(e,t,r);t.state=n.OpenTag;i=this.indent(e,t,r)+"<!ATTLIST";t.state=n.InsideTag;i+=" "+e.elementName+" "+e.attributeName+" "+e.attributeType;if(e.defaultValueType!=="#DEFAULT"){i+=" "+e.defaultValueType}if(e.defaultValue){i+=' "'+e.defaultValue+'"'}t.state=n.CloseTag;i+=t.spaceBeforeSlash+">"+this.endline(e,t,r);t.state=n.None;this.closeNode(e,t,r);return i};XMLWriterBase.prototype.dtdElement=function(e,t,r){var i;this.openNode(e,t,r);t.state=n.OpenTag;i=this.indent(e,t,r)+"<!ELEMENT";t.state=n.InsideTag;i+=" "+e.name+" "+e.value;t.state=n.CloseTag;i+=t.spaceBeforeSlash+">"+this.endline(e,t,r);t.state=n.None;this.closeNode(e,t,r);return i};XMLWriterBase.prototype.dtdEntity=function(e,t,r){var i;this.openNode(e,t,r);t.state=n.OpenTag;i=this.indent(e,t,r)+"<!ENTITY";t.state=n.InsideTag;if(e.pe){i+=" %"}i+=" "+e.name;if(e.value){i+=' "'+e.value+'"'}else{if(e.pubID&&e.sysID){i+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"'}else if(e.sysID){i+=' SYSTEM "'+e.sysID+'"'}if(e.nData){i+=" NDATA "+e.nData}}t.state=n.CloseTag;i+=t.spaceBeforeSlash+">"+this.endline(e,t,r);t.state=n.None;this.closeNode(e,t,r);return i};XMLWriterBase.prototype.dtdNotation=function(e,t,r){var i;this.openNode(e,t,r);t.state=n.OpenTag;i=this.indent(e,t,r)+"<!NOTATION";t.state=n.InsideTag;i+=" "+e.name;if(e.pubID&&e.sysID){i+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"'}else if(e.pubID){i+=' PUBLIC "'+e.pubID+'"'}else if(e.sysID){i+=' SYSTEM "'+e.sysID+'"'}t.state=n.CloseTag;i+=t.spaceBeforeSlash+">"+this.endline(e,t,r);t.state=n.None;this.closeNode(e,t,r);return i};XMLWriterBase.prototype.openNode=function(e,t,r){};XMLWriterBase.prototype.closeNode=function(e,t,r){};XMLWriterBase.prototype.openAttribute=function(e,t,r){};XMLWriterBase.prototype.closeAttribute=function(e,t,r){};return XMLWriterBase}()}).call(this)},2958:function(e,t,r){(function(){var t,n,i,o,s,a,c,l,u,d;d=r(8229),l=d.assign,u=d.isFunction;i=r(8310);o=r(3730);s=r(7356);c=r(5913);a=r(8601);t=r(9267);n=r(9766);e.exports.create=function(e,t,r,n){var i,s;if(e==null){throw new Error("Root element needs a name.")}n=l({},t,r,n);i=new o(n);s=i.element(e);if(!n.headless){i.declaration(n);if(n.pubID!=null||n.sysID!=null){i.dtd(n)}}return s};e.exports.begin=function(e,t,r){var n;if(u(e)){n=[e,t],t=n[0],r=n[1];e={}}if(t){return new s(e,t,r)}else{return new o(e)}};e.exports.stringWriter=function(e){return new c(e)};e.exports.streamWriter=function(e,t){return new a(e,t)};e.exports.implementation=new i;e.exports.nodeType=t;e.exports.writerState=n}).call(this)},2357:e=>{"use strict";e.exports=require("assert")},1531:e=>{"use strict";e.exports=require("cluster")},7619:e=>{"use strict";e.exports=require("constants")},6417:e=>{"use strict";e.exports=require("crypto")},8614:e=>{"use strict";e.exports=require("events")},5747:e=>{"use strict";e.exports=require("fs")},8605:e=>{"use strict";e.exports=require("http")},7211:e=>{"use strict";e.exports=require("https")},1631:e=>{"use strict";e.exports=require("net")},2087:e=>{"use strict";e.exports=require("os")},5622:e=>{"use strict";e.exports=require("path")},1765:e=>{"use strict";e.exports=require("process")},2413:e=>{"use strict";e.exports=require("stream")},4304:e=>{"use strict";e.exports=require("string_decoder")},8213:e=>{"use strict";e.exports=require("timers")},4016:e=>{"use strict";e.exports=require("tls")},3867:e=>{"use strict";e.exports=require("tty")},8835:e=>{"use strict";e.exports=require("url")},1669:e=>{"use strict";e.exports=require("util")},1903:e=>{"use strict";e.exports=require("zlib")}};var t={};function __nccwpck_require__(r){var n=t[r];if(n!==undefined){return n.exports}var i=t[r]={exports:{}};var o=true;try{e[r].call(i.exports,i,i.exports,__nccwpck_require__);o=false}finally{if(o)delete t[r]}return i.exports}if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var r=__nccwpck_require__(3109);module.exports=r})();